import{$ as by,$a as Qa,$b as im,A as he,Aa as yy,Ab as Zf,Ac as By,B as za,Ba as Pu,Bb as em,C as Rn,Ca as wy,Cb as bs,D as Su,Da as en,Db as Cy,E as $f,Ea as Wn,Eb as Fu,F as fy,Fa as Ga,Fb as Lu,G as Er,Ga as Yf,Gb as Vu,H as hs,Ha as Ou,Hb as Xa,I as fs,Ia as Wa,Ib as Sy,J as my,Ja as K,Jb as tm,K as qf,Ka as Z,Kb as Ki,L as ln,La as Mu,Lb as ky,M as py,Ma as Iy,Mb as Ry,N as $a,Na as ms,Nb as Dy,O as Tr,Oa as ps,Ob as bn,P as Hf,Pa as gs,Pb as _s,Q as gy,Qa as Ey,Qb as Za,R as Gf,Ra as Ka,Rb as xr,S as vy,Sa as vn,Sb as ys,T as qa,Ta as mi,Tb as Py,U as Gn,Ua as Ty,Ub as Oy,V as ku,Va as Ay,Vb as mt,W as vt,Wa as Ge,Wb as Uu,X as Je,Xa as Pt,Xb as nm,Y as di,Ya as ee,Yb as My,Z as ne,Za as vs,Zb as ju,_ as Ne,_a as Ot,_b as ws,a as B,aa as ye,ab as U,ac as Ny,b as Ee,ba as Wf,bb as j,bc as on,c as sy,ca as X,cb as Pe,cc as Fy,d as vS,da as te,db as Nu,dc as Is,e as bS,ea as At,eb as bt,ec,f as wr,fa as Ha,fb as Ya,fc as Ly,g as I,ga as dt,gb as be,h as ay,ha as Fe,hb as Ie,i as Lf,ia as Be,ib as ho,j as ui,ja as Jt,jb as fo,k as Vf,ka as _y,kb as Ar,l as Uf,la as Ru,lb as qi,lc as Vy,m as Hn,ma as hi,mb as Hi,mc as tc,n as cn,na as $i,nb as Ja,nc as Bu,o as cy,oa as Se,ob as ie,p as ly,pa as ke,pb as Gi,q as Ir,qa as Xt,qb as pi,r as jf,ra as Dn,rb as tn,s as Bf,sa as fi,sb as nn,sc as Uy,t as zf,ta as Du,tb as rn,tc as zu,u as Yt,ua as Pn,ub as un,v as pe,va as Kf,vb as ft,vc as jy,w as Ba,wa as Zt,wb as xy,x as uy,xa as Re,xb as Wi,y as dy,ya as Qf,yb as Jf,z as hy,za as ht,zb as Xf}from"./chunk-7IBNEFRT.js";var rx=vS((Ri,Zb)=>{"use strict";(function(n,e){typeof Ri=="object"&&typeof Zb<"u"?Zb.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Ri,function(){"use strict";function n(v,l){(l==null||l>v.length)&&(l=v.length);for(var h=0,g=Array(l);h<l;h++)g[h]=v[h];return g}function e(v){if(Array.isArray(v))return v}function t(v){if(Array.isArray(v))return n(v)}function i(v,l,h){if(typeof v=="function"?v===l:v.has(l))return arguments.length<3?l:h;throw new TypeError("Private element is not present on this object")}function r(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function o(v,l,h){return l=F(l),x(v,W()?Reflect.construct(l,h||[],F(v).constructor):l.apply(v,h))}function s(v,l){if(l.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(v,l){if(!(v instanceof l))throw new TypeError("Cannot call a class as a function")}function u(v,l){return v.get(i(v,l))}function d(v,l,h){s(v,l),l.set(v,h)}function m(v,l,h){return v.set(i(v,l),h),h}function b(v,l,h){if(W())return Reflect.construct.apply(null,arguments);var g=[null];g.push.apply(g,l);var E=new(v.bind.apply(v,g));return E}function y(v,l){for(var h=0;h<l.length;h++){var g=l[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,Ke(g.key),g)}}function C(v,l,h){return l&&y(v.prototype,l),Object.defineProperty(v,"prototype",{writable:!1}),v}function P(v,l){var h=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!h){if(Array.isArray(v)||(h=dr(v))||l){h&&(v=h);var g=0,E=function(){};return{s:E,n:function(){return g>=v.length?{done:!0}:{done:!1,value:v[g++]}},e:function(me){throw me},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,H=!0,ve=!1;return{s:function(){h=h.call(v)},n:function(){var me=h.next();return H=me.done,me},e:function(me){ve=!0,N=me},f:function(){try{H||h.return==null||h.return()}finally{if(ve)throw N}}}}function L(){return L=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,l,h){var g=S(v,l);if(g){var E=Object.getOwnPropertyDescriptor(g,l);return E.get?E.get.call(arguments.length<3?v:h):E.value}},L.apply(null,arguments)}function F(v){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},F(v)}function G(v,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(l&&l.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),l&&w(v,l)}function W(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W=function(){return!!v})()}function q(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function Q(v,l){var h=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(h!=null){var g,E,N,H,ve=[],me=!0,it=!1;try{if(N=(h=h.call(v)).next,l!==0)for(;!(me=(g=N.call(h)).done)&&(ve.push(g.value),ve.length!==l);me=!0);}catch(ja){it=!0,E=ja}finally{try{if(!me&&h.return!=null&&(H=h.return(),Object(H)!==H))return}finally{if(it)throw E}}return ve}}function le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(v,l){if(l&&(typeof l=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(v)}function w(v,l){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,g){return h.__proto__=g,h},w(v,l)}function T(v,l){return e(v)||Q(v,l)||dr(v,l)||le()}function S(v,l){for(;!{}.hasOwnProperty.call(v,l)&&(v=F(v))!==null;);return v}function k(v,l,h,g){var E=L(F(v.prototype),l,h);return function(N){return E.apply(h,N)}}function D(v){return t(v)||q(v)||dr(v)||se()}function A(v,l){if(typeof v!="object"||!v)return v;var h=v[Symbol.toPrimitive];if(h!==void 0){var g=h.call(v,l);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function Ke(v){var l=A(v,"string");return typeof l=="symbol"?l:l+""}function He(v){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},He(v)}function dr(v,l){if(v){if(typeof v=="string")return n(v,l);var h={}.toString.call(v).slice(8,-1);return h==="Object"&&v.constructor&&(h=v.constructor.name),h==="Map"||h==="Set"?Array.from(v):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?n(v,l):void 0}}var zr=100,ue={},ya=function(){ue.previousActiveElement instanceof HTMLElement?(ue.previousActiveElement.focus(),ue.previousActiveElement=null):document.body&&document.body.focus()},zl=function(l){return new Promise(function(h){if(!l)return h();var g=window.scrollX,E=window.scrollY;ue.restoreFocusTimeout=setTimeout(function(){ya(),h()},zr),window.scrollTo(g,E)})},$l="swal2-",ii=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],O=ii.reduce(function(v,l){return v[l]=$l+l,v},{}),vf=["success","warning","info","question","error"],ri=vf.reduce(function(v,l){return v[l]=$l+l,v},{}),ql="SweetAlert2:",Mi=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},Lt=function(l){console.warn("".concat(ql," ").concat(He(l)==="object"?l.join(" "):l))},Ni=function(l){console.error("".concat(ql," ").concat(l))},$r=[],Jo=function(l){$r.includes(l)||($r.push(l),Lt(l))},Xo=function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Jo('"'.concat(l,'" is deprecated and will be removed in the next major release.').concat(h?' Use "'.concat(h,'" instead.'):""))},hr=function(l){return typeof l=="function"?l():l},qr=function(l){return l&&typeof l.toPromise=="function"},Fi=function(l){return qr(l)?l.toPromise():Promise.resolve(l)},Zo=function(l){return l&&Promise.resolve(l)===l},Dt=function(){return document.body.querySelector(".".concat(O.container))},Hr=function(l){var h=Dt();return h?h.querySelector(l):null},Vt=function(l){return Hr(".".concat(l))},De=function(){return Vt(O.popup)},Li=function(){return Vt(O.icon)},Hl=function(){return Vt(O["icon-content"])},Gl=function(){return Vt(O.title)},Gr=function(){return Vt(O["html-container"])},es=function(){return Vt(O.image)},Wr=function(){return Vt(O["progress-steps"])},ct=function(){return Vt(O["validation-message"])},Qe=function(){return Hr(".".concat(O.actions," .").concat(O.confirm))},Ln=function(){return Hr(".".concat(O.actions," .").concat(O.cancel))},oi=function(){return Hr(".".concat(O.actions," .").concat(O.deny))},Wl=function(){return Vt(O["input-label"])},fr=function(){return Hr(".".concat(O.loader))},Vn=function(){return Vt(O.actions)},wa=function(){return Vt(O.footer)},Kr=function(){return Vt(O["timer-progress-bar"])},Qr=function(){return Vt(O.close)},bf=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ia=function(){var l=De();if(!l)return[];var h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(h).sort(function(H,ve){var me=parseInt(H.getAttribute("tabindex")||"0"),it=parseInt(ve.getAttribute("tabindex")||"0");return me>it?1:me<it?-1:0}),E=l.querySelectorAll(bf),N=Array.from(E).filter(function(H){return H.getAttribute("tabindex")!=="-1"});return D(new Set(g.concat(N))).filter(function(H){return Ut(H)})},Yr=function(){return pn(document.body,O.shown)&&!pn(document.body,O["toast-shown"])&&!pn(document.body,O["no-backdrop"])},Jr=function(){var l=De();return l?pn(l,O.toast):!1},Kl=function(){var l=De();return l?l.hasAttribute("data-loading"):!1},Et=function(l,h){if(l.textContent="",h){var g=new DOMParser,E=g.parseFromString(h,"text/html"),N=E.querySelector("head");N&&Array.from(N.childNodes).forEach(function(ve){l.appendChild(ve)});var H=E.querySelector("body");H&&Array.from(H.childNodes).forEach(function(ve){ve instanceof HTMLVideoElement||ve instanceof HTMLAudioElement?l.appendChild(ve.cloneNode(!0)):l.appendChild(ve)})}},pn=function(l,h){if(!h)return!1;for(var g=h.split(/\s+/),E=0;E<g.length;E++)if(!l.classList.contains(g[E]))return!1;return!0},Ea=function(l,h){Array.from(l.classList).forEach(function(g){!Object.values(O).includes(g)&&!Object.values(ri).includes(g)&&!Object.values(h.showClass||{}).includes(g)&&l.classList.remove(g)})},lt=function(l,h,g){if(Ea(l,h),!!h.customClass){var E=h.customClass[g];if(E){if(typeof E!="string"&&!E.forEach){Lt("Invalid type of customClass.".concat(g,'! Expected string or iterable object, got "').concat(He(E),'"'));return}we(l,E)}}},Xr=function(l,h){if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(".".concat(O.popup," > .").concat(O[h]));case"checkbox":return l.querySelector(".".concat(O.popup," > .").concat(O.checkbox," input"));case"radio":return l.querySelector(".".concat(O.popup," > .").concat(O.radio," input:checked"))||l.querySelector(".".concat(O.popup," > .").concat(O.radio," input:first-child"));case"range":return l.querySelector(".".concat(O.popup," > .").concat(O.range," input"));default:return l.querySelector(".".concat(O.popup," > .").concat(O.input))}},Zr=function(l){if(l.focus(),l.type!=="file"){var h=l.value;l.value="",l.value=h}},Ta=function(l,h,g){!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(function(E){Array.isArray(l)?l.forEach(function(N){g?N.classList.add(E):N.classList.remove(E)}):g?l.classList.add(E):l.classList.remove(E)}))},we=function(l,h){Ta(l,h,!0)},gn=function(l,h){Ta(l,h,!1)},Xe=function(l,h){for(var g=Array.from(l.children),E=0;E<g.length;E++){var N=g[E];if(N instanceof HTMLElement&&pn(N,h))return N}},si=function(l,h,g){g==="".concat(parseInt(g))&&(g=parseInt(g)),g||parseInt(g)===0?l.style.setProperty(h,typeof g=="number"?"".concat(g,"px"):g):l.style.removeProperty(h)},Ze=function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},nt=function(l){l&&(l.style.display="none")},Aa=function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(function(){Cn(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},Ql=function(l,h,g,E){var N=l.querySelector(h);N&&N.style.setProperty(g,E)},Cn=function(l,h){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Ze(l,g):nt(l)},Ut=function(l){return!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length))},_f=function(){return!Ut(Qe())&&!Ut(oi())&&!Ut(Ln())},eo=function(l){return l.scrollHeight>l.clientHeight},xa=function(l){var h=window.getComputedStyle(l),g=parseFloat(h.getPropertyValue("animation-duration")||"0"),E=parseFloat(h.getPropertyValue("transition-duration")||"0");return g>0||E>0},to=function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=Kr();g&&Ut(g)&&(h&&(g.style.transition="none",g.style.width="100%"),setTimeout(function(){g.style.transition="width ".concat(l/1e3,"s linear"),g.style.width="0%"},10))},ts=function(){var l=Kr();if(l){var h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";var g=parseInt(window.getComputedStyle(l).width),E=h/g*100;l.style.width="".concat(E,"%")}},Un=function(){return typeof window>"u"||typeof document>"u"},Yl=`
 <div aria-labelledby="`.concat(O.title,'" aria-describedby="').concat(O["html-container"],'" class="').concat(O.popup,`" tabindex="-1">
   <button type="button" class="`).concat(O.close,`"></button>
   <ul class="`).concat(O["progress-steps"],`"></ul>
   <div class="`).concat(O.icon,`"></div>
   <img class="`).concat(O.image,`" />
   <h2 class="`).concat(O.title,'" id="').concat(O.title,`"></h2>
   <div class="`).concat(O["html-container"],'" id="').concat(O["html-container"],`"></div>
   <input class="`).concat(O.input,'" id="').concat(O.input,`" />
   <input type="file" class="`).concat(O.file,`" />
   <div class="`).concat(O.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(O.select,'" id="').concat(O.select,`"></select>
   <div class="`).concat(O.radio,`"></div>
   <label class="`).concat(O.checkbox,`">
     <input type="checkbox" id="`).concat(O.checkbox,`" />
     <span class="`).concat(O.label,`"></span>
   </label>
   <textarea class="`).concat(O.textarea,'" id="').concat(O.textarea,`"></textarea>
   <div class="`).concat(O["validation-message"],'" id="').concat(O["validation-message"],`"></div>
   <div class="`).concat(O.actions,`">
     <div class="`).concat(O.loader,`"></div>
     <button type="button" class="`).concat(O.confirm,`"></button>
     <button type="button" class="`).concat(O.deny,`"></button>
     <button type="button" class="`).concat(O.cancel,`"></button>
   </div>
   <div class="`).concat(O.footer,`"></div>
   <div class="`).concat(O["timer-progress-bar-container"],`">
     <div class="`).concat(O["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Jl=function(){var l=Dt();return l?(l.remove(),gn([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0):!1},jn=function(){ue.currentInstance.resetValidationMessage()},Ca=function(){var l=De(),h=Xe(l,O.input),g=Xe(l,O.file),E=l.querySelector(".".concat(O.range," input")),N=l.querySelector(".".concat(O.range," output")),H=Xe(l,O.select),ve=l.querySelector(".".concat(O.checkbox," input")),me=Xe(l,O.textarea);h.oninput=jn,g.onchange=jn,H.onchange=jn,ve.onchange=jn,me.oninput=jn,E.oninput=function(){jn(),N.value=E.value},E.onchange=function(){jn(),N.value=E.value}},Xl=function(l){return typeof l=="string"?document.querySelector(l):l},Zl=function(l){var h=De();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},yf=function(l){window.getComputedStyle(l).direction==="rtl"&&we(Dt(),O.rtl)},ns=function(l){var h=Jl();if(Un()){Ni("SweetAlert2 requires document to initialize");return}var g=document.createElement("div");g.className=O.container,h&&we(g,O["no-transition"]),Et(g,Yl);var E=Xl(l.target);E.appendChild(g),Zl(l),yf(E),Ca()},is=function(l,h){l instanceof HTMLElement?h.appendChild(l):He(l)==="object"?Sa(l,h):l&&Et(h,l)},Sa=function(l,h){l.jquery?no(h,l):Et(h,l.toString())},no=function(l,h){if(l.textContent="",0 in h)for(var g=0;g in h;g++)l.appendChild(h[g].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},Kt=function(){if(Un())return!1;var v=document.createElement("div");return typeof v.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof v.style.animation<"u"?"animationend":!1}(),ka=function(l,h){var g=Vn(),E=fr();!g||!E||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?nt(g):Ze(g),lt(g,h,"actions"),wf(g,E,h),Et(E,h.loaderHtml||""),lt(E,h,"loader"))};function wf(v,l,h){var g=Qe(),E=oi(),N=Ln();!g||!E||!N||(rs(g,"confirm",h),rs(E,"deny",h),rs(N,"cancel",h),eu(g,E,N,h),h.reverseButtons&&(h.toast?(v.insertBefore(N,g),v.insertBefore(E,g)):(v.insertBefore(N,l),v.insertBefore(E,l),v.insertBefore(g,l))))}function eu(v,l,h,g){if(!g.buttonsStyling){gn([v,l,h],O.styled);return}we([v,l,h],O.styled),g.confirmButtonColor&&(v.style.backgroundColor=g.confirmButtonColor,we(v,O["default-outline"])),g.denyButtonColor&&(l.style.backgroundColor=g.denyButtonColor,we(l,O["default-outline"])),g.cancelButtonColor&&(h.style.backgroundColor=g.cancelButtonColor,we(h,O["default-outline"]))}function rs(v,l,h){var g=Mi(l);Cn(v,h["show".concat(g,"Button")],"inline-block"),Et(v,h["".concat(l,"ButtonText")]||""),v.setAttribute("aria-label",h["".concat(l,"ButtonAriaLabel")]||""),v.className=O[l],lt(v,h,"".concat(l,"Button"))}var tu=function(l,h){var g=Qr();g&&(Et(g,h.closeButtonHtml||""),lt(g,h,"closeButton"),Cn(g,h.showCloseButton),g.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Ra=function(l,h){var g=Dt();g&&(Da(g,h.backdrop),nu(g,h.position),iu(g,h.grow),lt(g,h,"container"))};function Da(v,l){typeof l=="string"?v.style.background=l:l||we([document.documentElement,document.body],O["no-backdrop"])}function nu(v,l){l&&(l in O?we(v,O[l]):(Lt('The "position" parameter is not valid, defaulting to "center"'),we(v,O.center)))}function iu(v,l){l&&we(v,O["grow-".concat(l)])}var ze={innerParams:new WeakMap,domCache:new WeakMap},If=["input","file","range","select","radio","checkbox","textarea"],ru=function(l,h){var g=De();if(g){var E=ze.innerParams.get(l),N=!E||h.input!==E.input;If.forEach(function(H){var ve=Xe(g,O[H]);ve&&(Vi(H,h.inputAttributes),ve.className=O[H],N&&nt(ve))}),h.input&&(N&&ou(h),Bn(h))}},ou=function(l){if(l.input){if(!Ye[l.input]){Ni("Unexpected type of input! Expected ".concat(Object.keys(Ye).join(" | "),', got "').concat(l.input,'"'));return}var h=Pa(l.input);if(h){var g=Ye[l.input](h,l);Ze(h),l.inputAutoFocus&&setTimeout(function(){Zr(g)})}}},Ef=function(l){for(var h=0;h<l.attributes.length;h++){var g=l.attributes[h].name;["id","type","value","style"].includes(g)||l.removeAttribute(g)}},Vi=function(l,h){var g=De();if(g){var E=Xr(g,l);if(E){Ef(E);for(var N in h)E.setAttribute(N,h[N])}}},Bn=function(l){if(l.input){var h=Pa(l.input);h&&lt(h,l,"input")}},mr=function(l,h){!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},ai=function(l,h,g){if(g.inputLabel){var E=document.createElement("label"),N=O["input-label"];E.setAttribute("for",l.id),E.className=N,He(g.customClass)==="object"&&we(E,g.customClass.inputLabel),E.innerText=g.inputLabel,h.insertAdjacentElement("beforebegin",E)}},Pa=function(l){var h=De();if(h)return Xe(h,O[l]||O.input)},Me=function(l,h){["string","number"].includes(He(h))?l.value="".concat(h):Zo(h)||Lt('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(He(h),'"'))},Ye={};Ye.text=Ye.email=Ye.password=Ye.number=Ye.tel=Ye.url=Ye.search=Ye.date=Ye["datetime-local"]=Ye.time=Ye.week=Ye.month=function(v,l){return Me(v,l.inputValue),ai(v,v,l),mr(v,l),v.type=l.input,v},Ye.file=function(v,l){return ai(v,v,l),mr(v,l),v},Ye.range=function(v,l){var h=v.querySelector("input"),g=v.querySelector("output");return Me(h,l.inputValue),h.type=l.input,Me(g,l.inputValue),ai(h,v,l),v},Ye.select=function(v,l){if(v.textContent="",l.inputPlaceholder){var h=document.createElement("option");Et(h,l.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,v.appendChild(h)}return ai(v,v,l),v},Ye.radio=function(v){return v.textContent="",v},Ye.checkbox=function(v,l){var h=Xr(De(),"checkbox");h.value="1",h.checked=!!l.inputValue;var g=v.querySelector("span");return Et(g,l.inputPlaceholder),h},Ye.textarea=function(v,l){Me(v,l.inputValue),mr(v,l),ai(v,v,l);var h=function(E){return parseInt(window.getComputedStyle(E).marginLeft)+parseInt(window.getComputedStyle(E).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var g=parseInt(window.getComputedStyle(De()).width),E=function(){if(document.body.contains(v)){var H=v.offsetWidth+h(v);H>g?De().style.width="".concat(H,"px"):si(De(),"width",l.width)}};new MutationObserver(E).observe(v,{attributes:!0,attributeFilter:["style"]})}}),v};var io=function(l,h){var g=Gr();g&&(Aa(g),lt(g,h,"htmlContainer"),h.html?(is(h.html,g),Ze(g,"block")):h.text?(g.textContent=h.text,Ze(g,"block")):nt(g),ru(l,h))},ro=function(l,h){var g=wa();g&&(Aa(g),Cn(g,h.footer,"block"),h.footer&&is(h.footer,g),lt(g,h,"footer"))},Tf=function(l,h){var g=ze.innerParams.get(l),E=Li();if(E){if(g&&h.icon===g.icon){su(E,h),Oa(E,h);return}if(!h.icon&&!h.iconHtml){nt(E);return}if(h.icon&&Object.keys(ri).indexOf(h.icon)===-1){Ni('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(h.icon,'"')),nt(E);return}Ze(E),su(E,h),Oa(E,h),we(E,h.showClass&&h.showClass.icon)}},Oa=function(l,h){for(var g=0,E=Object.entries(ri);g<E.length;g++){var N=T(E[g],2),H=N[0],ve=N[1];h.icon!==H&&gn(l,ve)}we(l,h.icon&&ri[h.icon]),oo(l,h),Af(),lt(l,h,"icon")},Af=function(){var l=De();if(l)for(var h=window.getComputedStyle(l).getPropertyValue("background-color"),g=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),E=0;E<g.length;E++)g[E].style.backgroundColor=h},xf=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Cf=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,su=function(l,h){if(!(!h.icon&&!h.iconHtml)){var g=l.innerHTML,E="";if(h.iconHtml)E=zn(h.iconHtml);else if(h.icon==="success")E=xf,g=g.replace(/ style=".*?"/g,"");else if(h.icon==="error")E=Cf;else if(h.icon){var N={question:"?",warning:"!",info:"i"};E=zn(N[h.icon])}g.trim()!==E.trim()&&Et(l,E)}},oo=function(l,h){if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(var g=0,E=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];g<E.length;g++){var N=E[g];Ql(l,N,"background-color",h.iconColor)}Ql(l,".swal2-success-ring","border-color",h.iconColor)}},zn=function(l){return'<div class="'.concat(O["icon-content"],'">').concat(l,"</div>")},au=function(l,h){var g=es();if(g){if(!h.imageUrl){nt(g);return}Ze(g,""),g.setAttribute("src",h.imageUrl),g.setAttribute("alt",h.imageAlt||""),si(g,"width",h.imageWidth),si(g,"height",h.imageHeight),g.className=O.image,lt(g,h,"image")}},cu=function(l,h){var g=Dt(),E=De();if(!(!g||!E)){if(h.toast){si(g,"width",h.width),E.style.width="100%";var N=fr();N&&E.insertBefore(N,Li())}else si(E,"width",h.width);si(E,"padding",h.padding),h.color&&(E.style.color=h.color),h.background&&(E.style.background=h.background),nt(ct()),lu(E,h)}},lu=function(l,h){var g=h.showClass||{};l.className="".concat(O.popup," ").concat(Ut(l)?g.popup:""),h.toast?(we([document.documentElement,document.body],O["toast-shown"]),we(l,O.toast)):we(l,O.modal),lt(l,h,"popup"),typeof h.customClass=="string"&&we(l,h.customClass),h.icon&&we(l,O["icon-".concat(h.icon)])},pr=function(l,h){var g=Wr();if(g){var E=h.progressSteps,N=h.currentProgressStep;if(!E||E.length===0||N===void 0){nt(g);return}Ze(g),g.textContent="",N>=E.length&&Lt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.forEach(function(H,ve){var me=Sf(H);if(g.appendChild(me),ve===N&&we(me,O["active-progress-step"]),ve!==E.length-1){var it=kf(h);g.appendChild(it)}})}},Sf=function(l){var h=document.createElement("li");return we(h,O["progress-step"]),Et(h,l),h},kf=function(l){var h=document.createElement("li");return we(h,O["progress-step-line"]),l.progressStepsDistance&&si(h,"width",l.progressStepsDistance),h},Rf=function(l,h){var g=Gl();g&&(Aa(g),Cn(g,h.title||h.titleText,"block"),h.title&&is(h.title,g),h.titleText&&(g.innerText=h.titleText),lt(g,h,"title"))},$n=function(l,h){cu(l,h),Ra(l,h),pr(l,h),Tf(l,h),au(l,h),Rf(l,h),tu(l,h),io(l,h),ka(l,h),ro(l,h);var g=De();typeof h.didRender=="function"&&g&&h.didRender(g)},Df=function(){return Ut(De())},uu=function(){var l;return(l=Qe())===null||l===void 0?void 0:l.click()},so=function(){var l;return(l=oi())===null||l===void 0?void 0:l.click()},os=function(){var l;return(l=Ln())===null||l===void 0?void 0:l.click()},Ui=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),gr=function(l){l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},ao=function(l,h,g){gr(l),h.toast||(l.keydownHandler=function(E){return Pf(h,E,g)},l.keydownTarget=h.keydownListenerCapture?window:De(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},ss=function(l,h){var g,E=Ia();if(E.length){l=l+h,l===E.length?l=0:l===-1&&(l=E.length-1),E[l].focus();return}(g=De())===null||g===void 0||g.focus()},as=["ArrowRight","ArrowDown"],et=["ArrowLeft","ArrowUp"],Pf=function(l,h,g){l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Of(h,l):h.key==="Tab"?du(h):[].concat(as,et).includes(h.key)?hu(h.key):h.key==="Escape"&&fu(h,l,g)))},Of=function(l,h){if(hr(h.allowEnterKey)){var g=Xr(De(),h.input);if(l.target&&g&&l.target instanceof HTMLElement&&l.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(h.input))return;uu(),l.preventDefault()}}},du=function(l){for(var h=l.target,g=Ia(),E=-1,N=0;N<g.length;N++)if(h===g[N]){E=N;break}l.shiftKey?ss(E,-1):ss(E,1),l.stopPropagation(),l.preventDefault()},hu=function(l){var h=Vn(),g=Qe(),E=oi(),N=Ln();if(!(!h||!g||!E||!N)){var H=[g,E,N];if(!(document.activeElement instanceof HTMLElement&&!H.includes(document.activeElement))){var ve=as.includes(l)?"nextElementSibling":"previousElementSibling",me=document.activeElement;if(me){for(var it=0;it<h.children.length;it++){if(me=me[ve],!me)return;if(me instanceof HTMLButtonElement&&Ut(me))break}me instanceof HTMLButtonElement&&me.focus()}}}},fu=function(l,h,g){hr(h.allowEscapeKey)&&(l.preventDefault(),g(Ui.esc))},qn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},mu=function(){var l=Dt(),h=Array.from(document.body.children);h.forEach(function(g){g.contains(l)||(g.hasAttribute("aria-hidden")&&g.setAttribute("data-previous-aria-hidden",g.getAttribute("aria-hidden")||""),g.setAttribute("aria-hidden","true"))})},Sn=function(){var l=Array.from(document.body.children);l.forEach(function(h){h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Ma=typeof window<"u"&&!!window.GestureEvent,Mf=function(){if(Ma&&!pn(document.body,O.iosfix)){var l=document.body.scrollTop;document.body.style.top="".concat(l*-1,"px"),we(document.body,O.iosfix),co()}},co=function(){var l=Dt();if(l){var h;l.ontouchstart=function(g){h=pu(g)},l.ontouchmove=function(g){h&&(g.preventDefault(),g.stopPropagation())}}},pu=function(l){var h=l.target,g=Dt(),E=Gr();return!g||!E||Na(l)||cs(l)?!1:h===g||!eo(g)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(eo(E)&&E.contains(h))},Na=function(l){return l.touches&&l.touches.length&&l.touches[0].touchType==="stylus"},cs=function(l){return l.touches&&l.touches.length>1},gu=function(){if(pn(document.body,O.iosfix)){var l=parseInt(document.body.style.top,10);gn(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},ls=function(){var l=document.createElement("div");l.className=O["scrollbar-measure"],document.body.appendChild(l);var h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},vr=null,vu=function(l){vr===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(vr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(vr+ls(),"px"))},lo=function(){vr!==null&&(document.body.style.paddingRight="".concat(vr,"px"),vr=null)};function Fa(v,l,h,g){Jr()?Ua(v,g):(zl(h).then(function(){return Ua(v,g)}),gr(ue)),Ma?(l.setAttribute("style","display:none !important"),l.removeAttribute("class"),l.innerHTML=""):l.remove(),Yr()&&(lo(),gu(),Sn()),bu()}function bu(){gn([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}function kn(v){v=_u(v);var l=qn.swalPromiseResolve.get(this),h=La(this);this.isAwaitingPromise?v.isDismissed||(ci(this),l(v)):h&&l(v)}var La=function(l){var h=De();if(!h)return!1;var g=ze.innerParams.get(l);if(!g||pn(h,g.hideClass.popup))return!1;gn(h,g.showClass.popup),we(h,g.hideClass.popup);var E=Dt();return gn(E,g.showClass.backdrop),we(E,g.hideClass.backdrop),yu(l,h,g),!0};function Va(v){var l=qn.swalPromiseReject.get(this);ci(this),l&&l(v)}var ci=function(l){l.isAwaitingPromise&&(delete l.isAwaitingPromise,ze.innerParams.get(l)||l._destroy())},_u=function(l){return typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l)},yu=function(l,h,g){var E=Dt(),N=Kt&&xa(h);typeof g.willClose=="function"&&g.willClose(h),N?ji(l,h,E,g.returnFocus,g.didClose):Fa(l,E,g.returnFocus,g.didClose)},ji=function(l,h,g,E,N){Kt&&(ue.swalCloseEventFinishedCallback=Fa.bind(null,l,g,E,N),h.addEventListener(Kt,function(H){H.target===h&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback)}))},Ua=function(l,h){setTimeout(function(){typeof h=="function"&&h.bind(l.params)(),l._destroy&&l._destroy()})},Bi=function(l){var h=De();if(h||new Cu,h=De(),!!h){var g=fr();Jr()?nt(Li()):wu(h,l),Ze(g),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()}},wu=function(l,h){var g=Vn(),E=fr();!g||!E||(!h&&Ut(Qe())&&(h=Qe()),Ze(g),h&&(nt(h),E.setAttribute("data-button-to-replace",h.className),g.insertBefore(E,h)),we([l,g],O.loading))},Iu=function(l,h){h.input==="select"||h.input==="radio"?br(l,h):["text","email","number","tel","textarea"].some(function(g){return g===h.input})&&(qr(h.inputValue)||Zo(h.inputValue))&&(Bi(Qe()),a(l,h))},us=function(l,h){var g=l.getInput();if(!g)return null;switch(h.input){case"checkbox":return Qt(g);case"radio":return Eu(g);case"file":return Tu(g);default:return h.inputAutoTrim?g.value.trim():g.value}},Qt=function(l){return l.checked?1:0},Eu=function(l){return l.checked?l.value:null},Tu=function(l){return l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null},br=function(l,h){var g=De();if(g){var E=function(H){h.input==="select"?f(g,_(H),h):h.input==="radio"&&p(g,_(H),h)};qr(h.inputOptions)||Zo(h.inputOptions)?(Bi(Qe()),Fi(h.inputOptions).then(function(N){l.hideLoading(),E(N)})):He(h.inputOptions)==="object"?E(h.inputOptions):Ni("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(He(h.inputOptions)))}},a=function(l,h){var g=l.getInput();g&&(nt(g),Fi(h.inputValue).then(function(E){g.value=h.input==="number"?"".concat(parseFloat(E)||0):"".concat(E),Ze(g),g.focus(),l.hideLoading()}).catch(function(E){Ni("Error in inputValue promise: ".concat(E)),g.value="",Ze(g),g.focus(),l.hideLoading()}))};function f(v,l,h){var g=Xe(v,O.select);if(g){var E=function(H,ve,me){var it=document.createElement("option");it.value=me,Et(it,ve),it.selected=R(me,h.inputValue),H.appendChild(it)};l.forEach(function(N){var H=N[0],ve=N[1];if(Array.isArray(ve)){var me=document.createElement("optgroup");me.label=H,me.disabled=!1,g.appendChild(me),ve.forEach(function(it){return E(me,it[1],it[0])})}else E(g,ve,H)}),g.focus()}}function p(v,l,h){var g=Xe(v,O.radio);if(g){l.forEach(function(N){var H=N[0],ve=N[1],me=document.createElement("input"),it=document.createElement("label");me.type="radio",me.name=O.radio,me.value=H,R(H,h.inputValue)&&(me.checked=!0);var ja=document.createElement("span");Et(ja,ve),ja.className=O.label,it.appendChild(me),it.appendChild(ja),g.appendChild(it)});var E=g.querySelectorAll("input");E.length&&E[0].focus()}}var _=function(l){var h=[];return l instanceof Map?l.forEach(function(g,E){var N=g;He(N)==="object"&&(N=_(N)),h.push([E,N])}):Object.keys(l).forEach(function(g){var E=l[g];He(E)==="object"&&(E=_(E)),h.push([g,E])}),h},R=function(l,h){return!!h&&h.toString()===l.toString()},M=void 0,$=function(l){var h=ze.innerParams.get(l);l.disableButtons(),h.input?xe(l,"confirm"):_r(l,!0)},je=function(l){var h=ze.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?xe(l,"deny"):gt(l,!1)},Tt=function(l,h){l.disableButtons(),h(Ui.cancel)},xe=function(l,h){var g=ze.innerParams.get(l);if(!g.input){Ni('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Mi(h)));return}var E=l.getInput(),N=us(l,g);g.inputValidator?kt(l,N,h):E&&!E.checkValidity()?(l.enableButtons(),l.showValidationMessage(g.validationMessage||E.validationMessage)):h==="deny"?gt(l,N):_r(l,N)},kt=function(l,h,g){var E=ze.innerParams.get(l);l.disableInput();var N=Promise.resolve().then(function(){return Fi(E.inputValidator(h,E.validationMessage))});N.then(function(H){l.enableButtons(),l.enableInput(),H?l.showValidationMessage(H):g==="deny"?gt(l,h):_r(l,h)})},gt=function(l,h){var g=ze.innerParams.get(l||M);if(g.showLoaderOnDeny&&Bi(oi()),g.preDeny){l.isAwaitingPromise=!0;var E=Promise.resolve().then(function(){return Fi(g.preDeny(h,g.validationMessage))});E.then(function(N){N===!1?(l.hideLoading(),ci(l)):l.close({isDenied:!0,value:typeof N>"u"?h:N})}).catch(function(N){return an(l||M,N)})}else l.close({isDenied:!0,value:h})},zi=function(l,h){l.close({isConfirmed:!0,value:h})},an=function(l,h){l.rejectPromise(h)},_r=function(l,h){var g=ze.innerParams.get(l||M);if(g.showLoaderOnConfirm&&Bi(),g.preConfirm){l.resetValidationMessage(),l.isAwaitingPromise=!0;var E=Promise.resolve().then(function(){return Fi(g.preConfirm(h,g.validationMessage))});E.then(function(N){Ut(ct())||N===!1?(l.hideLoading(),ci(l)):zi(l,typeof N>"u"?h:N)}).catch(function(N){return an(l||M,N)})}else zi(l,h)};function yr(){var v=ze.innerParams.get(this);if(v){var l=ze.domCache.get(this);nt(l.loader),Jr()?v.icon&&Ze(Li()):bC(l),gn([l.popup,l.actions],O.loading),l.popup.removeAttribute("aria-busy"),l.popup.removeAttribute("data-loading"),l.confirmButton.disabled=!1,l.denyButton.disabled=!1,l.cancelButton.disabled=!1}}var bC=function(l){var h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?Ze(h[0],"inline-block"):_f()&&nt(l.actions)};function N_(){var v=ze.innerParams.get(this),l=ze.domCache.get(this);return l?Xr(l.popup,v.input):null}function F_(v,l,h){var g=ze.domCache.get(v);l.forEach(function(E){g[E].disabled=h})}function L_(v,l){var h=De();if(!(!h||!v))if(v.type==="radio")for(var g=h.querySelectorAll('[name="'.concat(O.radio,'"]')),E=0;E<g.length;E++)g[E].disabled=l;else v.disabled=l}function V_(){F_(this,["confirmButton","denyButton","cancelButton"],!1)}function U_(){F_(this,["confirmButton","denyButton","cancelButton"],!0)}function j_(){L_(this.getInput(),!1)}function B_(){L_(this.getInput(),!0)}function z_(v){var l=ze.domCache.get(this),h=ze.innerParams.get(this);Et(l.validationMessage,v),l.validationMessage.className=O["validation-message"],h.customClass&&h.customClass.validationMessage&&we(l.validationMessage,h.customClass.validationMessage),Ze(l.validationMessage);var g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",O["validation-message"]),Zr(g),we(g,O.inputerror))}function $_(){var v=ze.domCache.get(this);v.validationMessage&&nt(v.validationMessage);var l=this.getInput();l&&(l.removeAttribute("aria-invalid"),l.removeAttribute("aria-describedby"),gn(l,O.inputerror))}var ds={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},_C=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],yC={allowEnterKey:void 0},wC=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],q_=function(l){return Object.prototype.hasOwnProperty.call(ds,l)},H_=function(l){return _C.indexOf(l)!==-1},G_=function(l){return yC[l]},IC=function(l){q_(l)||Lt('Unknown parameter "'.concat(l,'"'))},EC=function(l){wC.includes(l)&&Lt('The parameter "'.concat(l,'" is incompatible with toasts'))},TC=function(l){var h=G_(l);h&&Xo(l,h)},AC=function(l){l.backdrop===!1&&l.allowOutsideClick&&Lt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var h in l)IC(h),l.toast&&EC(h),TC(h)};function W_(v){var l=De(),h=ze.innerParams.get(this);if(!l||pn(l,h.hideClass.popup)){Lt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var g=xC(v),E=Object.assign({},h,g);$n(this,E),ze.innerParams.set(this,E),Object.defineProperties(this,{params:{value:Object.assign({},this.params,v),writable:!1,enumerable:!0}})}var xC=function(l){var h={};return Object.keys(l).forEach(function(g){H_(g)?h[g]=l[g]:Lt("Invalid parameter to update: ".concat(g))}),h};function K_(){var v=ze.domCache.get(this),l=ze.innerParams.get(this);if(!l){Q_(this);return}v.popup&&ue.swalCloseEventFinishedCallback&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback),typeof l.didDestroy=="function"&&l.didDestroy(),CC(this)}var CC=function(l){Q_(l),delete l.params,delete ue.keydownHandler,delete ue.keydownTarget,delete ue.currentInstance},Q_=function(l){l.isAwaitingPromise?(Nf(ze,l),l.isAwaitingPromise=!0):(Nf(qn,l),Nf(ze,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Nf=function(l,h){for(var g in l)l[g].delete(h)},SC=Object.freeze({__proto__:null,_destroy:K_,close:kn,closeModal:kn,closePopup:kn,closeToast:kn,disableButtons:U_,disableInput:B_,disableLoading:yr,enableButtons:V_,enableInput:j_,getInput:N_,handleAwaitingPromise:ci,hideLoading:yr,rejectPromise:Va,resetValidationMessage:$_,showValidationMessage:z_,update:W_}),kC=function(l,h,g){l.toast?RC(l,h,g):(PC(h),OC(h),MC(l,h,g))},RC=function(l,h,g){h.popup.onclick=function(){l&&(DC(l)||l.timer||l.input)||g(Ui.close)}},DC=function(l){return!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton)},Au=!1,PC=function(l){l.popup.onmousedown=function(){l.container.onmouseup=function(h){l.container.onmouseup=function(){},h.target===l.container&&(Au=!0)}}},OC=function(l){l.container.onmousedown=function(h){h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(g){l.popup.onmouseup=function(){},(g.target===l.popup||g.target instanceof HTMLElement&&l.popup.contains(g.target))&&(Au=!0)}}},MC=function(l,h,g){h.container.onclick=function(E){if(Au){Au=!1;return}E.target===h.container&&hr(l.allowOutsideClick)&&g(Ui.backdrop)}},NC=function(l){return He(l)==="object"&&l.jquery},Y_=function(l){return l instanceof Element||NC(l)},FC=function(l){var h={};return He(l[0])==="object"&&!Y_(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach(function(g,E){var N=l[E];typeof N=="string"||Y_(N)?h[g]=N:N!==void 0&&Ni("Unexpected type of ".concat(g,'! Expected "string" or "Element", got ').concat(He(N)))}),h};function LC(){for(var v=arguments.length,l=new Array(v),h=0;h<v;h++)l[h]=arguments[h];return b(this,l)}function VC(v){var l=function(h){function g(){return c(this,g),o(this,g,arguments)}return G(g,h),C(g,[{key:"_main",value:function(N,H){return k(g,"_main",this)([N,Object.assign({},v,H)])}}])}(this);return l}var UC=function(){return ue.timeout&&ue.timeout.getTimerLeft()},J_=function(){if(ue.timeout)return ts(),ue.timeout.stop()},X_=function(){if(ue.timeout){var l=ue.timeout.start();return to(l),l}},jC=function(){var l=ue.timeout;return l&&(l.running?J_():X_())},BC=function(l){if(ue.timeout){var h=ue.timeout.increase(l);return to(h,!0),h}},zC=function(){return!!(ue.timeout&&ue.timeout.isRunning())},Z_=!1,Ff={};function $C(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Ff[v]=this,Z_||(document.body.addEventListener("click",qC),Z_=!0)}var qC=function(l){for(var h=l.target;h&&h!==document;h=h.parentNode)for(var g in Ff){var E=h.getAttribute(g);if(E){Ff[g].fire({template:E});return}}},HC=Object.freeze({__proto__:null,argsToParams:FC,bindClickHandler:$C,clickCancel:os,clickConfirm:uu,clickDeny:so,enableLoading:Bi,fire:LC,getActions:Vn,getCancelButton:Ln,getCloseButton:Qr,getConfirmButton:Qe,getContainer:Dt,getDenyButton:oi,getFocusableElements:Ia,getFooter:wa,getHtmlContainer:Gr,getIcon:Li,getIconContent:Hl,getImage:es,getInputLabel:Wl,getLoader:fr,getPopup:De,getProgressSteps:Wr,getTimerLeft:UC,getTimerProgressBar:Kr,getTitle:Gl,getValidationMessage:ct,increaseTimer:BC,isDeprecatedParameter:G_,isLoading:Kl,isTimerRunning:zC,isUpdatableParameter:H_,isValidParameter:q_,isVisible:Df,mixin:VC,resumeTimer:X_,showLoading:Bi,stopTimer:J_,toggleTimer:jC}),GC=function(){function v(l,h){c(this,v),this.callback=l,this.remaining=h,this.running=!1,this.start()}return C(v,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(h){var g=this.running;return g&&this.stop(),this.remaining+=h,g&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),ey=["swal-title","swal-html","swal-footer"],WC=function(l){var h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};var g=h.content;tS(g);var E=Object.assign(KC(g),QC(g),YC(g),JC(g),XC(g),ZC(g),eS(g,ey));return E},KC=function(l){var h={},g=Array.from(l.querySelectorAll("swal-param"));return g.forEach(function(E){uo(E,["name","value"]);var N=E.getAttribute("name"),H=E.getAttribute("value");!N||!H||(typeof ds[N]=="boolean"?h[N]=H!=="false":He(ds[N])==="object"?h[N]=JSON.parse(H):h[N]=H)}),h},QC=function(l){var h={},g=Array.from(l.querySelectorAll("swal-function-param"));return g.forEach(function(E){var N=E.getAttribute("name"),H=E.getAttribute("value");!N||!H||(h[N]=new Function("return ".concat(H))())}),h},YC=function(l){var h={},g=Array.from(l.querySelectorAll("swal-button"));return g.forEach(function(E){uo(E,["type","color","aria-label"]);var N=E.getAttribute("type");!N||!["confirm","cancel","deny"].includes(N)||(h["".concat(N,"ButtonText")]=E.innerHTML,h["show".concat(Mi(N),"Button")]=!0,E.hasAttribute("color")&&(h["".concat(N,"ButtonColor")]=E.getAttribute("color")),E.hasAttribute("aria-label")&&(h["".concat(N,"ButtonAriaLabel")]=E.getAttribute("aria-label")))}),h},JC=function(l){var h={},g=l.querySelector("swal-image");return g&&(uo(g,["src","width","height","alt"]),g.hasAttribute("src")&&(h.imageUrl=g.getAttribute("src")||void 0),g.hasAttribute("width")&&(h.imageWidth=g.getAttribute("width")||void 0),g.hasAttribute("height")&&(h.imageHeight=g.getAttribute("height")||void 0),g.hasAttribute("alt")&&(h.imageAlt=g.getAttribute("alt")||void 0)),h},XC=function(l){var h={},g=l.querySelector("swal-icon");return g&&(uo(g,["type","color"]),g.hasAttribute("type")&&(h.icon=g.getAttribute("type")),g.hasAttribute("color")&&(h.iconColor=g.getAttribute("color")),h.iconHtml=g.innerHTML),h},ZC=function(l){var h={},g=l.querySelector("swal-input");g&&(uo(g,["type","label","placeholder","value"]),h.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(h.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(h.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(h.inputValue=g.getAttribute("value")));var E=Array.from(l.querySelectorAll("swal-input-option"));return E.length&&(h.inputOptions={},E.forEach(function(N){uo(N,["value"]);var H=N.getAttribute("value");if(H){var ve=N.innerHTML;h.inputOptions[H]=ve}})),h},eS=function(l,h){var g={};for(var E in h){var N=h[E],H=l.querySelector(N);H&&(uo(H,[]),g[N.replace(/^swal-/,"")]=H.innerHTML.trim())}return g},tS=function(l){var h=ey.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(function(g){var E=g.tagName.toLowerCase();h.includes(E)||Lt("Unrecognized element <".concat(E,">"))})},uo=function(l,h){Array.from(l.attributes).forEach(function(g){h.indexOf(g.name)===-1&&Lt(['Unrecognized attribute "'.concat(g.name,'" on <').concat(l.tagName.toLowerCase(),">."),"".concat(h.length?"Allowed attributes are: ".concat(h.join(", ")):"To set the value, use HTML within the element.")])})},ty=10,nS=function(l){var h=Dt(),g=De();typeof l.willOpen=="function"&&l.willOpen(g);var E=window.getComputedStyle(document.body),N=E.overflowY;oS(h,g,l),setTimeout(function(){iS(h,g)},ty),Yr()&&(rS(h,l.scrollbarPadding,N),mu()),!Jr()&&!ue.previousActiveElement&&(ue.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(function(){return l.didOpen(g)}),gn(h,O["no-transition"])},ny=function(l){var h=De();if(!(l.target!==h||!Kt)){var g=Dt();h.removeEventListener(Kt,ny),g.style.overflowY="auto"}},iS=function(l,h){Kt&&xa(h)?(l.style.overflowY="hidden",h.addEventListener(Kt,ny)):l.style.overflowY="auto"},rS=function(l,h,g){Mf(),h&&g!=="hidden"&&vu(g),setTimeout(function(){l.scrollTop=0})},oS=function(l,h,g){we(l,g.showClass.backdrop),g.animation?(h.style.setProperty("opacity","0","important"),Ze(h,"grid"),setTimeout(function(){we(h,g.showClass.popup),h.style.removeProperty("opacity")},ty)):Ze(h,"grid"),we([document.documentElement,document.body],O.shown),g.heightAuto&&g.backdrop&&!g.toast&&we([document.documentElement,document.body],O["height-auto"])},iy={email:function(l,h){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address")},url:function(l,h){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")}};function sS(v){v.inputValidator||(v.input==="email"&&(v.inputValidator=iy.email),v.input==="url"&&(v.inputValidator=iy.url))}function aS(v){(!v.target||typeof v.target=="string"&&!document.querySelector(v.target)||typeof v.target!="string"&&!v.target.appendChild)&&(Lt('Target parameter is not valid, defaulting to "body"'),v.target="body")}function cS(v){sS(v),v.showLoaderOnConfirm&&!v.preConfirm&&Lt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),aS(v),typeof v.title=="string"&&(v.title=v.title.split(`
`).join("<br />")),ns(v)}var li,xu=new WeakMap,ut=function(){function v(){if(c(this,v),d(this,xu,void 0),!(typeof window>"u")){li=this;for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var E=Object.freeze(this.constructor.argsToParams(h));this.params=E,this.isAwaitingPromise=!1,m(xu,this,this._main(li.params))}}return C(v,[{key:"_main",value:function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(AC(Object.assign({},g,h)),ue.currentInstance){var E=qn.swalPromiseResolve.get(ue.currentInstance),N=ue.currentInstance.isAwaitingPromise;ue.currentInstance._destroy(),N||E({isDismissed:!0}),Yr()&&Sn()}ue.currentInstance=li;var H=uS(h,g);cS(H),Object.freeze(H),ue.timeout&&(ue.timeout.stop(),delete ue.timeout),clearTimeout(ue.restoreFocusTimeout);var ve=dS(li);return $n(li,H),ze.innerParams.set(li,H),lS(li,ve,H)}},{key:"then",value:function(h){return u(xu,this).then(h)}},{key:"finally",value:function(h){return u(xu,this).finally(h)}}])}(),lS=function(l,h,g){return new Promise(function(E,N){var H=function(me){l.close({isDismissed:!0,dismiss:me})};qn.swalPromiseResolve.set(l,E),qn.swalPromiseReject.set(l,N),h.confirmButton.onclick=function(){$(l)},h.denyButton.onclick=function(){je(l)},h.cancelButton.onclick=function(){Tt(l,H)},h.closeButton.onclick=function(){H(Ui.close)},kC(g,h,H),ao(ue,g,H),Iu(l,g),nS(g),hS(ue,g,H),fS(h,g),setTimeout(function(){h.container.scrollTop=0})})},uS=function(l,h){var g=WC(l),E=Object.assign({},ds,h,g,l);return E.showClass=Object.assign({},ds.showClass,E.showClass),E.hideClass=Object.assign({},ds.hideClass,E.hideClass),E.animation===!1&&(E.showClass={backdrop:"swal2-noanimation"},E.hideClass={}),E},dS=function(l){var h={popup:De(),container:Dt(),actions:Vn(),confirmButton:Qe(),denyButton:oi(),cancelButton:Ln(),loader:fr(),closeButton:Qr(),validationMessage:ct(),progressSteps:Wr()};return ze.domCache.set(l,h),h},hS=function(l,h,g){var E=Kr();nt(E),h.timer&&(l.timeout=new GC(function(){g("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(Ze(E),lt(E,h,"timerProgressBar"),setTimeout(function(){l.timeout&&l.timeout.running&&to(h.timer)})))},fS=function(l,h){if(!h.toast){if(!hr(h.allowEnterKey)){Xo("allowEnterKey"),gS();return}mS(l)||pS(l,h)||ss(-1,1)}},mS=function(l){var h=l.popup.querySelectorAll("[autofocus]"),g=P(h),E;try{for(g.s();!(E=g.n()).done;){var N=E.value;if(N instanceof HTMLElement&&Ut(N))return N.focus(),!0}}catch(H){g.e(H)}finally{g.f()}return!1},pS=function(l,h){return h.focusDeny&&Ut(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&Ut(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&Ut(l.confirmButton)?(l.confirmButton.focus(),!0):!1},gS=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var ry=new Date,oy=localStorage.getItem("swal-initiation");oy?(ry.getTime()-Date.parse(oy))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(function(){v.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(ry))}ut.prototype.disableButtons=U_,ut.prototype.enableButtons=V_,ut.prototype.getInput=N_,ut.prototype.disableInput=B_,ut.prototype.enableInput=j_,ut.prototype.hideLoading=yr,ut.prototype.disableLoading=yr,ut.prototype.showValidationMessage=z_,ut.prototype.resetValidationMessage=$_,ut.prototype.close=kn,ut.prototype.closePopup=kn,ut.prototype.closeModal=kn,ut.prototype.closeToast=kn,ut.prototype.rejectPromise=Va,ut.prototype.update=W_,ut.prototype._destroy=K_,Object.assign(ut,HC),Object.keys(SC).forEach(function(v){ut[v]=function(){if(li&&li[v]){var l;return(l=li)[v].apply(l,arguments)}return null}}),ut.DismissReason=Ui,ut.version="11.12.4";var Cu=ut;return Cu.default=Cu,Cu});typeof Ri<"u"&&Ri.Sweetalert2&&(Ri.swal=Ri.sweetAlert=Ri.Swal=Ri.SweetAlert=Ri.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var qu=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Qy=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Qy||{}),rm=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new qu,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Hu=class n extends rm{constructor(e={}){super(e),this.type=Qy.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var yS=new ye("");var wS=new ye(""),zy="b",$y="h",qy="s",Hy="st",Gy="u",Wy="rt",$u=new ye(""),IS=["GET","HEAD"];function ES(n,e){let C=te($u),{isCacheActive:t}=C,i=sy(C,["isCacheActive"]),{transferCache:r,method:o}=n;if(!t||r===!1||o==="POST"&&!i.includePostRequests&&!r||o!=="POST"&&!IS.includes(o)||!i.includeRequestsWithAuthHeaders&&TS(n)||i.filter?.(n)===!1)return e(n);let s=te(Yf),c=te(wS,{optional:!0}),u=ec(te(en));if(c&&!u)throw new Je(2803,!1);let d=u&&c?SS(n.url,c):n.url,m=xS(n,d),b=s.get(m,null),y=i.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(y=r.includeHeaders),b){let{[zy]:P,[Wy]:L,[$y]:F,[qy]:G,[Hy]:W,[Gy]:q}=b,Q=P;switch(L){case"arraybuffer":Q=new TextEncoder().encode(P).buffer;break;case"blob":Q=new Blob([P]);break}let le=new qu(F);return pe(new Hu({body:Q,headers:le,status:G,statusText:W,url:q}))}return e(n).pipe(vt(P=>{P instanceof Hu&&u&&s.set(m,{[zy]:P.body,[$y]:AS(P.headers,y),[qy]:P.status,[Hy]:P.statusText,[Gy]:d,[Wy]:n.responseType})}))}function TS(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function AS(n,e){if(!e)return{};let t={};for(let i of e){let r=n.getAll(i);r!==null&&(t[i]=r)}return t}function Ky(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function xS(n,e){let{params:t,method:i,responseType:r}=n,o=Ky(t),s=n.serializeBody();s instanceof URLSearchParams?s=Ky(s):typeof s!="string"&&(s="");let c=[i,r,e,s,o].join("|"),u=CS(c);return u}function CS(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function Yy(n){return[{provide:$u,useFactory:()=>(gs("NgHttpTransferCache"),B({isCacheActive:!0},n))},{provide:yS,useValue:ES,multi:!0,deps:[Yf,$u]},{provide:Vu,multi:!0,useFactory:()=>{let e=te(Xa),t=te($u);return()=>{Sy(e).then(()=>{t.isCacheActive=!1})}}}]}function SS(n,e){let t=new URL(n,"resolve://").origin,i=e[t];return i?n.replace(t,i):n}var am=class extends Oy{constructor(){super(...arguments),this.supportsDOMEvents=!0}},cm=class n extends am{static makeCurrent(){Py(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=RS();return t==null?null:DS(t)}resetBaseElement(){nc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nm(document.cookie,e)}},nc=null;function RS(){return nc=nc||document.querySelector("base"),nc?nc.getAttribute("href"):null}function DS(n){return new URL(n,document.baseURI).pathname}var PS=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let n=e;return n})(),Gu=new ye(""),Zy=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new Je(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(X(Gu),X(Re))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let n=e;return n})(),ic=class{constructor(e){this._doc=e}},om="ng-app-id",ew=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ec(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${om}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(om),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(om,this.appId),i.appendChild(c),c}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(X(mt),X(Pu),X(Ga,8),X(en))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let n=e;return n})(),sm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dm=/%COMP%/g,tw="%COMP%",OS=`_nghost-${tw}`,MS=`_ngcontent-${tw}`,NS=!0,FS=new ye("",{providedIn:"root",factory:()=>NS});function LS(n){return MS.replace(dm,n)}function VS(n){return OS.replace(dm,n)}function nw(n,e){return e.map(t=>t.replace(dm,n))}var Es=(()=>{let e=class e{constructor(i,r,o,s,c,u,d,m=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=d,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=ec(u),this.defaultRenderer=new rc(i,c,d,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ha.ShadowDom&&(r=Ee(B({},r),{encapsulation:Ha.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof Wu?o.applyToHost(i):o instanceof oc&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,u=this.ngZone,d=this.eventManager,m=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Ha.Emulated:s=new Wu(d,m,r,this.appId,b,c,u,y);break;case Ha.ShadowDom:return new lm(d,m,i,r,c,u,this.nonce,y);default:s=new oc(d,m,r,b,c,u,y);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(X(Zy),X(ew),X(Pu),X(FS),X(mt),X(en),X(Re),X(Ga))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let n=e;return n})(),rc=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(sm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Jy(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Jy(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Je(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=sm[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=sm[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Wa.DashCase|Wa.Important)?e.style.setProperty(t,i,r&Wa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Wa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=ys().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Jy(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var lm=class extends rc{constructor(e,t,i,r,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=nw(r.id,r.styles);for(let m of d){let b=document.createElement("style");c&&b.setAttribute("nonce",c),b.textContent=m,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oc=class extends rc{constructor(e,t,i,r,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=u?nw(u,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wu=class extends oc{constructor(e,t,i,r,o,s,c,u){let d=r+"-"+i.id;super(e,t,i,o,s,c,u,d),this.contentAttr=LS(d),this.hostAttr=VS(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},US=(()=>{let e=class e extends ic{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(X(mt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let n=e;return n})(),jS=(()=>{let e=class e extends ic{constructor(i){super(i),this.delegate=te(Ry,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,o){return this.delegate.addEventListener(i,r,o)}removeEventListener(i,r,o){return this.delegate.removeEventListener(i,r,o)}};e.\u0275fac=function(r){return new(r||e)(X(mt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let n=e;return n})(),Xy=["alt","control","meta","shift"],BS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},$S=(()=>{let e=class e extends ic{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ys().onAndCancel(i,s.domEventName,c))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),c="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),c="code."),Xy.forEach(m=>{let b=r.indexOf(m);b>-1&&(r.splice(b,1),c+=m+".")}),c+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=c,d}static matchEventFullKeyCode(i,r){let o=BS[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Xy.forEach(c=>{if(c!==o){let u=zS[c];u(i)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(X(mt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let n=e;return n})();function iw(n,e){return ky(B({rootComponent:n},qS(e)))}function qS(n){return{appProviders:[...QS,...n?.providers??[]],platformProviders:KS}}function HS(){cm.makeCurrent()}function GS(){return new Qf}function WS(){return yy(document),document}var KS=[{provide:en,useValue:Fy},{provide:wy,useValue:HS,multi:!0},{provide:mt,useFactory:WS,deps:[]}];var QS=[{provide:_y,useValue:"root"},{provide:Qf,useFactory:GS,deps:[]},{provide:Gu,useClass:US,multi:!0,deps:[mt,Re,en]},{provide:Gu,useClass:$S,multi:!0,deps:[mt]},{provide:Gu,useClass:jS,multi:!0},Es,ew,Zy,{provide:ms,useExisting:Es},{provide:Ly,useClass:PS,deps:[]},[]];var rw=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(X(mt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var um=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(um||{});function ow(...n){let e=[],t=new Set,i=t.has(um.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:o}of n)t.add(o),r.length&&e.push(r);return Jt([[],Dy(),t.has(um.NoHttpTransferCache)||i?[]:Yy({}),e])}var _e="primary",Ic=Symbol("RouteTitle"),gm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ks(n){return new gm(n)}function ZS(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],c=n[o];if(s[0]===":")r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ek(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gi(n[t],e[t]))return!1;return!0}function gi(n,e){let t=n?vm(n):void 0,i=e?vm(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!fw(n[r],e[r]))return!1;return!0}function vm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function fw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function mw(n){return n.length>0?n[n.length-1]:null}function Cr(n){return uy(n)?n:Lu(n)?Yt(Promise.resolve(n)):pe(n)}var tk={exact:gw,subset:vw},pw={exact:nk,subset:ik,ignored:()=>!0};function sw(n,e,t){return tk[t.paths](n.root,e.root,t.matrixParams)&&pw[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function nk(n,e){return gi(n,e)}function gw(n,e,t){if(!po(n.segments,e.segments)||!Yu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!gw(n.children[i],e.children[i],t))return!1;return!0}function ik(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fw(n[t],e[t]))}function vw(n,e,t){return bw(n,e,e.segments,t)}function bw(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!po(r,t)||e.hasChildren()||!Yu(r,t,i))}else if(n.segments.length===t.length){if(!po(n.segments,t)||!Yu(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!vw(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!po(n.segments,r)||!Yu(n.segments,r,i)||!n.children[_e]?!1:bw(n.children[_e],e,o,i)}}function Yu(n,e,t){return e.every((i,r)=>pw[t](n[r].parameters,i.parameters))}var Yi=class{constructor(e=new Le([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ks(this.queryParams),this._queryParamMap}toString(){return sk.serialize(this)}},Le=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}},mo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ks(this.parameters),this._parameterMap}toString(){return yw(this)}};function rk(n,e){return po(n,e)&&n.every((t,i)=>gi(t.parameters,e[i].parameters))}function po(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function ok(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===_e&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==_e&&(t=t.concat(e(r,i)))}),t}var $m=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>new hc,providedIn:"root"});let n=e;return n})(),hc=class{parse(e){let t=new _m(e);return new Yi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${sc(e.root,!0)}`,i=lk(e.queryParams),r=typeof e.fragment=="string"?`#${ak(e.fragment)}`:"";return`${t}${i}${r}`}},sk=new hc;function Ju(n){return n.segments.map(e=>yw(e)).join("/")}function sc(n,e){if(!n.hasChildren())return Ju(n);if(e){let t=n.children[_e]?sc(n.children[_e],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==_e&&i.push(`${r}:${sc(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=ok(n,(i,r)=>r===_e?[sc(n.children[_e],!1)]:[`${r}:${sc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[_e]!=null?`${Ju(n)}/${t[0]}`:`${Ju(n)}/(${t.join("//")})`}}function _w(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ku(n){return _w(n).replace(/%3B/gi,";")}function ak(n){return encodeURI(n)}function bm(n){return _w(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xu(n){return decodeURIComponent(n)}function aw(n){return Xu(n.replace(/\+/g,"%20"))}function yw(n){return`${bm(n.path)}${ck(n.parameters)}`}function ck(n){return Object.entries(n).map(([e,t])=>`;${bm(e)}=${bm(t)}`).join("")}function lk(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Ku(t)}=${Ku(r)}`).join("&"):`${Ku(t)}=${Ku(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var uk=/^[^\/()?;#]+/;function hm(n){let e=n.match(uk);return e?e[0]:""}var dk=/^[^\/()?;=#]+/;function hk(n){let e=n.match(dk);return e?e[0]:""}var fk=/^[^=?&#]+/;function mk(n){let e=n.match(fk);return e?e[0]:""}var pk=/^[^&#]+/;function gk(n){let e=n.match(pk);return e?e[0]:""}var _m=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[_e]=new Le(e,t)),i}parseSegment(){let e=hm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(e),new mo(Xu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=hk(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=hm(this.remaining);r&&(i=r,this.capture(i))}e[Xu(t)]=Xu(i)}parseQueryParam(e){let t=mk(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=gk(this.remaining);s&&(i=s,this.capture(i))}let r=aw(t),o=aw(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=hm(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Je(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_e);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[_e]:new Le([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Je(4011,!1)}};function ww(n){return n.segments.length>0?new Le([],{[_e]:n}):n}function Iw(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=Iw(r);if(i===_e&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Le(n.segments,e);return vk(t)}function vk(n){if(n.numberOfChildren===1&&n.children[_e]){let e=n.children[_e];return new Le(n.segments.concat(e.segments),e.children)}return n}function fc(n){return n instanceof Yi}function bk(n,e,t=null,i=null){let r=Ew(n);return Tw(r,e,t,i)}function Ew(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let c=new Le(o.url,s);return o===n&&(e=c),c}let i=t(n.root),r=ww(i);return e??r}function Tw(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return fm(r,r,r,t,i);let o=_k(e);if(o.toRoot())return fm(r,r,new Le([],{}),t,i);let s=yk(o,r,n),c=s.processChildren?lc(s.segmentGroup,s.index,o.commands):xw(s.segmentGroup,s.index,o.commands);return fm(r,s.segmentGroup,c,t,i)}function Zu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function mc(n){return typeof n=="object"&&n!=null&&n.outlets}function fm(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(m=>`${m}`):`${d}`});let s;n===e?s=t:s=Aw(n,e,t);let c=ww(Iw(s));return new Yi(c,o,r)}function Aw(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=Aw(o,e,t)}),new Le(n.segments,i)}var ed=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Zu(i[0]))throw new Je(4003,!1);let r=i.find(mc);if(r&&r!==mw(i))throw new Je(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _k(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ed(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new ed(t,e,i)}var xs=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function yk(n,e,t){if(n.isAbsolute)return new xs(e,!0,0);if(!t)return new xs(e,!1,NaN);if(t.parent===null)return new xs(t,!0,0);let i=Zu(n.commands[0])?0:1,r=t.segments.length-1+i;return wk(t,r,n.numberOfDoubleDots)}function wk(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Je(4005,!1);r=i.segments.length}return new xs(i,!1,r-o)}function Ik(n){return mc(n[0])?n[0].outlets:{[_e]:n}}function xw(n,e,t){if(n??=new Le([],{}),n.segments.length===0&&n.hasChildren())return lc(n,e,t);let i=Ek(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Le(n.segments.slice(0,i.pathIndex),{});return o.children[_e]=new Le(n.segments.slice(i.pathIndex),n.children),lc(o,0,r)}else return i.match&&r.length===0?new Le(n.segments,{}):i.match&&!n.hasChildren()?ym(n,e,t):i.match?lc(n,0,r):ym(n,e,t)}function lc(n,e,t){if(t.length===0)return new Le(n.segments,{});{let i=Ik(t),r={};if(Object.keys(i).some(o=>o!==_e)&&n.children[_e]&&n.numberOfChildren===1&&n.children[_e].segments.length===0){let o=lc(n.children[_e],e,t);return new Le(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=xw(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Le(n.segments,r)}}function Ek(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],c=t[i];if(mc(c))break;let u=`${c}`,d=i<t.length-1?t[i+1]:null;if(r>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!lw(u,d,s))return o;i+=2}else{if(!lw(u,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function ym(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(mc(o)){let u=Tk(o.outlets);return new Le(i,u)}if(r===0&&Zu(t[0])){let u=n.segments[e];i.push(new mo(u.path,cw(t[0]))),r++;continue}let s=mc(o)?o.outlets[_e]:`${o}`,c=r<t.length-1?t[r+1]:null;s&&c&&Zu(c)?(i.push(new mo(s,cw(c))),r+=2):(i.push(new mo(s,{})),r++)}return new Le(i,{})}function Tk(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=ym(new Le([],{}),0,i))}),e}function cw(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function lw(n,e,t){return n==t.path&&gi(e,t.parameters)}var uc="imperative",Mt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Mt||{}),On=class{constructor(e,t){this.id=e,this.url=t}},pc=class extends On{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Mt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},go=class extends On{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(yn||{}),wm=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(wm||{}),Qi=class extends On{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vo=class extends On{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Mt.NavigationSkipped}},gc=class extends On{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},td=class extends On{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Im=class extends On{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Em=class extends On{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tm=class extends On{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Am=class extends On{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xm=class{constructor(e){this.route=e,this.type=Mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Cm=class{constructor(e){this.route=e,this.type=Mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sm=class{constructor(e){this.snapshot=e,this.type=Mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},km=class{constructor(e){this.snapshot=e,this.type=Mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rm=class{constructor(e){this.snapshot=e,this.type=Mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dm=class{constructor(e){this.snapshot=e,this.type=Mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var vc=class{},Rs=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Ak(n,e){return n.providers&&!n._injector&&(n._injector=Ay(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Kn(n){return n.outlet||_e}function xk(n,e){let t=n.filter(i=>Kn(i)===e);return t.push(...n.filter(i=>Kn(i)!==e)),t}function Ec(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Pm=class{get injector(){return Ec(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new cd(this.rootInjector),this.attachRef=null}},cd=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Pm(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(X(Ru))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),nd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Om(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Om(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Mm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Mm(e,this._root).map(t=>t.value)}};function Om(n,e){if(n===e.value)return e;for(let t of e.children){let i=Om(n,t);if(i)return i}return null}function Mm(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Mm(n,t);if(i.length)return i.unshift(e),i}return[]}var _n=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function As(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var id=class extends nd{constructor(e,t){super(e),this.snapshot=t,qm(this,e)}toString(){return this.snapshot.toString()}};function Cw(n){let e=Ck(n),t=new cn([new mo("",{})]),i=new cn({}),r=new cn({}),o=new cn({}),s=new cn(""),c=new Ds(t,i,o,s,r,_e,n,e.root);return c.snapshot=e.root,new id(new _n(c,[]),e)}function Ck(n){let e={},t={},i={},r="",o=new Cs([],e,i,r,t,_e,n,null,{});return new od("",new _n(o,[]))}var Ds=class{constructor(e,t,i,r,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(he(d=>d[Ic]))??pe(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>ks(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>ks(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rd(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),r?.data),n._resolvedData)}:i={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},r&&kw(r)&&(i.resolve[Ic]=r.title),i}var Cs=class{get title(){return this.data?.[Ic]}constructor(e,t,i,r,o,s,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ks(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ks(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},od=class extends nd{constructor(e,t){super(t),this.url=e,qm(this,t)}toString(){return Sw(this._root)}};function qm(n,e){e.value._routerState=n,e.children.forEach(t=>qm(n,t))}function Sw(n){let e=n.children.length>0?` { ${n.children.map(Sw).join(", ")} } `:"";return`${n.value}${e}`}function mm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gi(e.params,t.params)||n.paramsSubject.next(t.params),ek(e.url,t.url)||n.urlSubject.next(t.url),gi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Nm(n,e){let t=gi(n.params,e.params)&&rk(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Nm(n.parent,e.parent))}function kw(n){return typeof n.title=="string"||n.title===null}var Hm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=_e,this.activateEvents=new Zt,this.deactivateEvents=new Zt,this.attachEvents=new Zt,this.detachEvents=new Zt,this.parentContexts=te(cd),this.location=te(Ey),this.changeDetector=te(Ki),this.inputBinder=te(Gm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=i;let o=this.location,c=i.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new Fm(i,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$i]});let n=e;return n})(),Fm=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ds?this.route:e===cd?this.childContexts:this.parent.get(e,t)}},Gm=new ye("");function Sk(n,e,t){let i=bc(n,e._root,t?t._root:void 0);return new id(i,e)}function bc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=kk(n,e,t);return new _n(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>bc(n,c)),s}}let i=Rk(e.value),r=e.children.map(o=>bc(n,o));return new _n(i,r)}}function kk(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return bc(n,i,r);return bc(n,i)})}function Rk(n){return new Ds(new cn(n.url),new cn(n.params),new cn(n.queryParams),new cn(n.fragment),new cn(n.data),n.outlet,n.component,n)}var _c=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Rw="ngNavigationCancelingError";function sd(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=fc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Dw(!1,yn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Dw(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Rw]=!0,t.cancellationCode=e,t}function Dk(n){return Pw(n)&&fc(n.url)}function Pw(n){return!!n&&n[Rw]}var Pk=(n,e,t,i)=>he(r=>(new Lm(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Lm=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),mm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=As(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=As(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Dm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new km(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(mm(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),mm(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},ad=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ss=class{constructor(e,t){this.component=e,this.route=t}};function Ok(n,e,t){let i=n._root,r=e?e._root:null;return ac(i,r,t,[i.value])}function Mk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Os(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!by(n)?n:e.get(n):i}function ac(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=As(e);return n.children.forEach(s=>{Nk(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>dc(c,t.getContext(s),r)),r}function Nk(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Fk(s,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new ad(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ac(n,e,c?c.children:null,i,r):ac(n,e,t,i,r),u&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Ss(c.outlet.component,s))}else s&&dc(e,c,r),r.canActivateChecks.push(new ad(i)),o.component?ac(n,null,c?c.children:null,i,r):ac(n,null,t,i,r);return r}function Fk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!po(n.url,e.url);case"pathParamsOrQueryParamsChange":return!po(n.url,e.url)||!gi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nm(n,e)||!gi(n.queryParams,e.queryParams);case"paramsChange":default:return!Nm(n,e)}}function dc(n,e,t){let i=As(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?dc(s,e.children.getContext(o),t):dc(s,null,t):dc(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ss(e.outlet.component,r)):t.canDeactivateChecks.push(new Ss(null,r)):t.canDeactivateChecks.push(new Ss(null,r))}function Tc(n){return typeof n=="function"}function Lk(n){return typeof n=="boolean"}function Vk(n){return n&&Tc(n.canLoad)}function Uk(n){return n&&Tc(n.canActivate)}function jk(n){return n&&Tc(n.canActivateChild)}function Bk(n){return n&&Tc(n.canDeactivate)}function zk(n){return n&&Tc(n.canMatch)}function Ow(n){return n instanceof dy||n?.name==="EmptyError"}var Qu=Symbol("INITIAL_VALUE");function Ps(){return Gn(n=>za(n.map(e=>e.pipe(ln(1),qa(Qu)))).pipe(he(e=>{for(let t of e)if(t!==!0){if(t===Qu)return Qu;if(t===!1||$k(t))return t}return!0}),Er(e=>e!==Qu),ln(1)))}function $k(n){return fc(n)||n instanceof _c}function qk(n,e){return Rn(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?pe(Ee(B({},t),{guardsResult:!0})):Hk(s,i,r,n).pipe(Rn(c=>c&&Lk(c)?Gk(i,o,n,e):pe(c)),he(c=>Ee(B({},t),{guardsResult:c})))})}function Hk(n,e,t,i){return Yt(n).pipe(Rn(r=>Jk(r.component,r.route,t,e,i)),Tr(r=>r!==!0,!0))}function Gk(n,e,t,i){return Yt(e).pipe(fs(r=>Su(Kk(r.route.parent,i),Wk(r.route,i),Yk(n,r.path,t),Qk(n,r.route,t))),Tr(r=>r!==!0,!0))}function Wk(n,e){return n!==null&&e&&e(new Rm(n)),pe(!0)}function Kk(n,e){return n!==null&&e&&e(new Sm(n)),pe(!0)}function Qk(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return pe(!0);let r=i.map(o=>$f(()=>{let s=Ec(e)??t,c=Os(o,s),u=Uk(c)?c.canActivate(e,n):hi(s,()=>c(e,n));return Cr(u).pipe(Tr())}));return pe(r).pipe(Ps())}function Yk(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Mk(s)).filter(s=>s!==null).map(s=>$f(()=>{let c=s.guards.map(u=>{let d=Ec(s.node)??t,m=Os(u,d),b=jk(m)?m.canActivateChild(i,n):hi(d,()=>m(i,n));return Cr(b).pipe(Tr())});return pe(c).pipe(Ps())}));return pe(o).pipe(Ps())}function Jk(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(c=>{let u=Ec(e)??r,d=Os(c,u),m=Bk(d)?d.canDeactivate(n,e,t,i):hi(u,()=>d(n,e,t,i));return Cr(m).pipe(Tr())});return pe(s).pipe(Ps())}function Xk(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return pe(!0);let o=r.map(s=>{let c=Os(s,n),u=Vk(c)?c.canLoad(e,t):hi(n,()=>c(e,t));return Cr(u)});return pe(o).pipe(Ps(),Mw(i))}function Mw(n){return Lf(vt(e=>{if(typeof e!="boolean")throw sd(n,e)}),he(e=>e===!0))}function Zk(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return pe(!0);let o=r.map(s=>{let c=Os(s,n),u=zk(c)?c.canMatch(e,t):hi(n,()=>c(e,t));return Cr(u)});return pe(o).pipe(Ps(),Mw(i))}var yc=class{constructor(e){this.segmentGroup=e||null}},wc=class extends Error{constructor(e){super(),this.urlTree=e}};function Ts(n){return Ba(new yc(n))}function eR(n){return Ba(new Je(4e3,!1))}function tR(n){return Ba(Dw(!1,yn.GuardRejected))}var Vm=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return pe(i);if(r.numberOfChildren>1||!r.children[_e])return eR(`${e.redirectTo}`);r=r.children[_e]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let c=t,{queryParams:u,fragment:d,routeConfig:m,url:b,outlet:y,params:C,data:P,title:L}=r,F=hi(o,()=>c({params:C,data:P,queryParams:u,fragment:d,routeConfig:m,url:b,outlet:y,title:L}));if(F instanceof Yi)throw new wc(F);t=F}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new wc(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Yi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);i[r]=t[c]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,i,r)}),new Le(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new Je(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nR(n,e,t,i,r){let o=Wm(n,e,t);return o.matched?(i=Ak(e,i),Zk(i,e,t,r).pipe(he(s=>s===!0?o:B({},Um)))):pe(o)}function Wm(n,e,t){if(e.path==="**")return iR(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},Um):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||ZS)(t,n,e);if(!r)return B({},Um);let o={};Object.entries(r.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=r.consumed.length>0?B(B({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function iR(n){return{matched:!0,parameters:n.length>0?mw(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function uw(n,e,t,i){return t.length>0&&sR(n,t,i)?{segmentGroup:new Le(e,oR(i,new Le(t,n.children))),slicedSegments:[]}:t.length===0&&aR(n,t,i)?{segmentGroup:new Le(n.segments,rR(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Le(n.segments,n.children),slicedSegments:t}}function rR(n,e,t,i){let r={};for(let o of t)if(ld(n,e,o)&&!i[Kn(o)]){let s=new Le([],{});r[Kn(o)]=s}return B(B({},i),r)}function oR(n,e){let t={};t[_e]=e;for(let i of n)if(i.path===""&&Kn(i)!==_e){let r=new Le([],{});t[Kn(i)]=r}return t}function sR(n,e,t){return t.some(i=>ld(n,e,i)&&Kn(i)!==_e)}function aR(n,e,t){return t.some(i=>ld(n,e,i))}function ld(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function cR(n,e,t,i){return Kn(n)!==i&&(i===_e||!ld(e,t,n))?!1:Wm(e,n,t).matched}function lR(n,e,t){return e.length===0&&!n.children[t]}var jm=class{};function uR(n,e,t,i,r,o,s="emptyOnly"){return new Bm(n,e,t,i,r,s,o).recognize()}var dR=31,Bm=class{constructor(e,t,i,r,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Vm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Je(4002,`'${e.segmentGroup}'`)}recognize(){let e=uw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(({children:t,rootSnapshot:i})=>{let r=new _n(i,t),o=new od("",r),s=bk(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Cs([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),_e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,_e,t).pipe(he(i=>({children:i,rootSnapshot:t})),hs(i=>{if(i instanceof wc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof yc?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(he(s=>s instanceof _n?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Yt(o).pipe(fs(s=>{let c=i.children[s],u=xk(t,s);return this.processSegmentGroup(e,u,c,s,r)}),Gf((s,c)=>(s.push(...c),s)),qf(null),gy(),Rn(s=>{if(s===null)return Ts(i);let c=Nw(s);return hR(c),pe(c)}))}processSegment(e,t,i,r,o,s,c){return Yt(t).pipe(fs(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,i,r,o,s,c).pipe(hs(d=>{if(d instanceof yc)return pe(null);throw d}))),Tr(u=>!!u),hs(u=>{if(Ow(u))return lR(i,r,o)?pe(new jm):Ts(i);throw u}))}processSegmentAgainstRoute(e,t,i,r,o,s,c,u){return cR(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,u):Ts(r):Ts(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,c){let{matched:u,parameters:d,consumedSegments:m,positionalParamSegments:b,remainingSegments:y}=Wm(t,r,o);if(!u)return Ts(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dR&&(this.allowRedirects=!1));let C=new Cs(o,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,dw(r),Kn(r),r.component??r._loadedComponent??null,r,hw(r)),P=rd(C,c,this.paramsInheritanceStrategy);C.params=Object.freeze(P.params),C.data=Object.freeze(P.data);let L=this.applyRedirects.applyRedirectCommands(m,r.redirectTo,b,C,e);return this.applyRedirects.lineralizeSegments(r,L).pipe(Rn(F=>this.processSegment(e,i,t,F.concat(y),s,!1,c)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let c=nR(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),c.pipe(Gn(u=>u.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Gn(({routes:d})=>{let m=i._loadedInjector??e,{parameters:b,consumedSegments:y,remainingSegments:C}=u,P=new Cs(y,b,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,dw(i),Kn(i),i.component??i._loadedComponent??null,i,hw(i)),L=rd(P,s,this.paramsInheritanceStrategy);P.params=Object.freeze(L.params),P.data=Object.freeze(L.data);let{segmentGroup:F,slicedSegments:G}=uw(t,y,C,d);if(G.length===0&&F.hasChildren())return this.processChildren(m,d,F,P).pipe(he(q=>new _n(P,q)));if(d.length===0&&G.length===0)return pe(new _n(P,[]));let W=Kn(i)===o;return this.processSegment(m,d,F,G,W?_e:o,!0,P).pipe(he(q=>new _n(P,q instanceof _n?[q]:[])))}))):Ts(t)))}getChildConfig(e,t,i){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):Xk(e,t,i,this.urlSerializer).pipe(Rn(r=>r?this.configLoader.loadChildren(e,t).pipe(vt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):tR(t))):pe({routes:[],injector:e})}};function hR(n){n.sort((e,t)=>e.value.outlet===_e?-1:t.value.outlet===_e?1:e.value.outlet.localeCompare(t.value.outlet))}function fR(n){let e=n.value.routeConfig;return e&&e.path===""}function Nw(n){let e=[],t=new Set;for(let i of n){if(!fR(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=Nw(i.children);e.push(new _n(i.value,r))}return e.filter(i=>!t.has(i))}function dw(n){return n.data||{}}function hw(n){return n.resolve||{}}function mR(n,e,t,i,r,o){return Rn(s=>uR(n,e,t,i,s.extractedUrl,r,o).pipe(he(({state:c,tree:u})=>Ee(B({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function pR(n,e){return Rn(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return pe(t);let o=new Set(r.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of Fw(u))s.add(d);let c=0;return Yt(s).pipe(fs(u=>o.has(u)?gR(u,i,n,e):(u.data=rd(u,u.parent,n).resolve,pe(void 0))),vt(()=>c++),Hf(1),Rn(u=>c===s.size?pe(t):Ir))})}function Fw(n){let e=n.children.map(t=>Fw(t)).flat();return[n,...e]}function gR(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!kw(r)&&(o[Ic]=r.title),vR(o,n,e,i).pipe(he(s=>(n._resolvedData=s,n.data=rd(n,n.parent,t).resolve,null)))}function vR(n,e,t,i){let r=vm(n);if(r.length===0)return pe({});let o={};return Yt(r).pipe(Rn(s=>bR(n[s],e,t,i).pipe(Tr(),vt(c=>{if(c instanceof _c)throw sd(new hc,c);o[s]=c}))),Hf(1),py(o),hs(s=>Ow(s)?Ir:Ba(s)))}function bR(n,e,t,i){let r=Ec(e)??i,o=Os(n,r),s=o.resolve?o.resolve(e,t):hi(r,()=>o(e,t));return Cr(s)}function pm(n){return Gn(e=>{let t=n(e);return t?Yt(t).pipe(he(()=>e)):pe(e)})}var Lw=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===_e);return r}getResolvedTitleForRoute(i){return i.data[Ic]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>te(_R),providedIn:"root"});let n=e;return n})(),_R=(()=>{let e=class e extends Lw{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(X(rw))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Km=new ye("",{providedIn:"root",factory:()=>({})}),yR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["ng-component"]],standalone:!0,features:[ft],decls:1,vars:0,template:function(r,o){r&1&&Pe(0,"router-outlet")},dependencies:[Hm],encapsulation:2});let n=e;return n})();function Qm(n){let e=n.children&&n.children.map(Qm),t=e?Ee(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_e&&(t.component=yR),t}var Ym=new ye(""),wR=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(tm)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return pe(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Cr(i.loadComponent()).pipe(he(Vw),vt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),$a(()=>{this.componentLoaders.delete(i)})),o=new Uf(r,()=>new Hn).pipe(Vf());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=IR(r,this.compiler,i,this.onLoadEndListener).pipe($a(()=>{this.childrenLoaders.delete(r)})),c=new Uf(s,()=>new Hn).pipe(Vf());return this.childrenLoaders.set(r,c),c}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function IR(n,e,t,i){return Cr(n.loadChildren()).pipe(he(Vw),Rn(r=>r instanceof Ty||Array.isArray(r)?pe(r):Yt(e.compileModuleAsync(r))),he(r=>{i&&i(n);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(t).injector,s=o.get(Ym,[],{optional:!0,self:!0}).flat()),{routes:s.map(Qm),injector:o}}))}function ER(n){return n&&typeof n=="object"&&"default"in n}function Vw(n){return ER(n)?n.default:n}var Jm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>te(TR),providedIn:"root"});let n=e;return n})(),TR=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),AR=new ye("");var xR=new ye(""),CR=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Hn,this.transitionAbortSubject=new Hn,this.configLoader=te(wR),this.environmentInjector=te(Ru),this.urlSerializer=te($m),this.rootContexts=te(cd),this.location=te(Uu),this.inputBindingEnabled=te(Gm,{optional:!0})!==null,this.titleStrategy=te(Lw),this.options=te(Km,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te(Jm),this.createViewTransition=te(AR,{optional:!0}),this.navigationErrorHandler=te(xR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null;let i=o=>this.events.next(new xm(o)),r=o=>this.events.next(new Cm(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Ee(B(B({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new cn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:uc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Er(s=>s.id!==0),he(s=>Ee(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Gn(s=>{let c=!1,u=!1;return pe(s).pipe(Gn(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",yn.SupersededByNewNavigation),Ir;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=d.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&b!=="reload"){let y="";return this.events.next(new vo(d.id,this.urlSerializer.serialize(d.rawUrl),y,wm.IgnoredSameUrlNavigation)),d.resolve(!1),Ir}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return pe(d).pipe(Gn(y=>{let C=this.transitions?.getValue();return this.events.next(new pc(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),C!==this.transitions?.getValue()?Ir:Promise.resolve(y)}),mR(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),vt(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ee(B({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let C=new td(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:y,extractedUrl:C,source:P,restoredState:L,extras:F}=d,G=new pc(y,this.urlSerializer.serialize(C),P,L);this.events.next(G);let W=Cw(this.rootComponentType).snapshot;return this.currentTransition=s=Ee(B({},d),{targetSnapshot:W,urlAfterRedirects:C,extras:Ee(B({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,pe(s)}else{let y="";return this.events.next(new vo(d.id,this.urlSerializer.serialize(d.extractedUrl),y,wm.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Ir}}),vt(d=>{let m=new Im(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),he(d=>(this.currentTransition=s=Ee(B({},d),{guards:Ok(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),qk(this.environmentInjector,d=>this.events.next(d)),vt(d=>{if(s.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw sd(this.urlSerializer,d.guardsResult);let m=new Em(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Er(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",yn.GuardRejected),!1)),pm(d=>{if(d.guards.canActivateChecks.length)return pe(d).pipe(vt(m=>{let b=new Tm(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}),Gn(m=>{let b=!1;return pe(m).pipe(pR(this.paramsInheritanceStrategy,this.environmentInjector),vt({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(m,"",yn.NoDataFromResolver)}}))}),vt(m=>{let b=new Am(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}))}),pm(d=>{let m=b=>{let y=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(b.routeConfig).pipe(vt(C=>{b.component=C}),he(()=>{})));for(let C of b.children)y.push(...m(C));return y};return za(m(d.targetSnapshot.root)).pipe(qf(null),ln(1))}),pm(()=>this.afterPreactivation()),Gn(()=>{let{currentSnapshot:d,targetSnapshot:m}=s,b=this.createViewTransition?.(this.environmentInjector,d.root,m.root);return b?Yt(b).pipe(he(()=>s)):pe(s)}),he(d=>{let m=Sk(i.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=Ee(B({},d),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,s}),vt(()=>{this.events.next(new vc)}),Pk(this.rootContexts,i.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),ln(1),vt({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new go(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),ku(this.transitionAbortSubject.pipe(vt(d=>{throw d}))),$a(()=>{!c&&!u&&this.cancelNavigationTransition(s,"",yn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),hs(d=>{if(u=!0,Pw(d))this.events.next(new Qi(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),Dk(d)?this.events.next(new Rs(d.url,d.navigationBehaviorOptions)):s.resolve(!1);else{let m=new gc(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0);try{let b=hi(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(b instanceof _c){let{message:y,cancellationCode:C}=sd(this.urlSerializer,b);this.events.next(new Qi(s.id,this.urlSerializer.serialize(s.extractedUrl),y,C)),this.events.next(new Rs(b.redirectTo,b.navigationBehaviorOptions))}else{this.events.next(m);let y=i.errorHandler(d);s.resolve(!!y)}}catch(b){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(b)}}return Ir}))}))}cancelNavigationTransition(i,r,o){let s=new Qi(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function SR(n){return n!==uc}var kR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>te(RR),providedIn:"root"});let n=e;return n})(),zm=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},RR=(()=>{let e=class e extends zm{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fi(e)))(o||e)}})(),e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Uw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>te(DR),providedIn:"root"});let n=e;return n})(),DR=(()=>{let e=class e extends Uw{constructor(){super(...arguments),this.location=te(Uu),this.urlSerializer=te($m),this.options=te(Km,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te(Jm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Cw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof pc)this.stateMemento=this.createStateMemento();else if(i instanceof vo)this.rawUrlTree=r.initialUrl;else if(i instanceof td){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else i instanceof vc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof Qi&&(i.code===yn.GuardRejected||i.code===yn.NoDataFromResolver)?this.restoreHistory(r):i instanceof gc?this.restoreHistory(r,!0):i instanceof go&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=i instanceof Yi?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=B(B({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fi(e)))(o||e)}})(),e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),cc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(cc||{});function PR(n,e){n.events.pipe(Er(t=>t instanceof go||t instanceof Qi||t instanceof gc||t instanceof vo),he(t=>t instanceof go||t instanceof vo?cc.COMPLETE:(t instanceof Qi?t.code===yn.Redirect||t.code===yn.SupersededByNewNavigation:!1)?cc.REDIRECTING:cc.FAILED),Er(t=>t!==cc.REDIRECTING),ln(1)).subscribe(()=>{e()})}function OR(n){throw n}var MR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=te(Fu),this.stateManager=te(Uw),this.options=te(Km,{optional:!0})||{},this.pendingTasks=te(Kf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(CR),this.urlSerializer=te($m),this.location=te(Uu),this.urlHandlingStrategy=te(Jm),this._events=new Hn,this.errorHandler=this.options.errorHandler||OR,this.navigated=!1,this.routeReuseStrategy=te(kR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te(Ym,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(Gm,{optional:!0}),this.eventsSubscription=new ay,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Qi&&r.code!==yn.Redirect&&r.code!==yn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof go)this.navigated=!0;else if(r instanceof Rs){let c=r.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d=B({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SR(o.source)},c);this.scheduleNavigation(u,uc,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}LR(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let d=B({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let u=this.parseUrl(i);this.scheduleNavigation(u,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Qm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:d}=r,m=d?this.currentUrlTree.fragment:c,b=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":b=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}b!==null&&(b=this.removeEmptyProps(b));let y;try{let C=o?o.snapshot:this.routerState.snapshot.root;y=Ew(C)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),y=this.currentUrlTree.root}return Tw(y,i,b,m??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=fc(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,uc,null,r)}navigate(i,r={skipLocationChange:!1}){return FR(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=B({},MR):r===!1?o=B({},NR):o=r,fc(i))return sw(this.currentUrlTree,i,o);let s=this.parseUrl(i);return sw(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let u,d,m;c?(u=c.resolve,d=c.reject,m=c.promise):m=new Promise((y,C)=>{u=y,d=C});let b=this.pendingTasks.add();return PR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:u,reject:d,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function FR(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Je(4008,!1)}function LR(n){return!(n instanceof vc)&&!(n instanceof Rs)}var VR=new ye("");function jw(n,...e){return Jt([{provide:Ym,multi:!0,useValue:n},[],{provide:Ds,useFactory:UR,deps:[jt]},{provide:Vu,multi:!0,useFactory:jR},e.map(t=>t.\u0275providers)])}function UR(n){return n.routerState.root}function jR(){let n=te(Pn);return e=>{let t=n.get(Xa);if(e!==t.components[0])return;let i=n.get(jt),r=n.get(BR);n.get(zR)===1&&i.initialNavigation(),n.get($R,null,Wf.Optional)?.setUpPreloading(),n.get(VR,null,Wf.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var BR=new ye("",{factory:()=>new Hn}),zR=new ye("",{providedIn:"root",factory:()=>1});var $R=new ye("");var zw=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},qR=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],c=n[t++],u=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,c=s?n[r+1]:0,u=r+2<n.length,d=u?n[r+2]:0,m=o>>2,b=(o&3)<<4|c>>4,y=(c&15)<<2|d>>6,C=d&63;u||(C=64,s||(y=64)),i.push(t[m],t[b],t[y],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let d=r<n.length?t[n.charAt(r)]:64;++r;let b=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||c==null||d==null||b==null)throw new Zm;let y=o<<2|c>>4;if(i.push(y),d!==64){let C=c<<4&240|d>>2;if(i.push(C),b!==64){let P=d<<6&192|b;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Zm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},HR=function(n){let e=zw(n);return $w.encodeByteArray(e,!0)},Ac=function(n){return HR(n).replace(/\./g,"")},tp=function(n){try{return $w.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var WR=()=>GR().__FIREBASE_DEFAULTS__,KR=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&tp(n[1]);return e&&JSON.parse(e)},dd=()=>{try{return WR()||KR()||QR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},np=n=>{var e,t;return(t=(e=dd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hd=n=>{let e=np(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ip=()=>{var n;return(n=dd())===null||n===void 0?void 0:n.config},rp=n=>{var e;return(e=dd())===null||e===void 0?void 0:e[`_${n}`]};var ud=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function fd(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ac(JSON.stringify(t)),Ac(JSON.stringify(s)),""].join(".")}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function YR(){var n;let e=(n=dd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function md(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gw(){let n=Ct();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ww(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xc(){try{return typeof indexedDB=="object"}catch{return!1}}function pd(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function Kw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var JR="FirebaseError",xt=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=JR,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?XR(o,i):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new xt(r,c,i)}};function XR(n,e){return n.replace(ZR,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var ZR=/\{\$([^}]+)}/g;function Qw(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ji(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(Bw(o)&&Bw(s)){if(!Ji(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function Bw(n){return n!==null&&typeof n=="object"}function Cc(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ns(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Fs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Yw(n,e){let t=new ep(n,e);return t.subscribe.bind(t)}var ep=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");eD(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Xm),r.error===void 0&&(r.error=Xm),r.complete===void 0&&(r.complete=Xm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eD(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xm(){}var tD=1e3,nD=2,iD=4*60*60*1e3,rD=.5;function op(n,e=tD,t=nD){let i=e*Math.pow(t,n),r=Math.round(rD*i*(Math.random()-.5)*2);return Math.min(iD,i+r)}function Ve(n){return n&&n._delegate?n._delegate:n}var _t=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bo="[DEFAULT]";var sp=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new ud;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sD(e))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bo){return this.instances.has(e)}getOptions(e=bo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);i===c&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=bo){return this.component?this.component.multipleInstances?e:bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oD(n){return n===bo?void 0:n}function sD(n){return n.instantiationMode==="EAGER"}var gd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new sp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var aD=[],Te=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Te||{}),cD={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},lD=Te.INFO,uD={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},dD=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=uD[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},vi=class{constructor(e){this.name=e,this._logLevel=lD,this._logHandler=dD,this._userLogHandler=null,aD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}};var hD=(n,e)=>e.some(t=>n instanceof t),Jw,Xw;function fD(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mD(){return Xw||(Xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Zw=new WeakMap,cp=new WeakMap,e0=new WeakMap,ap=new WeakMap,up=new WeakMap;function pD(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(bi(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Zw.set(t,n)}).catch(()=>{}),up.set(e,n),e}function gD(n){if(cp.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});cp.set(n,e)}var lp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||e0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function t0(n){lp=n(lp)}function vD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(vd(this),e,...t);return e0.set(i,e.sort?e.sort():[e]),bi(i)}:mD().includes(n)?function(...e){return n.apply(vd(this),e),bi(Zw.get(this))}:function(...e){return bi(n.apply(vd(this),e))}}function bD(n){return typeof n=="function"?vD(n):(n instanceof IDBTransaction&&gD(n),hD(n,fD())?new Proxy(n,lp):n)}function bi(n){if(n instanceof IDBRequest)return pD(n);if(ap.has(n))return ap.get(n);let e=bD(n);return e!==n&&(ap.set(n,e),up.set(e,n)),e}var vd=n=>up.get(n);function bd(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),c=bi(s);return i&&s.addEventListener("upgradeneeded",u=>{i(bi(s.result),u.oldVersion,u.newVersion,bi(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var _D=["get","getKey","getAll","getAllKeys","count"],yD=["put","add","delete","clear"],dp=new Map;function n0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=yD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_D.includes(t)))return;let o=function(s,...c){return I(this,null,function*(){let u=this.transaction(s,r?"readwrite":"readonly"),d=u.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),r&&u.done]))[0]})};return dp.set(e,o),o}t0(n=>Ee(B({},n),{get:(e,t,i)=>n0(e,t)||n.get(e,t,i),has:(e,t)=>!!n0(e,t)||n.has(e,t)}));var fp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wD(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function wD(n){let e=n.getComponent();return e?.type==="VERSION"}var mp="@firebase/app",i0="0.10.8";var _o=new vi("@firebase/app"),ID="@firebase/app-compat",ED="@firebase/analytics-compat",TD="@firebase/analytics",AD="@firebase/app-check-compat",xD="@firebase/app-check",CD="@firebase/auth",SD="@firebase/auth-compat",kD="@firebase/database",RD="@firebase/database-compat",DD="@firebase/functions",PD="@firebase/functions-compat",OD="@firebase/installations",MD="@firebase/installations-compat",ND="@firebase/messaging",FD="@firebase/messaging-compat",LD="@firebase/performance",VD="@firebase/performance-compat",UD="@firebase/remote-config",jD="@firebase/remote-config-compat",BD="@firebase/storage",zD="@firebase/storage-compat",$D="@firebase/firestore",qD="@firebase/vertexai-preview",HD="@firebase/firestore-compat",GD="firebase",WD="10.12.5";var pp="[DEFAULT]",KD={[mp]:"fire-core",[ID]:"fire-core-compat",[TD]:"fire-analytics",[ED]:"fire-analytics-compat",[xD]:"fire-app-check",[AD]:"fire-app-check-compat",[CD]:"fire-auth",[SD]:"fire-auth-compat",[kD]:"fire-rtdb",[RD]:"fire-rtdb-compat",[DD]:"fire-fn",[PD]:"fire-fn-compat",[OD]:"fire-iid",[MD]:"fire-iid-compat",[ND]:"fire-fcm",[FD]:"fire-fcm-compat",[LD]:"fire-perf",[VD]:"fire-perf-compat",[UD]:"fire-rc",[jD]:"fire-rc-compat",[BD]:"fire-gcs",[zD]:"fire-gcs-compat",[$D]:"fire-fst",[HD]:"fire-fst-compat",[qD]:"fire-vertex","fire-js":"fire-js",[GD]:"fire-js-all"};var Sc=new Map,QD=new Map,gp=new Map;function r0(n,e){try{n.container.addComponent(e)}catch(t){_o.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bt(n){let e=n.name;if(gp.has(e))return _o.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,n);for(let t of Sc.values())r0(t,n);for(let t of QD.values())r0(t,n);return!0}function In(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qn(n){return n.settings!==void 0}var YD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new wn("app","Firebase",YD);var vp=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}};var _i=WD;function Rc(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:pp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Sr.create("bad-app-name",{appName:String(r)});if(t||(t=ip()),!t)throw Sr.create("no-options");let o=Sc.get(r);if(o){if(Ji(t,o.options)&&Ji(i,o.config))return o;throw Sr.create("duplicate-app",{appName:r})}let s=new gd(r);for(let u of gp.values())s.addComponent(u);let c=new vp(t,i,s);return Sc.set(r,c),c}function Yn(n=pp){let e=Sc.get(n);if(!e&&n===pp&&ip())return Rc();if(!e)throw Sr.create("no-app",{appName:n});return e}function _d(){return Array.from(Sc.values())}function Ue(n,e,t){var i;let r=(i=KD[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_o.warn(c.join(" "));return}Bt(new _t(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var JD="firebase-heartbeat-database",XD=1,kc="firebase-heartbeat-store",hp=null;function c0(){return hp||(hp=bd(JD,XD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Sr.create("idb-open",{originalErrorMessage:n.message})})),hp}function ZD(n){return I(this,null,function*(){try{let t=(yield c0()).transaction(kc),i=yield t.objectStore(kc).get(l0(n));return yield t.done,i}catch(e){if(e instanceof xt)_o.warn(e.message);else{let t=Sr.create("idb-get",{originalErrorMessage:e?.message});_o.warn(t.message)}}})}function o0(n,e){return I(this,null,function*(){try{let i=(yield c0()).transaction(kc,"readwrite");yield i.objectStore(kc).put(e,l0(n)),yield i.done}catch(t){if(t instanceof xt)_o.warn(t.message);else{let i=Sr.create("idb-set",{originalErrorMessage:t?.message});_o.warn(i.message)}}})}function l0(n){return`${n.name}!${n.options.appId}`}var e1=1024,t1=30*24*60*60*1e3,bp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new _p(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return I(this,null,function*(){var e,t;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=s0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=t1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return I(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=s0(),{heartbeatsToSend:i,unsentEntries:r}=n1(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function s0(){return new Date().toISOString().substring(0,10)}function n1(n,e=e1){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),a0(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),a0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var _p=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return xc()?pd().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ZD(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return o0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return o0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function a0(n){return Ac(JSON.stringify({version:2,heartbeats:n})).length}function i1(n){Bt(new _t("platform-logger",e=>new fp(e),"PRIVATE")),Bt(new _t("heartbeat",e=>new bp(e),"PRIVATE")),Ue(mp,i0,n),Ue(mp,i0,"esm2017"),Ue("fire-js","")}i1("");var r1="firebase",o1="10.12.5";Ue(r1,o1,"app");var Xi=new bs("ANGULARFIRE2_VERSION");function Vs(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var wo=(n,e)=>{let t=e?[e]:_d(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},kr=class{constructor(){return wo(s1)}},s1="app-check";function Ls(){}var yd=class{zone;delegate;constructor(e,t=ly){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},yp=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),t.pipe(vt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Rr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new yd(Zone.current)),this.insideAngular=t.run(()=>new yd(Zone.current,cy)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(X(Re))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function a1(n){return wd().ngZone.runOutsideAngular(()=>n())}function yo(n){return wd().ngZone.run(()=>n())}function c1(n){return l1(wd())(n)}function l1(n){return function(t){return t=t.lift(new yp(n.ngZone)),t.pipe(zf(n.outsideAngular),Bf(n.insideAngular))}}var u1=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),yo(()=>n.apply(void 0,i))},qe=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls))),i[o]=u1(i[o],t));let r=a1(()=>n.apply(this,i));if(!e)if(r instanceof ui){let o=wd();return r.pipe(zf(o.outsideAngular),Bf(o.insideAngular))}else return yo(()=>r);return r instanceof ui?r.pipe(c1):r instanceof Promise?yo(()=>new Promise((o,s)=>r.then(c=>yo(()=>o(c)),c=>yo(()=>s(c))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:yo(()=>r)};var Jn=class{constructor(e){return e}},Zi=class{constructor(){return _d()}};function d1(n){return n&&n.length===1?n[0]:new Jn(Yn())}var wp=new ye("angularfire2._apps"),h1={provide:Jn,useFactory:d1,deps:[[new At,wp]]},f1={provide:Zi,deps:[[new At,wp]]};function m1(n){return(e,t)=>{let i=t.get(en);Ue("angularfire",Xi.full,"core"),Ue("angularfire",Xi.full,"app"),Ue("angular",Cy.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Jn(r)}}function u0(n,...e){return Jt([h1,f1,{provide:wp,useFactory:m1(n),multi:!0,deps:[Re,Pn,Rr,...e]}])}var d0=qe(Rc,!0);function S0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var k0=S0,R0=new wn("auth","Firebase",S0());var Cd=new vi("@firebase/auth");function p1(n,...e){Cd.logLevel<=Te.WARN&&Cd.warn(`Auth (${_i}): ${n}`,...e)}function Ed(n,...e){Cd.logLevel<=Te.ERROR&&Cd.error(`Auth (${_i}): ${n}`,...e)}function wi(n,...e){throw qp(n,...e)}function Io(n,...e){return qp(n,...e)}function D0(n,e,t){let i=Object.assign(Object.assign({},k0()),{[e]:t});return new wn("auth","Firebase",i).create(e,{appName:n.name})}function nr(n){return D0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return R0.create(n,...e)}function ae(n,e,...t){if(!n)throw qp(e,...t)}function er(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ed(e),new Error(e)}function Pr(n,e){n||er(e)}function Ap(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function g1(){return h0()==="http:"||h0()==="https:"}function h0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function v1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g1()||md()||"connection"in navigator)?navigator.onLine:!0}function b1(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Eo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pr(t>e,"Short delay should be less than long delay!"),this.isMobile=qw()||Hw()}get(){return v1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Hp(n,e){Pr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Sd=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var y1=new Eo(3e4,6e4);function Or(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Mr(o,s,c,u){return I(this,arguments,function*(n,e,t,i,r={}){return P0(n,r,()=>I(this,null,function*(){let d={},m={};i&&(e==="GET"?m=i:d={body:JSON.stringify(i)});let b=Cc(Object.assign({key:n.config.apiKey},m)).slice(1),y=yield n._getAdditionalHeaders();return y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode),Sd.fetch()(O0(n,n.config.apiHost,t,b),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},d))}))})}function P0(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},_1),e);try{let r=new xp(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Id(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Id(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Id(n,"user-disabled",s);let m=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw D0(n,m,d);wi(n,m)}}catch(r){if(r instanceof xt)throw r;wi(n,"network-request-failed",{message:String(r)})}})}function Vc(o,s,c,u){return I(this,arguments,function*(n,e,t,i,r={}){let d=yield Mr(n,e,t,i,r);return"mfaPendingCredential"in d&&wi(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function O0(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?Hp(n.config,r):`${n.config.apiScheme}://${r}`}function w1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var xp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Io(this.auth,"network-request-failed")),y1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Id(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Io(n,e,i);return r.customData._tokenResponse=t,r}function f0(n){return n!==void 0&&n.enterprise!==void 0}var Cp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return w1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function I1(n,e){return I(this,null,function*(){return Mr(n,"GET","/v2/recaptchaConfig",Or(n,e))})}function E1(n,e){return I(this,null,function*(){return Mr(n,"POST","/v1/accounts:delete",e)})}function M0(n,e){return I(this,null,function*(){return Mr(n,"POST","/v1/accounts:lookup",e)})}function Dc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Gp(n,e=!1){return I(this,null,function*(){let t=Ve(n),i=yield t.getIdToken(e),r=Wp(i);ae(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Dc(Ip(r.auth_time)),issuedAtTime:Dc(Ip(r.iat)),expirationTime:Dc(Ip(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ip(n){return Number(n)*1e3}function Wp(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{let r=tp(t);return r?JSON.parse(r):(Ed("Failed to decode base64 JWT payload"),null)}catch(r){return Ed("Caught error parsing JWT payload as JSON",r?.toString()),null}}function m0(n){let e=Wp(n);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Oc(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof xt&&T1(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function T1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Sp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Mc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function kd(n){return I(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Oc(n,M0(t,{idToken:i}));ae(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?N0(o.providerUserInfo):[],c=A1(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!c?.length,m=u?d:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Mc(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,b)})}function Kp(n){return I(this,null,function*(){let e=Ve(n);yield kd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function A1(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function N0(n){return n.map(e=>{var{providerId:t}=e,i=jf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function x1(n,e){return I(this,null,function*(){let t=yield P0(n,{},()=>I(this,null,function*(){let i=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=O0(n,r,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Sd.fetch()(s,{method:"POST",headers:c,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function C1(n,e){return I(this,null,function*(){return Mr(n,"POST","/v2/accounts:revokeToken",Or(n,e))})}var Pc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ae(e.length!==0,"internal-error");let t=m0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return I(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield x1(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(ae(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(ae(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return er("not implemented")}};function Dr(n,e){ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Us=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=jf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield Oc(this,this.stsTokenManager.getToken(this.auth,e));return ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Gp(this,e)}reload(){return Kp(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield kd(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Qn(this.auth.app))return Promise.reject(nr(this.auth));let e=yield this.getIdToken();return yield Oc(this,E1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,c,u,d,m;let b=(i=t.displayName)!==null&&i!==void 0?i:void 0,y=(r=t.email)!==null&&r!==void 0?r:void 0,C=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,P=(s=t.photoURL)!==null&&s!==void 0?s:void 0,L=(c=t.tenantId)!==null&&c!==void 0?c:void 0,F=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,G=(d=t.createdAt)!==null&&d!==void 0?d:void 0,W=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:q,emailVerified:Q,isAnonymous:le,providerData:se,stsTokenManager:x}=t;ae(q&&x,e,"internal-error");let w=Pc.fromJSON(this.name,x);ae(typeof q=="string",e,"internal-error"),Dr(b,e.name),Dr(y,e.name),ae(typeof Q=="boolean",e,"internal-error"),ae(typeof le=="boolean",e,"internal-error"),Dr(C,e.name),Dr(P,e.name),Dr(L,e.name),Dr(F,e.name),Dr(G,e.name),Dr(W,e.name);let T=new n({uid:q,auth:e,email:y,emailVerified:Q,displayName:b,isAnonymous:le,photoURL:P,phoneNumber:C,tenantId:L,stsTokenManager:w,createdAt:G,lastLoginAt:W});return se&&Array.isArray(se)&&(T.providerData=se.map(S=>Object.assign({},S))),F&&(T._redirectEventId=F),T}static _fromIdTokenResponse(e,t,i=!1){return I(this,null,function*(){let r=new Pc;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield kd(o),o})}static _fromGetAccountInfoResponse(e,t,i){return I(this,null,function*(){let r=t.users[0];ae(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?N0(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new Pc;c.updateFromIdToken(i);let u=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Mc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var p0=new Map;function tr(n){Pr(n instanceof Function,"Expected a class definition");let e=p0.get(n);return e?(Pr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,p0.set(n,e),e)}var S1=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,i){return I(this,null,function*(){this.storage[t]=i})}_get(t){return I(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),kp=S1;function Td(n,e,t){return`firebase:${n}:${e}:${t}`}var Rd=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Td(this.userKey,r.apiKey,o),this.fullPersistenceKey=Td("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Us._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return I(this,null,function*(){if(!t.length)return new n(tr(kp),e,i);let r=(yield Promise.all(t.map(d=>I(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=r[0]||tr(kp),s=Td(i,e.config.apiKey,e.name),c=null;for(let d of t)try{let m=yield d._get(s);if(m){let b=Us._fromJSON(e,m);d!==o&&(c=b),o=d;break}}catch{}let u=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,i):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(d=>I(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,i))})}};function g0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j0(e))return"Blackberry";if(B0(e))return"Webos";if(Qp(e))return"Safari";if((e.includes("chrome/")||L0(e))&&!e.includes("edge/"))return"Chrome";if(U0(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function F0(n=Ct()){return/firefox\//i.test(n)}function Qp(n=Ct()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L0(n=Ct()){return/crios\//i.test(n)}function V0(n=Ct()){return/iemobile/i.test(n)}function U0(n=Ct()){return/android/i.test(n)}function j0(n=Ct()){return/blackberry/i.test(n)}function B0(n=Ct()){return/webos/i.test(n)}function Vd(n=Ct()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function k1(n=Ct()){var e;return Vd(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R1(){return Gw()&&document.documentMode===10}function z0(n=Ct()){return Vd(n)||U0(n)||B0(n)||j0(n)||/windows phone/i.test(n)||V0(n)}function D1(){try{return!!(window&&window!==window.top)}catch{return!1}}function $0(n,e=[]){let t;switch(n){case"Browser":t=g0(Ct());break;case"Worker":t=`${g0(Ct())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_i}/${i}`}var Rp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function P1(t){return I(this,arguments,function*(n,e={}){return Mr(n,"GET","/v2/passwordPolicy",Or(n,e))})}var O1=6,Dp=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:O1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Pp=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dd(this),this.idTokenSubscription=new Dd(this),this.beforeStateQueue=new Rp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tr(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Rd.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let t=yield M0(this,{idToken:e}),i=yield Us._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;if(Qn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(r=u.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield kd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=b1()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Qn(this.app))return Promise.reject(nr(this));let t=e?Ve(e):null;return t&&ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Qn(this.app)?Promise.reject(nr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qn(this.app)?Promise.reject(nr(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(tr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield P1(this),t=new Dp(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield C1(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&tr(e)||this._popupRedirectResolver;ae(t,this,"argument-error"),this.redirectPersistenceManager=yield Rd.create(this,[tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,i,r);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return I(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&p1(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ao(n){return Ve(n)}var Dd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yw(t=>this.observer=t)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ud={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M1(n){Ud=n}function q0(n){return Ud.loadJS(n)}function N1(){return Ud.recaptchaEnterpriseScript}function F1(){return Ud.gapiScript}function H0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var L1="recaptcha-enterprise",V1="NO_RECAPTCHA",Op=class{constructor(e){this.type=L1,this.auth=Ao(e)}verify(e="verify",t=!1){return I(this,null,function*(){function i(o){return I(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>I(this,null,function*(){I1(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let d=new Cp(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{c(u)})}))})}function r(o,s,c){let u=window.grecaptcha;f0(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(V1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(c=>{if(!t&&f0(window.grecaptcha))r(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=N1();u.length!==0&&(u+=c),q0(u).then(()=>{r(c,o,s)}).catch(d=>{s(d)})}}).catch(c=>{s(c)})})})}};function v0(n,e,t,i=!1){return I(this,null,function*(){let r=new Op(n),o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}let s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Mp(n,e,t,i){return I(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield v0(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield v0(n,e,t,t==="getOobCode");return i(n,s)}else return Promise.reject(o)}))})}function Yp(n,e){let t=In(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(Ji(o,e??{}))return r;wi(r,"already-initialized")}return t.initialize({options:e})}function U1(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(tr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Jp(n,e,t){let i=Ao(n);ae(i._canInitEmulator,i,"emulator-config-failed"),ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=G0(e),{host:s,port:c}=j1(e),u=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${s}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||B1()}function G0(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function j1(n){let e=G0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:b0(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:b0(s)}}}function b0(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function B1(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Nc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}};function z1(n,e){return I(this,null,function*(){return Mr(n,"POST","/v1/accounts:signUp",e)})}function $1(n,e){return I(this,null,function*(){return Vc(n,"POST","/v1/accounts:signInWithPassword",Or(n,e))})}function q1(n,e){return I(this,null,function*(){return Vc(n,"POST","/v1/accounts:signInWithEmailLink",Or(n,e))})}function H1(n,e){return I(this,null,function*(){return Vc(n,"POST","/v1/accounts:signInWithEmailLink",Or(n,e))})}var Fc=class n extends Nc{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,t,"signInWithPassword",$1);case"emailLink":return q1(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}})}_linkToIdToken(e,t){return I(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mp(e,i,"signUpPassword",z1);case"emailLink":return H1(e,{idToken:t,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ep(n,e){return I(this,null,function*(){return Vc(n,"POST","/v1/accounts:signInWithIdp",Or(n,e))})}function G1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W1(n){let e=Ns(Fs(n)).link,t=e?Ns(Fs(e)).deep_link_id:null,i=Ns(Fs(n)).deep_link_id;return(i?Ns(Fs(i)).link:null)||i||t||e||n}var Pd=class n{constructor(e){var t,i,r,o,s,c;let u=Ns(Fs(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,m=(i=u.oobCode)!==null&&i!==void 0?i:null,b=G1((r=u.mode)!==null&&r!==void 0?r:null);ae(d&&m&&b,"argument-error"),this.apiKey=d,this.operation=b,this.code=m,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=W1(e);try{return new n(t)}catch{return null}}};var W0=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Fc._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Pd.parseLink(i);return ae(r,"argument-error"),Fc._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Od=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Np=class extends Od{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function K1(n,e){return I(this,null,function*(){return Vc(n,"POST","/v1/accounts:signUp",Or(n,e))})}var js=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return I(this,null,function*(){let o=yield Us._fromIdTokenResponse(e,i,r),s=_0(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return I(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=_0(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function _0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Fp=class n extends xt{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function K0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fp._fromErrorAndOperation(n,o,e,i):o})}function Q1(n,e,t=!1){return I(this,null,function*(){let i=yield Oc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return js._forOperation(n,"link",i)})}function Y1(n,e,t=!1){return I(this,null,function*(){let{auth:i}=n;if(Qn(i.app))return Promise.reject(nr(i));let r="reauthenticate";try{let o=yield Oc(n,K0(i,r,e,n),t);ae(o.idToken,i,"internal-error");let s=Wp(o.idToken);ae(s,i,"internal-error");let{sub:c}=s;return ae(n.uid===c,i,"user-mismatch"),js._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&wi(i,"user-mismatch"),o}})}function Q0(n,e,t=!1){return I(this,null,function*(){if(Qn(n.app))return Promise.reject(nr(n));let i="signIn",r=yield K0(n,i,e),o=yield js._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function Xp(n,e){return I(this,null,function*(){return Q0(Ao(n),e)})}function Y0(n){return I(this,null,function*(){let e=Ao(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Zp(n,e,t){return I(this,null,function*(){if(Qn(n.app))return Promise.reject(nr(n));let i=Ao(n),s=yield Mp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K1).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Y0(n),u}),c=yield js._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(c.user),c})}function eg(n,e,t){return Qn(n.app)?Promise.reject(nr(n)):Xp(Ve(n),W0.credential(e,t)).catch(i=>I(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&Y0(n),i}))}function tg(n,e,t,i){return Ve(n).onIdTokenChanged(e,t,i)}function ng(n,e,t){return Ve(n).beforeAuthStateChanged(e,t)}function ig(n,e,t,i){return Ve(n).onAuthStateChanged(e,t,i)}function rg(n){return Ve(n).signOut()}var Md="__sak";var Nd=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function J1(){let n=Ct();return Qp(n)||Vd(n)}var X1=1e3,Z1=10,eP=(()=>{class n extends Nd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=J1()&&D1(),this.fallbackToPolling=z0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(r);if(t.newValue!==c)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}let o=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);R1()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Z1):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},X1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return I(this,null,function*(){yield wr(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return I(this,null,function*(){let i=yield wr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return I(this,null,function*(){yield wr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),J0=eP;var tP=(()=>{class n extends Nd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),og=tP;function nP(n){return Promise.all(n.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var iP=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return I(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let u=Array.from(c).map(m=>I(this,null,function*(){return m(i.origin,s)})),d=yield nP(u);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function X0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Lp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return I(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let d=X0("",20);r.port1.start();let m=setTimeout(()=>{u(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(b){let y=b;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(m),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function yi(){return window}function rP(n){yi().location.href=n}function Z0(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}function oP(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function sP(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aP(){return Z0()?self:null}var eI="firebaseLocalStorageDb",cP=1,Fd="firebaseLocalStorage",tI="fbase_key",To=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function jd(n,e){return n.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function lP(){let n=indexedDB.deleteDatabase(eI);return new To(n).toPromise()}function Vp(){let n=indexedDB.open(eI,cP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Fd,{keyPath:tI})}catch(r){t(r)}}),n.addEventListener("success",()=>I(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Fd)?e(i):(i.close(),yield lP(),e(yield Vp()))}))})}function y0(n,e,t){return I(this,null,function*(){let i=jd(n,!0).put({[tI]:e,value:t});return new To(i).toPromise()})}function uP(n,e){return I(this,null,function*(){let t=jd(n,!1).get(e),i=yield new To(t).toPromise();return i===void 0?null:i.value})}function w0(n,e){let t=jd(n,!0).delete(e);return new To(t).toPromise()}var dP=800,hP=3,fP=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Vp(),this.db)})}_withRetries(t){return I(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>hP)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return Z0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=iP._getInstance(aP()),this.receiver._subscribe("keyChanged",(t,i)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var t,i;if(this.activeServiceWorker=yield oP(),!this.activeServiceWorker)return;this.sender=new Lp(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||sP()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Vp();return yield y0(t,Md,"1"),yield w0(t,Md),!0}catch{}return!1})}_withPendingWrite(t){return I(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>y0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return I(this,null,function*(){let i=yield this._withRetries(r=>uP(r,t));return this.localCache[t]=i,i})}_remove(t){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>w0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return I(this,null,function*(){let t=yield this._withRetries(o=>{let s=jd(o,!1).getAll();return new To(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),dP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),nI=fP;var j4=H0("rcb"),B4=new Eo(3e4,6e4);function mP(n,e){return e?tr(e):(ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Lc=class extends Nc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ep(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ep(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ep(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function pP(n){return Q0(n.auth,new Lc(n),n.bypassAuthState)}function gP(n){let{auth:e,user:t}=n;return ae(t,e,"internal-error"),Y1(t,new Lc(n),n.bypassAuthState)}function vP(n){return I(this,null,function*(){let{auth:e,user:t}=n;return ae(t,e,"internal-error"),Q1(t,new Lc(n),n.bypassAuthState)})}var Up=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pP;case"linkViaPopup":case"linkViaRedirect":return vP;case"reauthViaPopup":case"reauthViaRedirect":return gP;default:wi(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var z4=new Eo(2e3,1e4);var bP="pendingRedirect",Ad=new Map,jp=class n extends Up{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return I(this,null,function*(){let e=Ad.get(this.auth._key());if(!e){try{let i=(yield _P(this.resolver,this.auth))?yield wr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return wr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,wr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function _P(n,e){return I(this,null,function*(){let t=IP(e),i=wP(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function yP(n,e){Ad.set(n._key(),e)}function wP(n){return tr(n._redirectPersistence)}function IP(n){return Td(bP,n.config.apiKey,n.name)}function EP(n,e,t=!1){return I(this,null,function*(){if(Qn(n.app))return Promise.reject(nr(n));let i=Ao(n),r=mP(i,e),s=yield new jp(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var TP=10*60*1e3,Bp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!iI(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Io(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TP&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}};function I0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function AP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iI(n);default:return!1}}function xP(t){return I(this,arguments,function*(n,e={}){return Mr(n,"GET","/v1/projects",e)})}var CP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SP=/^https?/;function kP(n){return I(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield xP(n);for(let t of e)try{if(RP(t))return}catch{}wi(n,"unauthorized-domain")})}function RP(n){let e=Ap(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!SP.test(t))return!1;if(CP.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var DP=new Eo(3e4,6e4);function E0(){let n=yi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PP(n){return new Promise((e,t)=>{var i,r,o;function s(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),t(Io(n,"network-request-failed"))},timeout:DP.get()})}if(!((r=(i=yi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=yi().gapi)===null||o===void 0)&&o.load)s();else{let c=H0("iframefcb");return yi()[c]=()=>{gapi.load?s():t(Io(n,"network-request-failed"))},q0(`${F1()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw xd=null,e})}var xd=null;function OP(n){return xd=xd||PP(n),xd}var MP=new Eo(5e3,15e3),NP="__/auth/iframe",FP="emulator/auth/iframe",LP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UP(n){let e=n.config;ae(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Hp(e,FP):`https://${n.config.authDomain}/${NP}`,i={apiKey:e.apiKey,appName:n.name,v:_i},r=VP.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Cc(i).slice(1)}`}function jP(n){return I(this,null,function*(){let e=yield OP(n),t=yi().gapi;return ae(t,n,"internal-error"),e.open({where:document.body,url:UP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LP,dontclear:!0},i=>new Promise((r,o)=>I(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Io(n,"network-request-failed"),c=yi().setTimeout(()=>{o(s)},MP.get());function u(){yi().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{o(s)})})))})}var BP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zP=500,$P=600,qP="_blank",HP="http://localhost",Ld=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function GP(n,e,t,i=zP,r=$P){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",u=Object.assign(Object.assign({},BP),{width:i.toString(),height:r.toString(),top:o,left:s}),d=Ct().toLowerCase();t&&(c=L0(d)?qP:t),F0(d)&&(e=e||HP,u.scrollbars="yes");let m=Object.entries(u).reduce((y,[C,P])=>`${y}${C}=${P},`,"");if(k1(d)&&c!=="_self")return WP(e||"",c),new Ld(null);let b=window.open(e||"",c,m);ae(b,n,"popup-blocked");try{b.focus()}catch{}return new Ld(b)}function WP(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var KP="__/auth/handler",QP="emulator/auth/handler",YP=encodeURIComponent("fac");function T0(n,e,t,i,r,o){return I(this,null,function*(){ae(n.config.authDomain,n,"auth-domain-config-required"),ae(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:_i,eventId:r};if(e instanceof Od){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Qw(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,b]of Object.entries(o||{}))s[m]=b}if(e instanceof Np){let m=e.getScopes().filter(b=>b!=="");m.length>0&&(s.scopes=m.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let m of Object.keys(c))c[m]===void 0&&delete c[m];let u=yield n._getAppCheckToken(),d=u?`#${YP}=${encodeURIComponent(u)}`:"";return`${JP(n)}?${Cc(c).slice(1)}${d}`})}function JP({config:n}){return n.emulator?Hp(n,QP):`https://${n.authDomain}/${KP}`}var Tp="webStorageSupport",zp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=og,this._completeRedirectFn=EP,this._overrideRedirectResult=yP}_openPopup(e,t,i,r){return I(this,null,function*(){var o;Pr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield T0(e,t,i,Ap(),r);return GP(e,s,X0())})}_openRedirect(e,t,i,r){return I(this,null,function*(){yield this._originValidation(e);let o=yield T0(e,t,i,Ap(),r);return rP(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Pr(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return I(this,null,function*(){let t=yield jP(e),i=new Bp(e);return t.register("authEvent",r=>(ae(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tp,{type:Tp},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[Tp];s!==void 0&&t(!!s),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return z0()||Qp()||Vd()}},rI=zp;var A0="@firebase/auth",x0="1.7.6";var $p=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function XP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZP(n){Bt(new _t("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=i.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(n)},d=new Pp(i,r,o,u);return U1(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Bt(new _t("auth-internal",e=>{let t=Ao(e.getProvider("auth").getImmediate());return(i=>new $p(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(A0,x0,XP(n)),Ue(A0,x0,"esm2017")}var eO=5*60,tO=rp("authIdTokenMaxAge")||eO,C0=null,nO=n=>e=>I(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>tO)return;let r=t?.token;C0!==r&&(C0=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function sg(n=Yn()){let e=In(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Yp(n,{popupRedirectResolver:rI,persistence:[nI,J0,og]}),i=rp("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=nO(o.toString());ng(t,s,()=>s(t.currentUser)),tg(t,c=>s(c))}}let r=np("auth");return r&&Jp(t,`http://${r}`),t}function iO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}M1({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=Io("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",iO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZP("Browser");var oI="auth",xo=class{constructor(e){return e}},Co=class{constructor(){return wo(oI)}};var ag=new ye("angularfire2.auth-instances");function GO(n,e){let t=Vs(oI,n,e);return t&&new xo(t)}function WO(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new xo(i)}}var KO={provide:Co,deps:[[new At,ag]]},QO={provide:xo,useFactory:GO,deps:[[new At,ag],Jn]};function sI(n,...e){return Ue("angularfire",Xi.full,"auth"),Jt([QO,KO,{provide:ag,useFactory:WO(n),multi:!0,deps:[Re,Pn,Rr,Zi,[new At,kr],...e]}])}var aI=qe(Zp,!0);var cI=qe(sg,!0);var lI=qe(ig,!0);var uI=qe(eg,!0);var dI=qe(rg,!0);var hI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fI={};var Nr,cg;(function(){var n;function e(x,w){function T(){}T.prototype=w.prototype,x.D=w.prototype,x.prototype=new T,x.prototype.constructor=x,x.C=function(S,k,D){for(var A=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)A[Ke-2]=arguments[Ke];return w.prototype[k].apply(S,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,w,T){T||(T=0);var S=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)S[k]=w.charCodeAt(T++)|w.charCodeAt(T++)<<8|w.charCodeAt(T++)<<16|w.charCodeAt(T++)<<24;else for(k=0;16>k;++k)S[k]=w[T++]|w[T++]<<8|w[T++]<<16|w[T++]<<24;w=x.g[0],T=x.g[1],k=x.g[2];var D=x.g[3],A=w+(D^T&(k^D))+S[0]+3614090360&4294967295;w=T+(A<<7&4294967295|A>>>25),A=D+(k^w&(T^k))+S[1]+3905402710&4294967295,D=w+(A<<12&4294967295|A>>>20),A=k+(T^D&(w^T))+S[2]+606105819&4294967295,k=D+(A<<17&4294967295|A>>>15),A=T+(w^k&(D^w))+S[3]+3250441966&4294967295,T=k+(A<<22&4294967295|A>>>10),A=w+(D^T&(k^D))+S[4]+4118548399&4294967295,w=T+(A<<7&4294967295|A>>>25),A=D+(k^w&(T^k))+S[5]+1200080426&4294967295,D=w+(A<<12&4294967295|A>>>20),A=k+(T^D&(w^T))+S[6]+2821735955&4294967295,k=D+(A<<17&4294967295|A>>>15),A=T+(w^k&(D^w))+S[7]+4249261313&4294967295,T=k+(A<<22&4294967295|A>>>10),A=w+(D^T&(k^D))+S[8]+1770035416&4294967295,w=T+(A<<7&4294967295|A>>>25),A=D+(k^w&(T^k))+S[9]+2336552879&4294967295,D=w+(A<<12&4294967295|A>>>20),A=k+(T^D&(w^T))+S[10]+4294925233&4294967295,k=D+(A<<17&4294967295|A>>>15),A=T+(w^k&(D^w))+S[11]+2304563134&4294967295,T=k+(A<<22&4294967295|A>>>10),A=w+(D^T&(k^D))+S[12]+1804603682&4294967295,w=T+(A<<7&4294967295|A>>>25),A=D+(k^w&(T^k))+S[13]+4254626195&4294967295,D=w+(A<<12&4294967295|A>>>20),A=k+(T^D&(w^T))+S[14]+2792965006&4294967295,k=D+(A<<17&4294967295|A>>>15),A=T+(w^k&(D^w))+S[15]+1236535329&4294967295,T=k+(A<<22&4294967295|A>>>10),A=w+(k^D&(T^k))+S[1]+4129170786&4294967295,w=T+(A<<5&4294967295|A>>>27),A=D+(T^k&(w^T))+S[6]+3225465664&4294967295,D=w+(A<<9&4294967295|A>>>23),A=k+(w^T&(D^w))+S[11]+643717713&4294967295,k=D+(A<<14&4294967295|A>>>18),A=T+(D^w&(k^D))+S[0]+3921069994&4294967295,T=k+(A<<20&4294967295|A>>>12),A=w+(k^D&(T^k))+S[5]+3593408605&4294967295,w=T+(A<<5&4294967295|A>>>27),A=D+(T^k&(w^T))+S[10]+38016083&4294967295,D=w+(A<<9&4294967295|A>>>23),A=k+(w^T&(D^w))+S[15]+3634488961&4294967295,k=D+(A<<14&4294967295|A>>>18),A=T+(D^w&(k^D))+S[4]+3889429448&4294967295,T=k+(A<<20&4294967295|A>>>12),A=w+(k^D&(T^k))+S[9]+568446438&4294967295,w=T+(A<<5&4294967295|A>>>27),A=D+(T^k&(w^T))+S[14]+3275163606&4294967295,D=w+(A<<9&4294967295|A>>>23),A=k+(w^T&(D^w))+S[3]+4107603335&4294967295,k=D+(A<<14&4294967295|A>>>18),A=T+(D^w&(k^D))+S[8]+1163531501&4294967295,T=k+(A<<20&4294967295|A>>>12),A=w+(k^D&(T^k))+S[13]+2850285829&4294967295,w=T+(A<<5&4294967295|A>>>27),A=D+(T^k&(w^T))+S[2]+4243563512&4294967295,D=w+(A<<9&4294967295|A>>>23),A=k+(w^T&(D^w))+S[7]+1735328473&4294967295,k=D+(A<<14&4294967295|A>>>18),A=T+(D^w&(k^D))+S[12]+2368359562&4294967295,T=k+(A<<20&4294967295|A>>>12),A=w+(T^k^D)+S[5]+4294588738&4294967295,w=T+(A<<4&4294967295|A>>>28),A=D+(w^T^k)+S[8]+2272392833&4294967295,D=w+(A<<11&4294967295|A>>>21),A=k+(D^w^T)+S[11]+1839030562&4294967295,k=D+(A<<16&4294967295|A>>>16),A=T+(k^D^w)+S[14]+4259657740&4294967295,T=k+(A<<23&4294967295|A>>>9),A=w+(T^k^D)+S[1]+2763975236&4294967295,w=T+(A<<4&4294967295|A>>>28),A=D+(w^T^k)+S[4]+1272893353&4294967295,D=w+(A<<11&4294967295|A>>>21),A=k+(D^w^T)+S[7]+4139469664&4294967295,k=D+(A<<16&4294967295|A>>>16),A=T+(k^D^w)+S[10]+3200236656&4294967295,T=k+(A<<23&4294967295|A>>>9),A=w+(T^k^D)+S[13]+681279174&4294967295,w=T+(A<<4&4294967295|A>>>28),A=D+(w^T^k)+S[0]+3936430074&4294967295,D=w+(A<<11&4294967295|A>>>21),A=k+(D^w^T)+S[3]+3572445317&4294967295,k=D+(A<<16&4294967295|A>>>16),A=T+(k^D^w)+S[6]+76029189&4294967295,T=k+(A<<23&4294967295|A>>>9),A=w+(T^k^D)+S[9]+3654602809&4294967295,w=T+(A<<4&4294967295|A>>>28),A=D+(w^T^k)+S[12]+3873151461&4294967295,D=w+(A<<11&4294967295|A>>>21),A=k+(D^w^T)+S[15]+530742520&4294967295,k=D+(A<<16&4294967295|A>>>16),A=T+(k^D^w)+S[2]+3299628645&4294967295,T=k+(A<<23&4294967295|A>>>9),A=w+(k^(T|~D))+S[0]+4096336452&4294967295,w=T+(A<<6&4294967295|A>>>26),A=D+(T^(w|~k))+S[7]+1126891415&4294967295,D=w+(A<<10&4294967295|A>>>22),A=k+(w^(D|~T))+S[14]+2878612391&4294967295,k=D+(A<<15&4294967295|A>>>17),A=T+(D^(k|~w))+S[5]+4237533241&4294967295,T=k+(A<<21&4294967295|A>>>11),A=w+(k^(T|~D))+S[12]+1700485571&4294967295,w=T+(A<<6&4294967295|A>>>26),A=D+(T^(w|~k))+S[3]+2399980690&4294967295,D=w+(A<<10&4294967295|A>>>22),A=k+(w^(D|~T))+S[10]+4293915773&4294967295,k=D+(A<<15&4294967295|A>>>17),A=T+(D^(k|~w))+S[1]+2240044497&4294967295,T=k+(A<<21&4294967295|A>>>11),A=w+(k^(T|~D))+S[8]+1873313359&4294967295,w=T+(A<<6&4294967295|A>>>26),A=D+(T^(w|~k))+S[15]+4264355552&4294967295,D=w+(A<<10&4294967295|A>>>22),A=k+(w^(D|~T))+S[6]+2734768916&4294967295,k=D+(A<<15&4294967295|A>>>17),A=T+(D^(k|~w))+S[13]+1309151649&4294967295,T=k+(A<<21&4294967295|A>>>11),A=w+(k^(T|~D))+S[4]+4149444226&4294967295,w=T+(A<<6&4294967295|A>>>26),A=D+(T^(w|~k))+S[11]+3174756917&4294967295,D=w+(A<<10&4294967295|A>>>22),A=k+(w^(D|~T))+S[2]+718787259&4294967295,k=D+(A<<15&4294967295|A>>>17),A=T+(D^(k|~w))+S[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+D&4294967295}i.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var T=w-this.blockSize,S=this.B,k=this.h,D=0;D<w;){if(k==0)for(;D<=T;)r(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<w;)if(S[k++]=x.charCodeAt(D++),k==this.blockSize){r(this,S),k=0;break}}else for(;D<w;)if(S[k++]=x[D++],k==this.blockSize){r(this,S),k=0;break}}this.h=k,this.o+=w},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var T=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=T&255,T/=256;for(this.u(x),x=Array(16),w=T=0;4>w;++w)for(var S=0;32>S;S+=8)x[T++]=this.g[w]>>>S&255;return x};function o(x,w){var T=c;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=w(x)}function s(x,w){this.h=w;for(var T=[],S=!0,k=x.length-1;0<=k;k--){var D=x[k]|0;S&&D==w||(T[k]=D,S=!1)}this.g=T}var c={};function u(x){return-128<=x&&128>x?o(x,function(w){return new s([w|0],0>w?-1:0)}):new s([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return F(d(-x));for(var w=[],T=1,S=0;x>=T;S++)w[S]=x/T|0,T*=4294967296;return new s(w,0)}function m(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return F(m(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=d(Math.pow(w,8)),S=b,k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k),A=parseInt(x.substring(k,k+D),w);8>D?(D=d(Math.pow(w,D)),S=S.j(D).add(d(A))):(S=S.j(T),S=S.add(d(A)))}return S}var b=u(0),y=u(1),C=u(16777216);n=s.prototype,n.m=function(){if(L(this))return-F(this).m();for(var x=0,w=1,T=0;T<this.g.length;T++){var S=this.i(T);x+=(0<=S?S:4294967296+S)*w,w*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(L(this))return"-"+F(this).toString(x);for(var w=d(Math.pow(x,6)),T=this,S="";;){var k=Q(T,w).g;T=G(T,k.j(w));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(x);if(T=k,P(T))return D+S;for(;6>D.length;)D="0"+D;S=D+S}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function L(x){return x.h==-1}n.l=function(x){return x=G(this,x),L(x)?-1:P(x)?0:1};function F(x){for(var w=x.g.length,T=[],S=0;S<w;S++)T[S]=~x.g[S];return new s(T,~x.h).add(y)}n.abs=function(){return L(this)?F(this):this},n.add=function(x){for(var w=Math.max(this.g.length,x.g.length),T=[],S=0,k=0;k<=w;k++){var D=S+(this.i(k)&65535)+(x.i(k)&65535),A=(D>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);S=A>>>16,D&=65535,A&=65535,T[k]=A<<16|D}return new s(T,T[T.length-1]&-2147483648?-1:0)};function G(x,w){return x.add(F(w))}n.j=function(x){if(P(this)||P(x))return b;if(L(this))return L(x)?F(this).j(F(x)):F(F(this).j(x));if(L(x))return F(this.j(F(x)));if(0>this.l(C)&&0>x.l(C))return d(this.m()*x.m());for(var w=this.g.length+x.g.length,T=[],S=0;S<2*w;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(var k=0;k<x.g.length;k++){var D=this.i(S)>>>16,A=this.i(S)&65535,Ke=x.i(k)>>>16,He=x.i(k)&65535;T[2*S+2*k]+=A*He,W(T,2*S+2*k),T[2*S+2*k+1]+=D*He,W(T,2*S+2*k+1),T[2*S+2*k+1]+=A*Ke,W(T,2*S+2*k+1),T[2*S+2*k+2]+=D*Ke,W(T,2*S+2*k+2)}for(S=0;S<w;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=w;S<2*w;S++)T[S]=0;return new s(T,0)};function W(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function q(x,w){this.g=x,this.h=w}function Q(x,w){if(P(w))throw Error("division by zero");if(P(x))return new q(b,b);if(L(x))return w=Q(F(x),w),new q(F(w.g),F(w.h));if(L(w))return w=Q(x,F(w)),new q(F(w.g),w.h);if(30<x.g.length){if(L(x)||L(w))throw Error("slowDivide_ only works with positive integers.");for(var T=y,S=w;0>=S.l(x);)T=le(T),S=le(S);var k=se(T,1),D=se(S,1);for(S=se(S,2),T=se(T,2);!P(S);){var A=D.add(S);0>=A.l(x)&&(k=k.add(T),D=A),S=se(S,1),T=se(T,1)}return w=G(x,k.j(w)),new q(k,w)}for(k=b;0<=x.l(w);){for(T=Math.max(1,Math.floor(x.m()/w.m())),S=Math.ceil(Math.log(T)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),D=d(T),A=D.j(w);L(A)||0<A.l(x);)T-=S,D=d(T),A=D.j(w);P(D)&&(D=y),k=k.add(D),x=G(x,A)}return new q(k,x)}n.A=function(x){return Q(this,x).h},n.and=function(x){for(var w=Math.max(this.g.length,x.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)&x.i(S);return new s(T,this.h&x.h)},n.or=function(x){for(var w=Math.max(this.g.length,x.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)|x.i(S);return new s(T,this.h|x.h)},n.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)^x.i(S);return new s(T,this.h^x.h)};function le(x){for(var w=x.g.length+1,T=[],S=0;S<w;S++)T[S]=x.i(S)<<1|x.i(S-1)>>>31;return new s(T,x.h)}function se(x,w){var T=w>>5;w%=32;for(var S=x.g.length-T,k=[],D=0;D<S;D++)k[D]=0<w?x.i(D+T)>>>w|x.i(D+T+1)<<32-w:x.i(D+T);return new s(k,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,cg=fI.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=m,Nr=fI.Integer=s}).apply(typeof hI<"u"?hI:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={};var lg,ug,Bs,dg,Uc,zd,hg,fg,mg;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,p){return a==Array.prototype||a==Object.prototype||(a[f]=p.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=t(this);function r(a,f){if(f)e:{var p=i;a=a.split(".");for(var _=0;_<a.length-1;_++){var R=a[_];if(!(R in p))break e;p=p[R]}a=a[a.length-1],_=p[a],f=f(_),f!=_&&f!=null&&e(p,a,{configurable:!0,writable:!0,value:f})}}function o(a,f){a instanceof String&&(a+="");var p=0,_=!1,R={next:function(){if(!_&&p<a.length){var M=p++;return{value:f(M,a[M]),done:!1}}return _=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}r("Array.prototype.values",function(a){return a||function(){return o(this,function(f,p){return p})}});var s=s||{},c=this||self;function u(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function d(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function m(a,f,p){return a.call.apply(a.bind,arguments)}function b(a,f,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,_),a.apply(f,R)}}return function(){return a.apply(f,arguments)}}function y(a,f,p){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:b,y.apply(null,arguments)}function C(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function P(a,f){function p(){}p.prototype=f.prototype,a.aa=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,R,M){for(var $=Array(arguments.length-2),je=2;je<arguments.length;je++)$[je-2]=arguments[je];return f.prototype[R].apply(_,$)}}function L(a){let f=a.length;if(0<f){let p=Array(f);for(let _=0;_<f;_++)p[_]=a[_];return p}return[]}function F(a,f){for(let p=1;p<arguments.length;p++){let _=arguments[p];if(u(_)){let R=a.length||0,M=_.length||0;a.length=R+M;for(let $=0;$<M;$++)a[R+$]=_[$]}else a.push(_)}}class G{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function W(a){return/^[\s\xa0]*$/.test(a)}function q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Q(a){return Q[" "](a),a}Q[" "]=function(){};var le=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function se(a,f,p){for(let _ in a)f.call(p,a[_],_,a)}function x(a,f){for(let p in a)f.call(void 0,a[p],p,a)}function w(a){let f={};for(let p in a)f[p]=a[p];return f}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,f){let p,_;for(let R=1;R<arguments.length;R++){_=arguments[R];for(p in _)a[p]=_[p];for(let M=0;M<T.length;M++)p=T[M],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function k(a){var f=1;a=a.split(":");let p=[];for(;0<f&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function D(a){c.setTimeout(()=>{throw a},0)}function A(){var a=ya;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Ke{constructor(){this.h=this.g=null}add(f,p){let _=He.get();_.set(f,p),this.h?this.h.next=_:this.g=_,this.h=_}}var He=new G(()=>new dr,a=>a.reset());class dr{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let zr,ue=!1,ya=new Ke,zl=()=>{let a=c.Promise.resolve(void 0);zr=()=>{a.then($l)}};var $l=()=>{for(var a;a=A();){try{a.h.call(a.g)}catch(p){D(p)}var f=He;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}ue=!1};function ii(){this.s=this.s,this.C=this.C}ii.prototype.s=!1,ii.prototype.ma=function(){this.s||(this.s=!0,this.N())},ii.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var vf=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let p=()=>{};c.addEventListener("test",p,f),c.removeEventListener("test",p,f)}catch{}return a}();function ri(a,f){if(O.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(le){e:{try{Q(f.nodeName);var R=!0;break e}catch{}R=!1}R||(f=null)}}else p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ql[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ri.aa.h.call(this)}}P(ri,O);var ql={2:"touch",3:"pen",4:"mouse"};ri.prototype.h=function(){ri.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Mi="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function Ni(a,f,p,_,R){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!_,this.ha=R,this.key=++Lt,this.da=this.fa=!1}function $r(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Jo(a){this.src=a,this.g={},this.h=0}Jo.prototype.add=function(a,f,p,_,R){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var $=hr(a,f,_,R);return-1<$?(f=a[$],p||(f.fa=!1)):(f=new Ni(f,this.src,M,!!_,R),f.fa=p,a.push(f)),f};function Xo(a,f){var p=f.type;if(p in a.g){var _=a.g[p],R=Array.prototype.indexOf.call(_,f,void 0),M;(M=0<=R)&&Array.prototype.splice.call(_,R,1),M&&($r(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function hr(a,f,p,_){for(var R=0;R<a.length;++R){var M=a[R];if(!M.da&&M.listener==f&&M.capture==!!p&&M.ha==_)return R}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),Fi={};function Zo(a,f,p,_,R){if(_&&_.once)return Vt(a,f,p,_,R);if(Array.isArray(f)){for(var M=0;M<f.length;M++)Zo(a,f[M],p,_,R);return null}return p=Wr(p),a&&a[Mi]?a.K(f,p,d(_)?!!_.capture:!!_,R):Dt(a,f,p,!1,_,R)}function Dt(a,f,p,_,R,M){if(!f)throw Error("Invalid event type");var $=d(R)?!!R.capture:!!R,je=Gr(a);if(je||(a[qr]=je=new Jo(a)),p=je.add(f,p,_,$,M),p.proxy)return p;if(_=Hr(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)vf||(R=$),R===void 0&&(R=!1),a.addEventListener(f.toString(),_,R);else if(a.attachEvent)a.attachEvent(Hl(f.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Hr(){function a(p){return f.call(a.src,a.listener,p)}let f=Gl;return a}function Vt(a,f,p,_,R){if(Array.isArray(f)){for(var M=0;M<f.length;M++)Vt(a,f[M],p,_,R);return null}return p=Wr(p),a&&a[Mi]?a.L(f,p,d(_)?!!_.capture:!!_,R):Dt(a,f,p,!0,_,R)}function De(a,f,p,_,R){if(Array.isArray(f))for(var M=0;M<f.length;M++)De(a,f[M],p,_,R);else _=d(_)?!!_.capture:!!_,p=Wr(p),a&&a[Mi]?(a=a.i,f=String(f).toString(),f in a.g&&(M=a.g[f],p=hr(M,p,_,R),-1<p&&($r(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete a.g[f],a.h--)))):a&&(a=Gr(a))&&(f=a.g[f.toString()],a=-1,f&&(a=hr(f,p,_,R)),(p=-1<a?f[a]:null)&&Li(p))}function Li(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Mi])Xo(f.i,a);else{var p=a.type,_=a.proxy;f.removeEventListener?f.removeEventListener(p,_,a.capture):f.detachEvent?f.detachEvent(Hl(p),_):f.addListener&&f.removeListener&&f.removeListener(_),(p=Gr(f))?(Xo(p,a),p.h==0&&(p.src=null,f[qr]=null)):$r(a)}}}function Hl(a){return a in Fi?Fi[a]:Fi[a]="on"+a}function Gl(a,f){if(a.da)a=!0;else{f=new ri(f,this);var p=a.listener,_=a.ha||a.src;a.fa&&Li(a),a=p.call(_,f)}return a}function Gr(a){return a=a[qr],a instanceof Jo?a:null}var es="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wr(a){return typeof a=="function"?a:(a[es]||(a[es]=function(f){return a.handleEvent(f)}),a[es])}function ct(){ii.call(this),this.i=new Jo(this),this.M=this,this.F=null}P(ct,ii),ct.prototype[Mi]=!0,ct.prototype.removeEventListener=function(a,f,p,_){De(this,a,f,p,_)};function Qe(a,f){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=f.type||f,typeof f=="string")f=new O(f,a);else if(f instanceof O)f.target=f.target||a;else{var R=f;f=new O(_,a),S(f,R)}if(R=!0,p)for(var M=p.length-1;0<=M;M--){var $=f.g=p[M];R=Ln($,_,!0,f)&&R}if($=f.g=a,R=Ln($,_,!0,f)&&R,R=Ln($,_,!1,f)&&R,p)for(M=0;M<p.length;M++)$=f.g=p[M],R=Ln($,_,!1,f)&&R}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var p=a.g[f],_=0;_<p.length;_++)$r(p[_]);delete a.g[f],a.h--}}this.F=null},ct.prototype.K=function(a,f,p,_){return this.i.add(String(a),f,!1,p,_)},ct.prototype.L=function(a,f,p,_){return this.i.add(String(a),f,!0,p,_)};function Ln(a,f,p,_){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var R=!0,M=0;M<f.length;++M){var $=f[M];if($&&!$.da&&$.capture==p){var je=$.listener,Tt=$.ha||$.src;$.fa&&Xo(a.i,$),R=je.call(Tt,_)!==!1&&R}}return R&&!_.defaultPrevented}function oi(a,f,p){if(typeof a=="function")p&&(a=y(a,p));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(a,f||0)}function Wl(a){a.g=oi(()=>{a.g=null,a.i&&(a.i=!1,Wl(a))},a.l);let f=a.h;a.h=null,a.m.apply(null,f)}class fr extends ii{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vn(a){ii.call(this),this.h=a,this.g={}}P(Vn,ii);var wa=[];function Kr(a){se(a.g,function(f,p){this.g.hasOwnProperty(p)&&Li(f)},a),a.g={}}Vn.prototype.N=function(){Vn.aa.N.call(this),Kr(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qr=c.JSON.stringify,bf=c.JSON.parse,Ia=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Yr(){}Yr.prototype.h=null;function Jr(a){return a.h||(a.h=a.i())}function Kl(){}var Et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pn(){O.call(this,"d")}P(pn,O);function Ea(){O.call(this,"c")}P(Ea,O);var lt={},Xr=null;function Zr(){return Xr=Xr||new ct}lt.La="serverreachability";function Ta(a){O.call(this,lt.La,a)}P(Ta,O);function we(a){let f=Zr();Qe(f,new Ta(f))}lt.STAT_EVENT="statevent";function gn(a,f){O.call(this,lt.STAT_EVENT,a),this.stat=f}P(gn,O);function Xe(a){let f=Zr();Qe(f,new gn(f,a))}lt.Ma="timingevent";function si(a,f){O.call(this,lt.Ma,a),this.size=f}P(si,O);function Ze(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},f)}function nt(){this.g=!0}nt.prototype.xa=function(){this.g=!1};function Aa(a,f,p,_,R,M){a.info(function(){if(a.g)if(M)for(var $="",je=M.split("&"),Tt=0;Tt<je.length;Tt++){var xe=je[Tt].split("=");if(1<xe.length){var kt=xe[0];xe=xe[1];var gt=kt.split("_");$=2<=gt.length&&gt[1]=="type"?$+(kt+"="+xe+"&"):$+(kt+"=redacted&")}}else $=null;else $=M;return"XMLHTTP REQ ("+_+") [attempt "+R+"]: "+f+`
`+p+`
`+$})}function Ql(a,f,p,_,R,M,$){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+R+"]: "+f+`
`+p+`
`+M+" "+$})}function Cn(a,f,p,_){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+_f(a,p)+(_?" "+_:"")})}function Ut(a,f){a.info(function(){return"TIMEOUT: "+f})}nt.prototype.info=function(){};function _f(a,f){if(!a.g)return f;if(!f)return null;try{var p=JSON.parse(f);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var R=_[1];if(Array.isArray(R)&&!(1>R.length)){var M=R[0];if(M!="noop"&&M!="stop"&&M!="close")for(var $=1;$<R.length;$++)R[$]=""}}}}return Qr(p)}catch{return f}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},to;function ts(){}P(ts,Yr),ts.prototype.g=function(){return new XMLHttpRequest},ts.prototype.i=function(){return{}},to=new ts;function Un(a,f,p,_){this.j=a,this.i=f,this.l=p,this.R=_||1,this.U=new Vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yl}function Yl(){this.i=null,this.g="",this.h=!1}var Jl={},jn={};function Ca(a,f,p){a.L=1,a.v=Ye(Bn(f)),a.m=p,a.P=!0,Xl(a,null)}function Xl(a,f){a.F=Date.now(),ns(a),a.A=Bn(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),lu(p.i,"t",_),a.C=0,p=a.j.J,a.h=new Yl,a.g=wu(a.j,p?f:null,!a.m),0<a.O&&(a.M=new fr(y(a.Y,a,a.g),a.O)),f=a.U,p=a.g,_=a.ca;var R="readystatechange";Array.isArray(R)||(R&&(wa[0]=R.toString()),R=wa);for(var M=0;M<R.length;M++){var $=Zo(p,R[M],_||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),we(),Aa(a.i,a.u,a.A,a.l,a.R,a.m)}Un.prototype.ca=function(a){a=a.target;let f=this.M;f&&Sn(a)==3?f.j():this.Y(a)},Un.prototype.Y=function(a){try{if(a==this.g)e:{let gt=Sn(this.g);var f=this.g.Ba();let zi=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||gt!=4||f==7||(f==8||0>=zi?we(3):we(2)),Sa(this);var p=this.g.Z();this.X=p;t:if(Zl(this)){var _=Ma(this.g);a="";var R=_.length,M=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),no(this);var $="";break t}this.h.i=new c.TextDecoder}for(f=0;f<R;f++)this.h.h=!0,a+=this.h.i.decode(_[f],{stream:!(M&&f==R-1)});_.length=0,this.h.g+=a,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,Ql(this.i,this.u,this.A,this.l,this.R,gt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Tt=this.g;if((je=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(je)){var xe=je;break t}}xe=null}if(p=xe)Cn(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,p);else{this.o=!1,this.s=3,Xe(12),Kt(this),no(this);break e}}if(this.P){p=!0;let an;for(;!this.J&&this.C<$.length;)if(an=yf(this,$),an==jn){gt==4&&(this.s=4,Xe(14),p=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Jl){this.s=4,Xe(15),Cn(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else Cn(this.i,this.l,an,null),ka(this,an);if(Zl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||$.length!=0||this.h.h||(this.s=1,Xe(16),p=!1),this.o=this.o&&p,!p)Cn(this.i,this.l,$,"[Invalid Chunked Response]"),Kt(this),no(this);else if(0<$.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),La(kt),kt.M=!0,Xe(11))}}else Cn(this.i,this.l,$,null),ka(this,$);gt==4&&Kt(this),this.o&&!this.J&&(gt==4?_u(this.j,this):(this.o=!1,ns(this)))}else Mf(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),Kt(this),no(this)}}}catch{}finally{}};function Zl(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function yf(a,f){var p=a.C,_=f.indexOf(`
`,p);return _==-1?jn:(p=Number(f.substring(p,_)),isNaN(p)?Jl:(_+=1,_+p>f.length?jn:(f=f.slice(_,_+p),a.C=_+p,f)))}Un.prototype.cancel=function(){this.J=!0,Kt(this)};function ns(a){a.S=Date.now()+a.I,is(a,a.I)}function is(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ze(y(a.ba,a),f)}function Sa(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Un.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(Ut(this.i,this.A),this.L!=2&&(we(),Xe(17)),Kt(this),this.s=2,no(this)):is(this,this.S-a)};function no(a){a.j.G==0||a.J||_u(a.j,a)}function Kt(a){Sa(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Kr(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function ka(a,f){try{var p=a.j;if(p.G!=0&&(p.g==a||Ra(p.h,a))){if(!a.K&&Ra(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var R=_;if(R[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)ci(p),cs(p);else break e;kn(p),Xe(18)}}else p.za=R[1],0<p.za-p.T&&37500>R[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ze(y(p.Za,p),6e3));if(1>=tu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ji(p,11)}else if((a.K||p.g==a)&&ci(p),!W(f))for(R=p.Da.g.parse(f),f=0;f<R.length;f++){let xe=R[f];if(p.T=xe[0],xe=xe[1],p.G==2)if(xe[0]=="c"){p.K=xe[1],p.ia=xe[2];let kt=xe[3];kt!=null&&(p.la=kt,p.j.info("VER="+p.la));let gt=xe[4];gt!=null&&(p.Aa=gt,p.j.info("SVER="+p.Aa));let zi=xe[5];zi!=null&&typeof zi=="number"&&0<zi&&(_=1.5*zi,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;let an=a.g;if(an){let _r=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var M=_.h;M.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Da(M,M.h),M.h=null))}if(_.D){let yr=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;yr&&(_.ya=yr,Me(_.I,_.D,yr))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var $=a;if(_.qa=Bi(_,_.J?_.ia:null,_.W),$.K){nu(_.h,$);var je=$,Tt=_.L;Tt&&(je.I=Tt),je.B&&(Sa(je),ns(je)),_.g=$}else bu(_);0<p.i.length&&ls(p)}else xe[0]!="stop"&&xe[0]!="close"||ji(p,7);else p.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?ji(p,7):Na(p):xe[0]!="noop"&&p.l&&p.l.ta(xe),p.v=0)}}we(4)}catch{}}var wf=class{constructor(a,f){this.g=a,this.map=f}};function eu(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rs(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function tu(a){return a.h?1:a.g?a.g.size:0}function Ra(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Da(a,f){a.g?a.g.add(f):a.h=f}function nu(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}eu.prototype.cancel=function(){if(this.i=iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function iu(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(let p of a.g.values())f=f.concat(p.D);return f}return L(a.i)}function ze(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var f=[],p=a.length,_=0;_<p;_++)f.push(a[_]);return f}f=[],p=0;for(_ in a)f[p++]=a[_];return f}function If(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var f=[];a=a.length;for(var p=0;p<a;p++)f.push(p);return f}f=[],p=0;for(let _ in a)f[p++]=_;return f}}}function ru(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var p=If(a),_=ze(a),R=_.length,M=0;M<R;M++)f.call(void 0,_[M],p&&p[M],a)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ef(a,f){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),R=null;if(0<=_){var M=a[p].substring(0,_);R=a[p].substring(_+1)}else M=a[p];f(M,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Vi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Vi){this.h=a.h,mr(this,a.j),this.o=a.o,this.g=a.g,ai(this,a.s),this.l=a.l;var f=a.i,p=new oo;p.i=f.i,f.g&&(p.g=new Map(f.g),p.h=f.h),Pa(this,p),this.m=a.m}else a&&(f=String(a).match(ou))?(this.h=!1,mr(this,f[1]||"",!0),this.o=io(f[2]||""),this.g=io(f[3]||"",!0),ai(this,f[4]),this.l=io(f[5]||"",!0),Pa(this,f[6]||"",!0),this.m=io(f[7]||"")):(this.h=!1,this.i=new oo(null,this.h))}Vi.prototype.toString=function(){var a=[],f=this.j;f&&a.push(ro(f,Oa,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(ro(f,Oa,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(ro(p,p.charAt(0)=="/"?xf:Af,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",ro(p,su)),a.join("")};function Bn(a){return new Vi(a)}function mr(a,f,p){a.j=p?io(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function ai(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Pa(a,f,p){f instanceof oo?(a.i=f,Sf(a.i,a.h)):(p||(f=ro(f,Cf)),a.i=new oo(f,a.h))}function Me(a,f,p){a.i.set(f,p)}function Ye(a){return Me(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function io(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ro(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,Tf),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Tf(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Oa=/[#\/\?@]/g,Af=/[#\?:]/g,xf=/[#\?]/g,Cf=/[#\?@]/g,su=/#/g;function oo(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function zn(a){a.g||(a.g=new Map,a.h=0,a.i&&Ef(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}n=oo.prototype,n.add=function(a,f){zn(this),this.i=null,a=pr(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function au(a,f){zn(a),f=pr(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function cu(a,f){return zn(a),f=pr(a,f),a.g.has(f)}n.forEach=function(a,f){zn(this),this.g.forEach(function(p,_){p.forEach(function(R){a.call(f,R,_,this)},this)},this)},n.na=function(){zn(this);let a=Array.from(this.g.values()),f=Array.from(this.g.keys()),p=[];for(let _=0;_<f.length;_++){let R=a[_];for(let M=0;M<R.length;M++)p.push(f[_])}return p},n.V=function(a){zn(this);let f=[];if(typeof a=="string")cu(this,a)&&(f=f.concat(this.g.get(pr(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)f=f.concat(a[p])}return f},n.set=function(a,f){return zn(this),this.i=null,a=pr(this,a),cu(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},n.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function lu(a,f,p){au(a,f),0<p.length&&(a.i=null,a.g.set(pr(a,f),L(p)),a.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],f=Array.from(this.g.keys());for(var p=0;p<f.length;p++){var _=f[p];let M=encodeURIComponent(String(_)),$=this.V(_);for(_=0;_<$.length;_++){var R=M;$[_]!==""&&(R+="="+encodeURIComponent(String($[_]))),a.push(R)}}return this.i=a.join("&")};function pr(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Sf(a,f){f&&!a.j&&(zn(a),a.i=null,a.g.forEach(function(p,_){var R=_.toLowerCase();_!=R&&(au(this,_),lu(this,R,p))},a)),a.j=f}function kf(a,f){let p=new nt;if(c.Image){let _=new Image;_.onload=C($n,p,"TestLoadImage: loaded",!0,f,_),_.onerror=C($n,p,"TestLoadImage: error",!1,f,_),_.onabort=C($n,p,"TestLoadImage: abort",!1,f,_),_.ontimeout=C($n,p,"TestLoadImage: timeout",!1,f,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else f(!1)}function Rf(a,f){let p=new nt,_=new AbortController,R=setTimeout(()=>{_.abort(),$n(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:_.signal}).then(M=>{clearTimeout(R),M.ok?$n(p,"TestPingServer: ok",!0,f):$n(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(R),$n(p,"TestPingServer: error",!1,f)})}function $n(a,f,p,_,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),_(p)}catch{}}function Df(){this.g=new Ia}function uu(a,f,p){let _=p||"";try{ru(a,function(R,M){let $=R;d(R)&&($=Qr(R)),f.push(_+M+"="+encodeURIComponent($))})}catch(R){throw f.push(_+"type="+encodeURIComponent("_badmap")),R}}function so(a){this.l=a.Ub||null,this.j=a.eb||!1}P(so,Yr),so.prototype.g=function(){return new os(this.l,this.j)},so.prototype.i=function(a){return function(){return a}}({});function os(a,f){ct.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(os,ct),n=os.prototype,n.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,ao(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ao(this)),this.g&&(this.readyState=3,ao(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ui(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ui(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?gr(this):ao(this),this.readyState==3&&Ui(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,gr(this))},n.Qa=function(a){this.g&&(this.response=a,gr(this))},n.ga=function(){this.g&&gr(this)};function gr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ao(a)}n.setRequestHeader=function(a,f){this.u.append(a,f)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function ao(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ss(a){let f="";return se(a,function(p,_){f+=_,f+=":",f+=p,f+=`\r
`}),f}function as(a,f,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=ss(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Me(a,f,p))}function et(a){ct.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(et,ct);var Pf=/^https?$/i,Of=["POST","PUT"];n=et.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,f,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():to.g(),this.v=this.o?Jr(this.o):Jr(to),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(M){du(this,M);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var R in _)p.set(R,_[R]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let M of _.keys())p.set(M,_.get(M));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),R=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Of,f,void 0))||_||R||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,$]of p)this.g.setRequestHeader(M,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mu(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){du(this,M)}};function du(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,hu(a),qn(a)}function hu(a){a.A||(a.A=!0,Qe(a,"complete"),Qe(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Qe(this,"complete"),Qe(this,"abort"),qn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?fu(this):this.bb())},n.bb=function(){fu(this)};function fu(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Sn(a)!=4||a.Z()!=2)){if(a.u&&Sn(a)==4)oi(a.Ea,0,a);else if(Qe(a,"readystatechange"),Sn(a)==4){a.h=!1;try{let $=a.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var _;if(_=$===0){var R=String(a.D).match(ou)[1]||null;!R&&c.self&&c.self.location&&(R=c.self.location.protocol.slice(0,-1)),_=!Pf.test(R?R.toLowerCase():"")}p=_}if(p)Qe(a,"complete"),Qe(a,"success");else{a.m=6;try{var M=2<Sn(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",hu(a)}}finally{qn(a)}}}}function qn(a,f){if(a.g){mu(a);let p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Qe(a,"ready");try{p.onreadystatechange=_}catch{}}}function mu(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Sn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),bf(f)}};function Ma(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(a){let f={};a=(a.g&&2<=Sn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(W(a[_]))continue;var p=k(a[_]);let R=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let M=f[R]||[];f[R]=M,M.push(p)}x(f,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function co(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function pu(a){this.Aa=0,this.i=[],this.j=new nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=co("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=co("baseRetryDelayMs",5e3,a),this.cb=co("retryDelaySeedMs",1e4,a),this.Wa=co("forwardChannelMaxRetries",2,a),this.wa=co("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new eu(a&&a.concurrentRequestLimit),this.Da=new Df,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=pu.prototype,n.la=8,n.G=1,n.connect=function(a,f,p,_){Xe(0),this.W=a,this.H=f||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=Bi(this,null,this.W),ls(this)};function Na(a){if(gu(a),a.G==3){var f=a.U++,p=Bn(a.I);if(Me(p,"SID",a.K),Me(p,"RID",f),Me(p,"TYPE","terminate"),lo(a,p),f=new Un(a,a.j,f),f.L=2,f.v=Ye(Bn(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=f.v,p=!0),p||(f.g=wu(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ns(f)}Ua(a)}function cs(a){a.g&&(La(a),a.g.cancel(),a.g=null)}function gu(a){cs(a),a.u&&(c.clearTimeout(a.u),a.u=null),ci(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function ls(a){if(!rs(a.h)&&!a.s){a.s=!0;var f=a.Ga;zr||zl(),ue||(zr(),ue=!0),ya.add(f,a),a.B=0}}function vr(a,f){return tu(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ze(y(a.Ga,a,f),yu(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let R=new Un(this,this.j,a),M=this.o;if(this.S&&(M?(M=w(M),S(M,this.S)):M=this.S),this.m!==null||this.O||(R.H=M,M=null),this.P)e:{for(var f=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=p;break e}if(f===4096||p===this.i.length-1){f=p+1;break e}}f=1e3}else f=1e3;f=Fa(this,R,f),p=Bn(this.I),Me(p,"RID",a),Me(p,"CVER",22),this.D&&Me(p,"X-HTTP-Session-Id",this.D),lo(this,p),M&&(this.O?f="headers="+encodeURIComponent(String(ss(M)))+"&"+f:this.m&&as(p,this.m,M)),Da(this.h,R),this.Ua&&Me(p,"TYPE","init"),this.P?(Me(p,"$req",f),Me(p,"SID","null"),R.T=!0,Ca(R,p,null)):Ca(R,p,f),this.G=2}}else this.G==3&&(a?vu(this,a):this.i.length==0||rs(this.h)||vu(this))};function vu(a,f){var p;f?p=f.l:p=a.U++;let _=Bn(a.I);Me(_,"SID",a.K),Me(_,"RID",p),Me(_,"AID",a.T),lo(a,_),a.m&&a.o&&as(_,a.m,a.o),p=new Un(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Fa(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Da(a.h,p),Ca(p,_,f)}function lo(a,f){a.H&&se(a.H,function(p,_){Me(f,_,p)}),a.l&&ru({},function(p,_){Me(f,_,p)})}function Fa(a,f,p){p=Math.min(a.i.length,p);var _=a.l?y(a.l.Na,a.l,a):null;e:{var R=a.i;let M=-1;for(;;){let $=["count="+p];M==-1?0<p?(M=R[0].g,$.push("ofs="+M)):M=0:$.push("ofs="+M);let je=!0;for(let Tt=0;Tt<p;Tt++){let xe=R[Tt].g,kt=R[Tt].map;if(xe-=M,0>xe)M=Math.max(0,R[Tt].g-100),je=!1;else try{uu(kt,$,"req"+xe+"_")}catch{_&&_(kt)}}if(je){_=$.join("&");break e}}}return a=a.i.splice(0,p),f.D=a,_}function bu(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;zr||zl(),ue||(zr(),ue=!0),ya.add(f,a),a.v=0}}function kn(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ze(y(a.Fa,a),yu(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Va(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ze(y(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xe(10),cs(this),Va(this))};function La(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Va(a){a.g=new Un(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Bn(a.qa);Me(f,"RID","rpc"),Me(f,"SID",a.K),Me(f,"AID",a.T),Me(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Me(f,"TO",a.ja),Me(f,"TYPE","xmlhttp"),lo(a,f),a.m&&a.o&&as(f,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Ye(Bn(f)),p.m=null,p.P=!0,Xl(p,a)}n.Za=function(){this.C!=null&&(this.C=null,cs(this),kn(this),Xe(19))};function ci(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function _u(a,f){var p=null;if(a.g==f){ci(a),La(a),a.g=null;var _=2}else if(Ra(a.h,f))p=f.D,nu(a.h,f),_=1;else return;if(a.G!=0){if(f.o)if(_==1){p=f.m?f.m.length:0,f=Date.now()-f.F;var R=a.B;_=Zr(),Qe(_,new si(_,p)),ls(a)}else bu(a);else if(R=f.s,R==3||R==0&&0<f.X||!(_==1&&vr(a,f)||_==2&&kn(a)))switch(p&&0<p.length&&(f=a.h,f.i=f.i.concat(p)),R){case 1:ji(a,5);break;case 4:ji(a,10);break;case 3:ji(a,6);break;default:ji(a,2)}}}function yu(a,f){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*f}function ji(a,f){if(a.j.info("Error code "+f),f==2){var p=y(a.fb,a),_=a.Xa;let R=!_;_=new Vi(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||mr(_,"https"),Ye(_),R?kf(_.toString(),p):Rf(_.toString(),p)}else Xe(2);a.G=0,a.l&&a.l.sa(f),Ua(a),gu(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Ua(a){if(a.G=0,a.ka=[],a.l){let f=iu(a.h);(f.length!=0||a.i.length!=0)&&(F(a.ka,f),F(a.ka,a.i),a.h.i.length=0,L(a.i),a.i.length=0),a.l.ra()}}function Bi(a,f,p){var _=p instanceof Vi?Bn(p):new Vi(p);if(_.g!="")f&&(_.g=f+"."+_.g),ai(_,_.s);else{var R=c.location;_=R.protocol,f=f?f+"."+R.hostname:R.hostname,R=+R.port;var M=new Vi(null);_&&mr(M,_),f&&(M.g=f),R&&ai(M,R),p&&(M.l=p),_=M}return p=a.D,f=a.ya,p&&f&&Me(_,p,f),Me(_,"VER",a.la),lo(a,_),_}function wu(a,f,p){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new et(new so({eb:p})):new et(a.pa),f.Ha(a.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}n=Iu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function us(){}us.prototype.g=function(a,f){return new Qt(a,f)};function Qt(a,f){ct.call(this),this.g=new pu(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!W(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!W(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new br(this)}P(Qt,ct),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Na(this.g)},Qt.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Qr(a),a=p);f.i.push(new wf(f.Ya++,a)),f.G==3&&ls(f)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Na(this.g),delete this.g,Qt.aa.N.call(this)};function Eu(a){pn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(let p in f){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}P(Eu,pn);function Tu(){Ea.call(this),this.status=1}P(Tu,Ea);function br(a){this.g=a}P(br,Iu),br.prototype.ua=function(){Qe(this.g,"a")},br.prototype.ta=function(a){Qe(this.g,new Eu(a))},br.prototype.sa=function(a){Qe(this.g,new Tu)},br.prototype.ra=function(){Qe(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,mg=ir.createWebChannelTransport=function(){return new us},fg=ir.getStatEventTarget=function(){return Zr()},hg=ir.Event=lt,zd=ir.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,Uc=ir.ErrorCode=eo,xa.COMPLETE="complete",dg=ir.EventType=xa,Kl.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Bs=ir.WebChannel=Kl,ug=ir.FetchXmlHttpFactory=so,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,lg=ir.XhrIo=et}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});var mI="@firebase/firestore";var Rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");var sa="10.12.5";var Do=new vi("@firebase/firestore");function jc(){return Do.logLevel}function J(n,...e){if(Do.logLevel<=Te.DEBUG){let t=e.map(Xv);Do.debug(`Firestore (${sa}): ${n}`,...t)}}function rr(n,...e){if(Do.logLevel<=Te.ERROR){let t=e.map(Xv);Do.error(`Firestore (${sa}): ${n}`,...t)}}function Ks(n,...e){if(Do.logLevel<=Te.WARN){let t=e.map(Xv);Do.warn(`Firestore (${sa}): ${n}`,...t)}}function Xv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ce(n="Unexpected state"){let e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+n;throw rr(e),new Error(e)}function We(n,e){n||ce()}function fe(n,e){return n}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Wd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_g=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rt.UNAUTHENTICATED))}shutdown(){}},yg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},wg=class{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve(),o=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xn,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield r(this.currentUser)}))},c=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string"),new Wd(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Rt(e)}},Ig=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Eg=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Ig(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Tg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ag=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,J("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new Tg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function JO(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var Kd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=JO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function Oe(n,e){return n<e?-1:n>e?1:0}function Qs(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Nt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ge=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Nt(0,0))}static max(){return new n(new Nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qd=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ce(),i===void 0?i=e.length-t:i>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},tt=class n extends Qd{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Y(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},XO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tn=class n extends Qd{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return XO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new Y(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(i+=c,r++):(o(),r++)}if(o(),s)throw new Y(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(tt.fromString(e))}static fromName(e){return new n(tt.fromString(e).popFirst(5))}static empty(){return new n(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new tt(e.slice()))}};var xg=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};xg.UNKNOWN_ID=-1;function ZO(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ge.fromTimestamp(i===1e9?new Nt(t+1,0):new Nt(t,i));return new Po(r,re.empty(),e)}function eM(n){return new Po(n.readTime,n.key,-1)}var Po=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ge.min(),re.empty(),-1)}static max(){return new n(ge.max(),re.empty(),-1)}};function tM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}var nM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function al(n){return I(this,null,function*(){if(n.code!==V.FAILED_PRECONDITION||n.message!==nM)throw n;J("LocalStore","Unexpectedly lost primary lease")})}var z=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&t()},u=>i(u))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(m=>{s[d]=m,++c,c===o&&i(s)},m=>r(m))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function iM(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cl(n){return n.name==="IndexedDbTransactionError"}var WI=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function xh(n){return n==null}function Gc(n){return n===0&&1/n==-1/0}function rM(n){return typeof n=="number"&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var oM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lz=[...oM,"documentOverlays"],sM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aM=sM,cM=[...aM,"indexConfiguration","indexState","indexEntries"];var Vz=[...cM,"globals"];function pI(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KI(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ot=class n{constructor(e,t){this.comparator=e,this.root=t||Ei.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hs(this.root,e,this.comparator,!0)}},Hs=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ei=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1;Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Ei(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $t=class n{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Mn=class n{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new n([])}unionWith(e){let t=new $t(Tn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Jd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ht=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Jd("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ht.EMPTY_BYTE_STRING=new Ht("");var lM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(n){if(We(!!n),typeof n=="string"){let e=0,t=lM.exec(n);if(We(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rt(n.seconds),nanos:rt(n.nanos)}}function rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lr(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}function Zv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function eb(n){let e=n.mapValue.fields.__previous_value__;return Zv(e)?eb(e):e}function Wc(n){let e=or(n.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}var Sg=class{constructor(e,t,i,r,o,s,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},Xd=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var $d={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zv(n)?4:QI(n)?9007199254740991:10:ce()}function Ci(n,e){if(n===e)return!0;let t=Oo(n);if(t!==Oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wc(n).isEqual(Wc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=or(r.timestampValue),c=or(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Lr(r.bytesValue).isEqual(Lr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return rt(r.geoPointValue.latitude)===rt(o.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return rt(r.integerValue)===rt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=rt(r.doubleValue),c=rt(o.doubleValue);return s===c?Gc(s)===Gc(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Qs(n.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(pI(s)!==pI(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Ci(s[u],c[u])))return!1;return!0}(n,e);default:return ce()}}function Kc(n,e){return(n.values||[]).find(t=>Ci(t,e))!==void 0}function Ys(n,e){if(n===e)return 0;let t=Oo(n),i=Oo(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=rt(o.integerValue||o.doubleValue),u=rt(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return gI(n.timestampValue,e.timestampValue);case 4:return gI(Wc(n),Wc(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(o,s){let c=Lr(o),u=Lr(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let d=0;d<c.length&&d<u.length;d++){let m=Oe(c[d],u[d]);if(m!==0)return m}return Oe(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=Oe(rt(o.latitude),rt(s.latitude));return c!==0?c:Oe(rt(o.longitude),rt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){let c=o.values||[],u=s.values||[];for(let d=0;d<c.length&&d<u.length;++d){let m=Ys(c[d],u[d]);if(m)return m}return Oe(c.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===$d.mapValue&&s===$d.mapValue)return 0;if(o===$d.mapValue)return 1;if(s===$d.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),d=s.fields||{},m=Object.keys(d);u.sort(),m.sort();for(let b=0;b<u.length&&b<m.length;++b){let y=Oe(u[b],m[b]);if(y!==0)return y;let C=Ys(c[u[b]],d[m[b]]);if(C!==0)return C}return Oe(u.length,m.length)}(n.mapValue,e.mapValue);default:throw ce()}}function gI(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);let t=or(n),i=or(e),r=Oe(t.seconds,i.seconds);return r!==0?r:Oe(t.nanos,i.nanos)}function Js(n){return kg(n)}function kg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=or(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Lr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=kg(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${kg(t.fields[s])}`;return r+"}"}(n.mapValue):ce()}function vI(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rg(n){return!!n&&"integerValue"in n}function tb(n){return!!n&&"arrayValue"in n}function bI(n){return!!n&&"nullValue"in n}function _I(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hd(n){return!!n&&"mapValue"in n}function zc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Vo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=zc(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function QI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var En=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(t)}setAll(e){let t=Tn.emptyPath(),i={},r=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,i,r),i={},r=[],t=c.popLast()}s?i[c.lastSegment()]=zc(s):r.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());Hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Hd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Vo(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(zc(this.value))}};function YI(n){let e=[];return Vo(n.fields,(t,i)=>{let r=new Tn([t]);if(Hd(i)){let o=YI(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new Mn(e)}var Zn=class n{constructor(e,t,i,r,o,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ge.min(),ge.min(),ge.min(),En.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,ge.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,ge.min(),ge.min(),En.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ge.min(),ge.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xs=class{constructor(e,t){this.position=e,this.inclusive=t}};function yI(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=re.comparator(re.fromName(s.referenceValue),t.key):i=Ys(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function wI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ci(n.position[t],e.position[t]))return!1;return!0}var Mo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function uM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Zd=class{},It=class n extends Zd{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Pg(e,t,i):t==="array-contains"?new Ng(e,i):t==="in"?new Fg(e,i):t==="not-in"?new Lg(e,i):t==="array-contains-any"?new Vg(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Og(e,i):new Mg(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ys(t,this.value)):t!==null&&Oo(this.value)===Oo(t)&&this.matchesComparison(Ys(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ei=class n extends Zd{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return JI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function JI(n){return n.op==="and"}function XI(n){return dM(n)&&JI(n)}function dM(n){for(let e of n.filters)if(e instanceof ei)return!1;return!0}function Dg(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Js(n.value);if(XI(n))return n.filters.map(e=>Dg(e)).join(",");{let e=n.filters.map(t=>Dg(t)).join(",");return`${n.op}(${e})`}}function ZI(n,e){return n instanceof It?function(i,r){return r instanceof It&&i.op===r.op&&i.field.isEqual(r.field)&&Ci(i.value,r.value)}(n,e):n instanceof ei?function(i,r){return r instanceof ei&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,c)=>o&&ZI(s,r.filters[c]),!0):!1}(n,e):void ce()}function eE(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Js(t.value)}`}(n):n instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(eE).join(" ,")+"}"}(n):"Filter"}var Pg=class extends It{constructor(e,t,i){super(e,t,i),this.key=re.fromName(i.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},Og=class extends It{constructor(e,t){super(e,"in",t),this.keys=tE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Mg=class extends It{constructor(e,t){super(e,"not-in",t),this.keys=tE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>re.fromName(i.referenceValue))}var Ng=class extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return tb(t)&&Kc(t.arrayValue,this.value)}},Fg=class extends It{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Kc(this.value.arrayValue,t)}},Lg=class extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Kc(this.value.arrayValue,t)}},Vg=class extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!tb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Kc(this.value.arrayValue,i))}};var Ug=class{constructor(e,t=null,i=[],r=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function II(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Ug(n,e,t,i,r,o,s)}function nb(n){let e=fe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Dg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Js(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Js(i)).join(",")),e.ue=t}return e.ue}function ib(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ZI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wI(n.startAt,e.startAt)&&wI(n.endAt,e.endAt)}function jg(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Vr=class{constructor(e,t=null,i=[],r=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function hM(n,e,t,i,r,o,s,c){return new Vr(n,e,t,i,r,o,s,c)}function Ch(n){return new Vr(n)}function EI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nE(n){return n.collectionGroup!==null}function $c(n){let e=fe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new $t(Tn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Mo(o,i))}),t.has(Tn.keyField().canonicalString())||e.ce.push(new Mo(Tn.keyField(),i))}return e.ce}function Ti(n){let e=fe(n);return e.le||(e.le=fM(e,$c(n))),e.le}function fM(n,e){if(n.limitType==="F")return II(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Mo(r.field,o)});let t=n.endAt?new Xs(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xs(n.startAt.position,n.startAt.inclusive):null;return II(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Bg(n,e){let t=n.filters.concat([e]);return new Vr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zg(n,e,t){return new Vr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sh(n,e){return ib(Ti(n),Ti(e))&&n.limitType===e.limitType}function iE(n){return`${nb(Ti(n))}|lt:${n.limitType}`}function zs(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>eE(r)).join(", ")}]`),xh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Js(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Js(r)).join(",")),`Target(${i})`}(Ti(n))}; limitType=${n.limitType})`}function kh(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):re.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of $c(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,c,u){let d=yI(s,c,u);return s.inclusive?d<=0:d<0}(i.startAt,$c(i),r)||i.endAt&&!function(s,c,u){let d=yI(s,c,u);return s.inclusive?d>=0:d>0}(i.endAt,$c(i),r))}(n,e)}function mM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rE(n){return(e,t)=>{let i=!1;for(let r of $c(n)){let o=pM(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function pM(n,e,t){let i=n.field.isKeyField()?re.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),d=c.data.field(o);return u!==null&&d!==null?Ys(u,d):ce()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ce()}}var Ur=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return KI(this.inner)}size(){return this.innerSize}};var gM=new ot(re.comparator);function sr(){return gM}var oE=new ot(re.comparator);function Bc(...n){let e=oE;for(let t of n)e=e.insert(t.key,t);return e}function sE(n){let e=oE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function So(){return qc()}function aE(){return qc()}function qc(){return new Ur(n=>n.toString(),(n,e)=>n.isEqual(e))}var vM=new ot(re.comparator),bM=new $t(re.comparator);function Ae(...n){let e=bM;for(let t of n)e=e.add(t);return e}var _M=new $t(Oe);function yM(){return _M}function cE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function lE(n){return{integerValue:""+n}}function wM(n,e){return rM(e)?lE(e):cE(n,e)}var Zs=class{constructor(){this._=void 0}};function IM(n,e,t){return n instanceof ea?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Zv(o)&&(o=eb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof No?dE(n,e):n instanceof Fo?hE(n,e):function(r,o){let s=uE(r,o),c=TI(s)+TI(r.Pe);return Rg(s)&&Rg(r.Pe)?lE(c):cE(r.serializer,c)}(n,e)}function EM(n,e,t){return n instanceof No?dE(n,e):n instanceof Fo?hE(n,e):t}function uE(n,e){return n instanceof ta?function(i){return Rg(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var ea=class extends Zs{},No=class extends Zs{constructor(e){super(),this.elements=e}};function dE(n,e){let t=fE(e);for(let i of n.elements)t.some(r=>Ci(r,i))||t.push(i);return{arrayValue:{values:t}}}var Fo=class extends Zs{constructor(e){super(),this.elements=e}};function hE(n,e){let t=fE(e);for(let i of n.elements)t=t.filter(r=>!Ci(r,i));return{arrayValue:{values:t}}}var ta=class extends Zs{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function TI(n){return rt(n.integerValue||n.doubleValue)}function fE(n){return tb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function TM(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof No&&r instanceof No||i instanceof Fo&&r instanceof Fo?Qs(i.elements,r.elements,Ci):i instanceof ta&&r instanceof ta?Ci(i.Pe,r.Pe):i instanceof ea&&r instanceof ea}(n.transform,e.transform)}var $g=class{constructor(e,t){this.version=e,this.transformResults=t}},Ai=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var na=class{};function mE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qc(n.key,Ai.none()):new Lo(n.key,n.data,Ai.none());{let t=n.data,i=En.empty(),r=new $t(Tn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Si(n.key,i,new Mn(r.toArray()),Ai.none())}}function AM(n,e,t){n instanceof Lo?function(r,o,s){let c=r.value.clone(),u=xI(r.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Si?function(r,o,s){if(!Gd(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=xI(r.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(pE(r)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Hc(n,e,t,i){return n instanceof Lo?function(o,s,c,u){if(!Gd(o.precondition,s))return c;let d=o.value.clone(),m=CI(o.fieldTransforms,u,s);return d.setAll(m),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Si?function(o,s,c,u){if(!Gd(o.precondition,s))return c;let d=CI(o.fieldTransforms,u,s),m=s.data;return m.setAll(pE(o)),m.setAll(d),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(o,s,c){return Gd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function xM(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=uE(i.transform,r||null);o!=null&&(t===null&&(t=En.empty()),t.set(i.field,o))}return t||null}function AI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Qs(i,r,(o,s)=>TM(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Lo=class extends na{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Si=class extends na{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function pE(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function xI(n,e,t){let i=new Map;We(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,c=e.data.field(o.field);i.set(o.field,EM(s,c,t[r]))}return i}function CI(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,IM(o,s,e))}return i}var Qc=class extends na{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},qg=class extends na{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Hg=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&AM(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Hc(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Hc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=aE();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(r.key)?null:c;let u=mE(s,c);u!==null&&i.set(r.key,u),s.isValidDocument()||s.convertToNoDocument(ge.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(t,i)=>AI(t,i))&&Qs(this.baseMutations,e.baseMutations,(t,i)=>AI(t,i))}},Gg=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){We(e.mutations.length===i.length);let r=function(){return vM}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var Wg=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Kg=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var yt,Ce;function CM(n){switch(n){default:return ce();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function gE(n){if(n===void 0)return rr("GRPC error has no .code"),V.UNKNOWN;switch(n){case yt.OK:return V.OK;case yt.CANCELLED:return V.CANCELLED;case yt.UNKNOWN:return V.UNKNOWN;case yt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case yt.INTERNAL:return V.INTERNAL;case yt.UNAVAILABLE:return V.UNAVAILABLE;case yt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case yt.NOT_FOUND:return V.NOT_FOUND;case yt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case yt.ABORTED:return V.ABORTED;case yt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case yt.DATA_LOSS:return V.DATA_LOSS;default:return ce()}}(Ce=yt||(yt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var SI=null;function SM(){return new TextEncoder}var kM=new Nr([4294967295,4294967295],0);function kI(n){let e=SM().encode(n),t=new cg;return t.update(e),new Uint8Array(t.digest())}function RI(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Nr([t,i],0),new Nr([r,o],0)]}var Qg=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ko(`Invalid padding: ${t}`);if(i<0)throw new ko(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ko(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Nr.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Nr.fromNumber(i)));return r.compare(kM)===1&&(r=new Nr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=kI(e),[i,r]=RI(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let t=kI(e),[i,r]=RI(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},ko=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var eh=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ge.min(),r,new ot(Oe),sr(),Ae())}},Yc=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Ae(),Ae(),Ae())}};var Gs=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},th=class{constructor(e,t){this.targetId=e,this.me=t}},nh=class{constructor(e,t,i=Ht.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},ih=class{constructor(){this.fe=0,this.ge=PI(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ae(),t=Ae(),i=Ae();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ce()}}),new Yc(this.pe,this.ye,e,t,i)}ve(){this.we=!1,this.ge=PI()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Yg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=sr(),this.qe=DI(),this.Qe=new ot(Oe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let o=r.target;if(jg(o))if(i===0){let s=new re(o.path);this.Ue(t,s,Zn.newNoDocument(s,ge.min()))}else We(i===1);else{let s=this.Ye(t);if(s!==i){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}SI?.et(function(m,b,y,C,P){var L,F,G,W,q,Q;let le={localCacheCount:m,existenceFilterCount:b.count,databaseId:y.database,projectId:y.projectId},se=b.unchangedNames;return se&&(le.bloomFilter={applied:P===0,hashCount:(L=se?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(W=(G=(F=se?.bits)===null||F===void 0?void 0:F.bitmap)===null||G===void 0?void 0:G.length)!==null&&W!==void 0?W:0,padding:(Q=(q=se?.bits)===null||q===void 0?void 0:q.padding)!==null&&Q!==void 0?Q:0,mightContain:x=>{var w;return(w=C?.mightContain(x))!==null&&w!==void 0&&w}}),le}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,c;try{s=Lr(i).toUint8Array()}catch(u){if(u instanceof Jd)return Ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Qg(s,r,o)}catch(u){return Ks(u instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,o,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&jg(c.target)){let u=new re(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Zn.newNoDocument(u,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let i=Ae();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new eh(e,t,this.Qe,this.ke,i);return this.ke=sr(),this.qe=DI(),this.Qe=new ot(Oe),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ih,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $t(Oe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||J("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ih),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function DI(){return new ot(re.comparator)}function PI(){return new ot(re.comparator)}var RM={asc:"ASCENDING",desc:"DESCENDING"},DM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PM={and:"AND",or:"OR"},Jg=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Xg(n,e){return n.useProto3Json||xh(e)?e:{value:e}}function rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OM(n,e){return rh(n,e.toTimestamp())}function xi(n){return We(!!n),ge.fromTimestamp(function(t){let i=or(t);return new Nt(i.seconds,i.nanos)}(n))}function rb(n,e){return Zg(n,e).canonicalString()}function Zg(n,e){let t=function(r){return new tt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function bE(n){let e=tt.fromString(n);return We(EE(e)),e}function ev(n,e){return rb(n.databaseId,e.path)}function pg(n,e){let t=bE(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(yE(t))}function _E(n,e){return rb(n.databaseId,e)}function MM(n){let e=bE(n);return e.length===4?tt.emptyPath():yE(e)}function tv(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yE(n){return We(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function OI(n,e,t){return{name:ev(n,e),fields:t.value.mapValue.fields}}function NM(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(We(m===void 0||typeof m=="string"),Ht.fromBase64String(m||"")):(We(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ht.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(d){let m=d.code===void 0?V.UNKNOWN:gE(d.code);return new Y(m,d.message||"")}(s);t=new nh(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=pg(n,i.document.name),o=xi(i.document.updateTime),s=i.document.createTime?xi(i.document.createTime):ge.min(),c=new En({mapValue:{fields:i.document.fields}}),u=Zn.newFoundDocument(r,o,s,c),d=i.targetIds||[],m=i.removedTargetIds||[];t=new Gs(d,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=pg(n,i.document),o=i.readTime?xi(i.readTime):ge.min(),s=Zn.newNoDocument(r,o),c=i.removedTargetIds||[];t=new Gs([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=pg(n,i.document),o=i.removedTargetIds||[];t=new Gs([],o,r,null)}else{if(!("filter"in e))return ce();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new Kg(r,o),c=i.targetId;t=new th(c,s)}}return t}function FM(n,e){let t;if(e instanceof Lo)t={update:OI(n,e.key,e.value)};else if(e instanceof Qc)t={delete:ev(n,e.key)};else if(e instanceof Si)t={update:OI(n,e.key,e.data),updateMask:HM(e.fieldMask)};else{if(!(e instanceof qg))return ce();t={verify:ev(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let c=s.transform;if(c instanceof ea)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof No)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ta)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:OM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce()}(n,e.precondition)),t}function LM(n,e){return n&&n.length>0?(We(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?xi(r.updateTime):xi(o);return s.isEqual(ge.min())&&(s=xi(o)),new $g(s,r.transformResults||[])}(t,e))):[]}function VM(n,e){return{documents:[_E(n,e.path)]}}function UM(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_E(n,r);let o=function(d){if(d.length!==0)return IE(ei.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(m=>function(y){return{field:$s(y.field),direction:zM(y.dir)}}(m))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=Xg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:r}}function jM(n){let e=MM(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){We(i===1);let m=t.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(b){let y=wE(b);return y instanceof ei&&XI(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(b){return b.map(y=>function(P){return new Mo(qs(P.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(y))}(t.orderBy));let c=null;t.limit&&(c=function(b){let y;return y=typeof b=="object"?b.value:b,xh(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(b){let y=!!b.before,C=b.values||[];return new Xs(C,y)}(t.startAt));let d=null;return t.endAt&&(d=function(b){let y=!b.before,C=b.values||[];return new Xs(C,y)}(t.endAt)),hM(e,r,s,o,c,"F",u,d)}function BM(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=qs(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=qs(t.unaryFilter.field);return It.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qs(t.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qs(t.unaryFilter.field);return It.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(n):n.fieldFilter!==void 0?function(t){return It.create(qs(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ei.create(t.compositeFilter.filters.map(i=>wE(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce()}}(t.compositeFilter.op))}(n):ce()}function zM(n){return RM[n]}function $M(n){return DM[n]}function qM(n){return PM[n]}function $s(n){return{fieldPath:n.canonicalString()}}function qs(n){return Tn.fromServerFormat(n.fieldPath)}function IE(n){return n instanceof It?function(t){if(t.op==="=="){if(_I(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NAN"}};if(bI(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_I(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NOT_NAN"}};if(bI(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(t.field),op:$M(t.op),value:t.value}}}(n):n instanceof ei?function(t){let i=t.getFilters().map(r=>IE(r));return i.length===1?i[0]:{compositeFilter:{op:qM(t.op),filters:i}}}(n):ce()}function HM(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Jc=class n{constructor(e,t,i,r,o=ge.min(),s=ge.min(),c=Ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var nv=class{constructor(e){this.ct=e}};function GM(n){let e=jM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zg(e,e.limit,"L"):e}var oh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(rt(e.integerValue));else if("doubleValue"in e){let i=rt(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Gc(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=or(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Lr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?QI(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):ce()}Vt(e,t){this.dt(t,25),this.bt(e,t)}bt(e,t){t.Rt(e)}wt(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}St(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),re.fromName(e).path.forEach(i=>{this.dt(t,60),this.bt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};oh.Dt=new oh;var iv=class{constructor(){this.an=new rv}addToCollectionParentIndex(e,t){return this.an.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(Po.min())}updateCollectionGroup(e,t,i){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}},rv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new $t(tt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new $t(tt.comparator)).toArray()}};var jz=new Uint8Array(0);var Ii=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);var Xc=class n{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new n(0)}static Bn(){return new n(-1)}};var ov=class{constructor(){this.changes=new Ur(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var av=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Hc(i.mutation,r,Mn.empty(),Nt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ae()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ae()){let r=So();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Bc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=So();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ae()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,i,r){let o=sr(),s=qc(),c=function(){return qc()}();return t.forEach((u,d)=>{let m=i.get(d.key);r.has(d.key)&&(m===void 0||m.mutation instanceof Si)?o=o.insert(d.key,d):m!==void 0?(s.set(d.key,m.mutation.getFieldMask()),Hc(m.mutation,d,m.mutation.getFieldMask(),Nt.now())):s.set(d.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,m)=>s.set(d,m)),t.forEach((d,m)=>{var b;return c.set(d,new sv(m,(b=s.get(d))!==null&&b!==void 0?b:null))}),c))}recalculateAndSaveOverlays(e,t){let i=qc(),r=new ot((s,c)=>s-c),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let m=i.get(u)||Mn.empty();m=c.applyToLocalView(d,m),i.set(u,m);let b=(r.get(c.batchId)||Ae()).add(u);r=r.insert(c.batchId,b)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,m=u.value,b=aE();m.forEach(y=>{if(!o.has(y)){let C=mE(t.get(y),i.get(y));C!==null&&b.set(y,C),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,b))}return z.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):z.resolve(So()),c=-1,u=o;return s.next(d=>z.forEach(d,(m,b)=>(c<b.largestBatchId&&(c=b.largestBatchId),o.get(m)?z.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{u=u.insert(m,y)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Ae())).next(m=>({batchId:c,changes:sE(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(i=>{let r=Bc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=Bc();return this.indexManager.getCollectionParents(e,o).next(c=>z.forEach(c,u=>{let d=function(b,y){return new Vr(y,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(m=>{m.forEach((b,y)=>{s=s.insert(b,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((u,d)=>{let m=d.getKey();s.get(m)===null&&(s=s.insert(m,Zn.newInvalidDocument(m)))});let c=Bc();return s.forEach((u,d)=>{let m=o.get(u);m!==void 0&&Hc(m.mutation,d,Mn.empty(),Nt.now()),kh(t,d)&&(c=c.insert(u,d))}),c})}};var cv=class{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return z.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:xi(r.createTime)}}(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,function(r){return{name:r.name,query:GM(r.bundledQuery),readTime:xi(r.readTime)}}(t)),z.resolve()}};var lv=class{constructor(){this.overlays=new ot(re.comparator),this.Pr=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){let i=So();return z.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),z.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Pr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(i)),z.resolve()}getOverlaysForCollection(e,t,i){let r=So(),o=t.length+1,s=new re(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>i&&r.set(u.getKey(),u)}return z.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ot((d,m)=>d-m),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>i){let m=o.get(d.largestBatchId);m===null&&(m=So(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}let c=So(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=r)););return z.resolve(c)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Pr.get(r.largestBatchId).delete(i.key);this.Pr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Wg(t,i));let o=this.Pr.get(t);o===void 0&&(o=Ae(),this.Pr.set(t,o)),this.Pr.set(t,o.add(i.key))}};var uv=class{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,z.resolve()}};var Zc=class{constructor(){this.Ir=new $t(wt.Tr),this.Er=new $t(wt.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){let i=new wt(e,t);this.Ir=this.Ir.add(i),this.Er=this.Er.add(i)}Ar(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Rr(new wt(e,t))}Vr(e,t){e.forEach(i=>this.removeReference(i,t))}mr(e){let t=new re(new tt([])),i=new wt(t,e),r=new wt(t,e+1),o=[];return this.Er.forEachInRange([i,r],s=>{this.Rr(s),o.push(s.key)}),o}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){let t=new re(new tt([])),i=new wt(t,e),r=new wt(t,e+1),o=Ae();return this.Er.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new wt(e,0),i=this.Ir.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},wt=class{constructor(e,t){this.key=e,this.yr=t}static Tr(e,t){return re.comparator(e.key,t.key)||Oe(e.yr,t.yr)}static dr(e,t){return Oe(e.yr,t.yr)||re.comparator(e.key,t.key)}};var dv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new $t(wt.Tr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Hg(o,t,i,r);this.mutationQueue.push(s);for(let c of r)this.Sr=this.Sr.add(new wt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,t){return z.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Dr(i),o=r<0?0:r;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new wt(t,0),r=new wt(t,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([i,r],s=>{let c=this.br(s.yr);o.push(c)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(Oe);return t.forEach(r=>{let o=new wt(r,0),s=new wt(r,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,s],c=>{i=i.add(c.yr)})}),z.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;re.isDocumentKey(o)||(o=o.child(""));let s=new wt(new re(o),0),c=new $t(Oe);return this.Sr.forEachWhile(u=>{let d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(u.yr)),!0)},s),z.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(i=>{let r=this.br(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){We(this.vr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Sr;return z.forEach(t.mutations,r=>{let o=new wt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Sr=i})}xn(e){}containsKey(e,t){let i=new wt(t,0),r=this.Sr.firstAfterOrEqual(i);return z.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){let t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var hv=class{constructor(e){this.Fr=e,this.docs=function(){return new ot(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Fr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return z.resolve(i?i.document.mutableCopy():Zn.newInvalidDocument(t))}getEntries(e,t){let i=sr();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Zn.newInvalidDocument(r))}),z.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=sr(),s=t.path,c=new re(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:m}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||tM(eM(m),i)<=0||(r.has(m.key)||kh(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ce()}Mr(e,t){return z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fv(this)}getSize(e){return z.resolve(this.size)}},fv=class extends ov{constructor(e){super(),this.ur=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.ur.addEntry(e,r)):this.ur.removeEntry(i)}),z.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}};var mv=class{constructor(e){this.persistence=e,this.Or=new Ur(t=>nb(t),ib),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new Zc,this.targetCount=0,this.Br=Xc.Ln()}forEachTarget(e,t){return this.Or.forEach((i,r)=>t(r)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Nr&&(this.Nr=t),z.resolve()}Qn(e){this.Or.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Br=new Xc(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Qn(t),z.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Lr.mr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Or.forEach((s,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Or.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),z.waitFor(o).next(()=>r)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){let i=this.Or.get(t)||null;return z.resolve(i)}addMatchingKeys(e,t,i){return this.Lr.Ar(t,i),z.resolve()}removeMatchingKeys(e,t,i){this.Lr.Vr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Lr.mr(t),z.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Lr.pr(t);return z.resolve(i)}containsKey(e,t){return z.resolve(this.Lr.containsKey(t))}};var pv=class{constructor(e,t){this.kr={},this.overlays={},this.qr=new WI(0),this.Qr=!1,this.Qr=!0,this.Kr=new uv,this.referenceDelegate=e(this),this.$r=new mv(this),this.indexManager=new iv,this.remoteDocumentCache=function(r){return new hv(r)}(i=>this.referenceDelegate.Ur(i)),this.serializer=new nv(t),this.Wr=new cv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.kr[e.toKey()];return i||(i=new dv(t,this.referenceDelegate),this.kr[e.toKey()]=i),i}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,t,i){J("MemoryPersistence","Starting transaction:",e);let r=new gv(this.qr.next());return this.referenceDelegate.Gr(),i(r).next(o=>this.referenceDelegate.zr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}jr(e,t){return z.or(Object.values(this.kr).map(i=>()=>i.containsKey(e,t)))}},gv=class extends Cg{constructor(e){super(),this.currentSequenceNumber=e}},vv=class n{constructor(e){this.persistence=e,this.Hr=new Zc,this.Jr=null}static Yr(e){return new n(e)}get Zr(){if(this.Jr)return this.Jr;throw ce()}addReference(e,t,i){return this.Hr.addReference(i,t),this.Zr.delete(i.toString()),z.resolve()}removeReference(e,t,i){return this.Hr.removeReference(i,t),this.Zr.add(i.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Zr.add(t.toString()),z.resolve()}removeTarget(e,t){this.Hr.mr(t.targetId).forEach(r=>this.Zr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Zr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Gr(){this.Jr=new Set}zr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Zr,i=>{let r=re.fromPath(i);return this.Xr(e,r).next(o=>{o||t.removeEntry(r,ge.min())})}).next(()=>(this.Jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Xr(e,t).next(i=>{i?this.Zr.delete(t.toString()):this.Zr.add(t.toString())})}Ur(e){return 0}Xr(e,t){return z.or([()=>z.resolve(this.Hr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.jr(e,t)])}};var bv=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ki=i,this.$i=r}static Ui(e,t){let i=Ae(),r=Ae();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var _v=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var yv=class{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=function(){return Ww()?8:iM(Ct())>0?6:4}()}initialize(e,t){this.Hi=e,this.indexManager=t,this.Wi=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.Ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Yi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new _v;return this.Zi(e,t,s).next(c=>{if(o.result=c,this.Gi)return this.Xi(e,t,s,c.size)})}).next(()=>o.result)}Xi(e,t,i,r){return i.documentReadCount<this.zi?(jc()<=Te.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",zs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),z.resolve()):(jc()<=Te.DEBUG&&J("QueryEngine","Query:",zs(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ji*r?(jc()<=Te.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",zs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):z.resolve())}Ji(e,t){if(EI(t))return z.resolve(null);let i=Ti(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=zg(t,null,"F"),i=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=Ae(...o);return this.Hi.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,i).next(u=>{let d=this.es(t,c);return this.ts(t,d,s,u.readTime)?this.Ji(e,zg(t,null,"F")):this.ns(e,d,t,u)}))})))}Yi(e,t,i,r){return EI(t)||r.isEqual(ge.min())?z.resolve(null):this.Hi.getDocuments(e,i).next(o=>{let s=this.es(t,o);return this.ts(t,s,i,r)?z.resolve(null):(jc()<=Te.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zs(t)),this.ns(e,s,t,ZO(r,-1)).next(c=>c))})}es(e,t){let i=new $t(rE(e));return t.forEach((r,o)=>{kh(e,o)&&(i=i.add(o))}),i}ts(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Zi(e,t,i){return jc()<=Te.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",zs(t)),this.Hi.getDocumentsMatchingQuery(e,t,Po.min(),i)}ns(e,t,i,r){return this.Hi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wv=class{constructor(e,t,i,r){this.persistence=e,this.rs=t,this.serializer=r,this.ss=new ot(Oe),this.os=new Ur(o=>nb(o),ib),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(i)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new av(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ss))}};function WM(n,e,t,i){return new wv(n,e,t,i)}function TE(n,e){return I(this,null,function*(){let t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.cs(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],c=[],u=Ae();for(let d of r){s.push(d.batchId);for(let m of d.mutations)u=u.add(m.key)}for(let d of o){c.push(d.batchId);for(let m of d.mutations)u=u.add(m.key)}return t.localDocuments.getDocuments(i,u).next(d=>({ls:d,removedBatchIds:s,addedBatchIds:c}))})})})}function KM(n,e){let t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.us.newChangeBuffer({trackRemovals:!0});return function(c,u,d,m){let b=d.batch,y=b.keys(),C=z.resolve();return y.forEach(P=>{C=C.next(()=>m.getEntry(u,P)).next(L=>{let F=d.docVersions.get(P);We(F!==null),L.version.compareTo(F)<0&&(b.applyToRemoteDocument(L,d),L.isValidDocument()&&(L.setReadTime(d.commitVersion),m.addEntry(L)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(u,b))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=Ae();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function AE(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.$r.getLastRemoteSnapshotVersion(t))}function QM(n,e){let t=fe(n),i=e.snapshotVersion,r=t.ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.us.newChangeBuffer({trackRemovals:!0});r=t.ss;let c=[];e.targetChanges.forEach((m,b)=>{let y=r.get(b);if(!y)return;c.push(t.$r.removeMatchingKeys(o,m.removedDocuments,b).next(()=>t.$r.addMatchingKeys(o,m.addedDocuments,b)));let C=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(Ht.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):m.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(m.resumeToken,i)),r=r.insert(b,C),function(L,F,G){return L.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(y,C,m)&&c.push(t.$r.updateTargetData(o,C))});let u=sr(),d=Ae();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(YM(o,s,e.documentUpdates).next(m=>{u=m.hs,d=m.Ps})),!i.isEqual(ge.min())){let m=t.$r.getLastRemoteSnapshotVersion(o).next(b=>t.$r.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(m)}return z.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.ss=r,o))}function YM(n,e,t){let i=Ae(),r=Ae();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=sr();return t.forEach((c,u)=>{let d=o.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(ge.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):J("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{hs:s,Ps:r}})}function JM(n,e){let t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function XM(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.$r.getTargetData(i,e).next(o=>o?(r=o,z.resolve(r)):t.$r.allocateTargetId(i).next(s=>(r=new Jc(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.$r.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ss=t.ss.insert(i.targetId,i),t.os.set(e,i.targetId)),i})}function Iv(n,e,t){return I(this,null,function*(){let i=fe(n),r=i.ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!cl(s))throw s;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ss=i.ss.remove(e),i.os.delete(r.target)})}function MI(n,e,t){let i=fe(n),r=ge.min(),o=Ae();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,m){let b=fe(u),y=b.os.get(m);return y!==void 0?z.resolve(b.ss.get(y)):b.$r.getTargetData(d,m)}(i,s,Ti(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.$r.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>i.rs.getDocumentsMatchingQuery(s,e,t?r:ge.min(),t?o:Ae())).next(c=>(ZM(i,mM(e),c),{documents:c,Is:o})))}function ZM(n,e,t){let i=n._s.get(e)||ge.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n._s.set(e,i)}var sh=class{constructor(){this.activeTargetIds=yM()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ev=class{constructor(){this.io=new sh,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,t,i){this.so[e]=t}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new sh,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Tv=class{oo(e){}shutdown(){}};var ah=class{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.lo)e(0)}co(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qd=null;function gg(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}var eN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Av=class{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}};var zt="WebChannelConnection",xv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.bo=i+"://"+t.host,this.Do=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get vo(){return!1}Fo(t,i,r,o,s){let c=gg(),u=this.Mo(t,i.toUriEncodedString());J("RestConnection",`Sending RPC '${t}' ${c}:`,u,r);let d={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(d,o,s),this.Oo(t,u,d,r).then(m=>(J("RestConnection",`Received RPC '${t}' ${c}: `,m),m),m=>{throw Ks("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",u,"request:",r),m})}No(t,i,r,o,s,c){return this.Fo(t,i,r,o,s)}xo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}Mo(t,i){let r=eN[t];return`${this.bo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,t,i,r){let o=gg();return new Promise((s,c)=>{let u=new lg;u.setWithCredentials(!0),u.listenOnce(dg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uc.NO_ERROR:let m=u.getResponseJson();J(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),s(m);break;case Uc.TIMEOUT:J(zt,`RPC '${e}' ${o} timed out`),c(new Y(V.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:let b=u.getStatus();if(J(zt,`RPC '${e}' ${o} failed with status:`,b,"response text:",u.getResponseText()),b>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let P=function(F){let G=F.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(G)>=0?G:V.UNKNOWN}(C.status);c(new Y(P,C.message))}else c(new Y(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Y(V.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{J(zt,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(r);J(zt,`RPC '${e}' ${o} sending request:`,r),u.send(t,"POST",d,i,15)})}Lo(e,t,i){let r=gg(),o=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mg(),c=fg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new ug({})),this.xo(u.initMessageHeaders,t,i),u.encodeInitMessageHeaders=!0;let m=o.join("");J(zt,`Creating RPC '${e}' stream ${r}: ${m}`,u);let b=s.createWebChannel(m,u),y=!1,C=!1,P=new Av({Po:F=>{C?J(zt,`Not sending because RPC '${e}' stream ${r} is closed:`,F):(y||(J(zt,`Opening RPC '${e}' stream ${r} transport.`),b.open(),y=!0),J(zt,`RPC '${e}' stream ${r} sending:`,F),b.send(F))},Io:()=>b.close()}),L=(F,G,W)=>{F.listen(G,q=>{try{W(q)}catch(Q){setTimeout(()=>{throw Q},0)}})};return L(b,Bs.EventType.OPEN,()=>{C||(J(zt,`RPC '${e}' stream ${r} transport opened.`),P.po())}),L(b,Bs.EventType.CLOSE,()=>{C||(C=!0,J(zt,`RPC '${e}' stream ${r} transport closed`),P.wo())}),L(b,Bs.EventType.ERROR,F=>{C||(C=!0,Ks(zt,`RPC '${e}' stream ${r} transport errored:`,F),P.wo(new Y(V.UNAVAILABLE,"The operation could not be completed")))}),L(b,Bs.EventType.MESSAGE,F=>{var G;if(!C){let W=F.data[0];We(!!W);let q=W,Q=q.error||((G=q[0])===null||G===void 0?void 0:G.error);if(Q){J(zt,`RPC '${e}' stream ${r} received error:`,Q);let le=Q.status,se=function(T){let S=yt[T];if(S!==void 0)return gE(S)}(le),x=Q.message;se===void 0&&(se=V.INTERNAL,x="Unknown error status: "+le+" with message "+Q.message),C=!0,P.wo(new Y(se,x)),b.close()}else J(zt,`RPC '${e}' stream ${r} received:`,W),P.So(W)}}),L(c,hg.STAT_EVENT,F=>{F.stat===zd.PROXY?J(zt,`RPC '${e}' stream ${r} detected buffering proxy`):F.stat===zd.NOPROXY&&J(zt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{P.yo()},0),P}};function vg(){return typeof document<"u"?document:null}function Rh(n){return new Jg(n,!0)}var ch=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ai=e,this.timerId=t,this.Bo=i,this.ko=r,this.qo=o,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();let t=Math.floor(this.Qo+this.Go()),i=Math.max(0,Date.now()-this.$o),r=Math.max(0,t-i);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Qo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,()=>(this.$o=Date.now(),e())),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}};var lh=class{constructor(e,t,i,r,o,s,c,u){this.ai=e,this.jo=i,this.Ho=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new ch(e,t)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}stop(){return I(this,null,function*(){this.t_()&&(yield this.close(0))})}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,()=>this.o_()))}__(e){this.a_(),this.stream.send(e)}o_(){return I(this,null,function*(){if(this.n_())return this.close(0)})}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}close(e,t){return I(this,null,function*(){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):t&&t.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Vo(t)})}c_(){}auth(){this.state=1;let e=this.l_(this.Jo),t=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Jo===t&&this.h_(i,r)},i=>{e(()=>{let r=new Y(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.P_(r)})})}h_(e,t){let i=this.l_(this.Jo);this.stream=this.I_(e,t),this.stream.To(()=>{i(()=>this.listener.To())}),this.stream.Ao(()=>{i(()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,()=>(this.n_()&&(this.state=3),Promise.resolve())),this.listener.Ao()))}),this.stream.Vo(r=>{i(()=>this.P_(r))}),this.stream.onMessage(r=>{i(()=>++this.Xo==1?this.T_(r):this.onNext(r))})}r_(){this.state=5,this.e_.Wo(()=>I(this,null,function*(){this.state=0,this.start()}))}P_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return t=>{this.ai.enqueueAndForget(()=>this.Jo===e?t():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Cv=class extends lh{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}I_(e,t){return this.connection.Lo("Listen",e,t)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();let t=NM(this.serializer,e),i=function(o){if(!("targetChange"in o))return ge.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ge.min():s.readTime?xi(s.readTime):ge.min()}(e);return this.listener.E_(t,i)}d_(e){let t={};t.database=tv(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=jg(u)?{documents:VM(o,u)}:{query:UM(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=vE(o,s.resumeToken);let d=Xg(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(ge.min())>0){c.readTime=rh(o,s.snapshotVersion.toTimestamp());let d=Xg(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);let i=BM(this.serializer,e);i&&(t.labels=i),this.__(t)}A_(e){let t={};t.database=tv(this.serializer),t.removeTarget=e,this.__(t)}},Sv=class extends lh{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,t){return this.connection.Lo("Write",e,t)}T_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();let t=LM(e.writeResults,e.commitTime),i=xi(e.commitTime);return this.listener.f_(i,t)}g_(){let e={};e.database=tv(this.serializer),this.__(e)}V_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>FM(this.serializer,i))};this.__(t)}};var kv=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,t,i,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Fo(e,Zg(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(V.UNKNOWN,o.toString())})}No(e,t,i,r,o){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.No(e,Zg(t,i),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(V.UNKNOWN,s.toString())})}terminate(){this.p_=!0,this.connection.terminate()}},Rv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(rr(t),this.b_=!1):J("OnlineStateTracker",t)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}};var Dv=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=o,this.B_.oo(s=>{i.enqueueAndForget(()=>I(this,null,function*(){Uo(this)&&(J("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let d=fe(u);d.N_.add(4),yield ll(d),d.k_.set("Unknown"),d.N_.delete(4),yield Dh(d)})}(this))}))}),this.k_=new Rv(i,r)}};function Dh(n){return I(this,null,function*(){if(Uo(n))for(let e of n.L_)yield e(!0)})}function ll(n){return I(this,null,function*(){for(let e of n.L_)yield e(!1)})}function xE(n,e){let t=fe(n);t.O_.has(e.targetId)||(t.O_.set(e.targetId,e),cb(t)?ab(t):aa(t).n_()&&sb(t,e))}function ob(n,e){let t=fe(n),i=aa(t);t.O_.delete(e),i.n_()&&CE(t,e),t.O_.size===0&&(i.n_()?i.s_():Uo(t)&&t.k_.set("Unknown"))}function sb(n,e){if(n.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}aa(n).d_(e)}function CE(n,e){n.q_.xe(e),aa(n).A_(e)}function ab(n){n.q_=new Yg({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.O_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),aa(n).start(),n.k_.D_()}function cb(n){return Uo(n)&&!aa(n).t_()&&n.O_.size>0}function Uo(n){return fe(n).N_.size===0}function SE(n){n.q_=void 0}function tN(n){return I(this,null,function*(){n.k_.set("Online")})}function nN(n){return I(this,null,function*(){n.O_.forEach((e,t)=>{sb(n,e)})})}function iN(n,e){return I(this,null,function*(){SE(n),cb(n)?(n.k_.F_(e),ab(n)):n.k_.set("Unknown")})}function rN(n,e,t){return I(this,null,function*(){if(n.k_.set("Online"),e instanceof nh&&e.state===2&&e.cause)try{yield function(r,o){return I(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.O_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.O_.delete(c),r.q_.removeTarget(c))})}(n,e)}catch(i){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield uh(n,i)}else if(e instanceof Gs?n.q_.Ke(e):e instanceof th?n.q_.He(e):n.q_.We(e),!t.isEqual(ge.min()))try{let i=yield AE(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let c=o.q_.rt(s);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let m=o.O_.get(d);m&&o.O_.set(d,m.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,d)=>{let m=o.O_.get(u);if(!m)return;o.O_.set(u,m.withResumeToken(Ht.EMPTY_BYTE_STRING,m.snapshotVersion)),CE(o,u);let b=new Jc(m.target,u,d,m.sequenceNumber);sb(o,b)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){J("RemoteStore","Failed to raise snapshot:",i),yield uh(n,i)}})}function uh(n,e,t){return I(this,null,function*(){if(!cl(e))throw e;n.N_.add(1),yield ll(n),n.k_.set("Offline"),t||(t=()=>AE(n.localStore)),n.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){J("RemoteStore","Retrying IndexedDB access"),yield t(),n.N_.delete(1),yield Dh(n)}))})}function kE(n,e){return e().catch(t=>uh(n,t,e))}function Ph(n){return I(this,null,function*(){let e=fe(n),t=jr(e),i=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;oN(e);)try{let r=yield JM(e.localStore,i);if(r===null){e.x_.length===0&&t.s_();break}i=r.batchId,sN(e,r)}catch(r){yield uh(e,r)}RE(e)&&DE(e)})}function oN(n){return Uo(n)&&n.x_.length<10}function sN(n,e){n.x_.push(e);let t=jr(n);t.n_()&&t.R_&&t.V_(e.mutations)}function RE(n){return Uo(n)&&!jr(n).t_()&&n.x_.length>0}function DE(n){jr(n).start()}function aN(n){return I(this,null,function*(){jr(n).g_()})}function cN(n){return I(this,null,function*(){let e=jr(n);for(let t of n.x_)e.V_(t.mutations)})}function lN(n,e,t){return I(this,null,function*(){let i=n.x_.shift(),r=Gg.from(i,e,t);yield kE(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ph(n)})}function uN(n,e){return I(this,null,function*(){e&&jr(n).R_&&(yield function(i,r){return I(this,null,function*(){if(function(s){return CM(s)&&s!==V.ABORTED}(r.code)){let o=i.x_.shift();jr(i).i_(),yield kE(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Ph(i)}})}(n,e)),RE(n)&&DE(n)})}function NI(n,e){return I(this,null,function*(){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");let i=Uo(t);t.N_.add(3),yield ll(t),i&&t.k_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.N_.delete(3),yield Dh(t)})}function dN(n,e){return I(this,null,function*(){let t=fe(n);e?(t.N_.delete(2),yield Dh(t)):e||(t.N_.add(2),yield ll(t),t.k_.set("Unknown"))})}function aa(n){return n.Q_||(n.Q_=function(t,i,r){let o=fe(t);return o.y_(),new Cv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{To:tN.bind(null,n),Ao:nN.bind(null,n),Vo:iN.bind(null,n),E_:rN.bind(null,n)}),n.L_.push(e=>I(this,null,function*(){e?(n.Q_.i_(),cb(n)?ab(n):n.k_.set("Unknown")):(yield n.Q_.stop(),SE(n))}))),n.Q_}function jr(n){return n.K_||(n.K_=function(t,i,r){let o=fe(t);return o.y_(),new Sv(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{To:()=>Promise.resolve(),Ao:aN.bind(null,n),Vo:uN.bind(null,n),m_:cN.bind(null,n),f_:lN.bind(null,n)}),n.L_.push(e=>I(this,null,function*(){e?(n.K_.i_(),yield Ph(n)):(yield n.K_.stop(),n.x_.length>0&&(J("RemoteStore",`Stopping write stream with ${n.x_.length} pending writes`),n.x_=[]))}))),n.K_}var Pv=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,c=new n(e,t,s,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function lb(n,e){if(rr("AsyncQueue",`${e}: ${n}`),cl(n))return new Y(V.UNAVAILABLE,`${e}: ${n}`);throw n}var dh=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||re.comparator(t.key,i.key):(t,i)=>re.comparator(t.key,i.key),this.keyedMap=Bc(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var hh=class{constructor(){this.U_=new ot(re.comparator)}track(e){let t=e.doc.key,i=this.U_.get(t);i?e.type!==0&&i.type===3?this.U_=this.U_.insert(t,e):e.type===3&&i.type!==1?this.U_=this.U_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.U_=this.U_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.U_=this.U_.remove(t):e.type===1&&i.type===2?this.U_=this.U_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):ce():this.U_=this.U_.insert(t,e)}W_(){let e=[];return this.U_.inorderTraversal((t,i)=>{e.push(i)}),e}},ia=class n{constructor(e,t,i,r,o,s,c,u,d){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,dh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Ov=class{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some(e=>e.H_())}},Mv=class{constructor(){this.queries=FI(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(t,i){let r=fe(t),o=r.queries;r.queries=FI(),o.forEach((s,c)=>{for(let u of c.z_)u.onError(i)})})(this,new Y(V.ABORTED,"Firestore shutting down"))}};function FI(){return new Ur(n=>iE(n),Sh)}function ub(n,e){return I(this,null,function*(){let t=fe(n),i=3,r=e.query,o=t.queries.get(r);o?!o.j_()&&e.H_()&&(i=2):(o=new Ov,i=e.H_()?0:1);try{switch(i){case 0:o.G_=yield t.onListen(r,!0);break;case 1:o.G_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let c=lb(s,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,o),o.z_.push(e),e.Y_(t.onlineState),o.G_&&e.Z_(o.G_)&&hb(t)})}function db(n,e){return I(this,null,function*(){let t=fe(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.z_.indexOf(e);s>=0&&(o.z_.splice(s,1),o.z_.length===0?r=e.H_()?0:1:!o.j_()&&e.H_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function hN(n,e){let t=fe(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let c of s.z_)c.Z_(r)&&(i=!0);s.G_=r}}i&&hb(t)}function fN(n,e,t){let i=fe(n),r=i.queries.get(e);if(r)for(let o of r.z_)o.onError(t);i.queries.delete(e)}function hb(n){n.J_.forEach(e=>{e.next()})}var Nv,LI;(LI=Nv||(Nv={})).X_="default",LI.Cache="cache";var el=class{constructor(e,t,i){this.query=e,this.ea=t,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=i||{}}Z_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ia(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ta?this.ra(e)&&(this.ea.next(e),t=!0):this.ia(e,this.onlineState)&&(this.sa(e),t=!0),this.na=e,t}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let t=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),t=!0),t}ia(e,t){if(!e.fromCache||!this.H_())return!0;let i=t!=="Offline";return(!this.options.oa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ra(e){if(e.docChanges.length>0)return!0;let t=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}sa(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==Nv.Cache}};var fh=class{constructor(e){this.key=e}},mh=class{constructor(e){this.key=e}},Fv=class{constructor(e,t){this.query=e,this.Ia=t,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=Ae(),this.mutatedKeys=Ae(),this.da=rE(e),this.Aa=new dh(this.da)}get Ra(){return this.Ia}Va(e,t){let i=t?t.ma:new hh,r=t?t.Aa:this.Aa,o=t?t.mutatedKeys:this.mutatedKeys,s=r,c=!1,u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,b)=>{let y=r.get(m),C=kh(this.query,b)?b:null,P=!!y&&this.mutatedKeys.has(y.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),F=!1;y&&C?y.data.isEqual(C.data)?P!==L&&(i.track({type:3,doc:C}),F=!0):this.fa(y,C)||(i.track({type:2,doc:C}),F=!0,(u&&this.da(C,u)>0||d&&this.da(C,d)<0)&&(c=!0)):!y&&C?(i.track({type:0,doc:C}),F=!0):y&&!C&&(i.track({type:1,doc:y}),F=!0,(u||d)&&(c=!0)),F&&(C?(s=s.add(C),o=L?o.add(m):o.delete(m)):(s=s.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let m=this.query.limitType==="F"?s.last():s.first();s=s.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{Aa:s,ma:i,ts:c,mutatedKeys:o}}fa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;let s=e.ma.W_();s.sort((m,b)=>function(C,P){let L=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return L(C)-L(P)}(m.type,b.type)||this.da(m.doc,b.doc)),this.ga(i),r=r!=null&&r;let c=t&&!r?this.pa():[],u=this.Ea.size===0&&this.current&&!r?1:0,d=u!==this.Ta;return this.Ta=u,s.length!==0||d?{snapshot:new ia(this.query,e.Aa,o,s,e.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ya:c}:{ya:c}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new hh,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach(t=>this.Ia=this.Ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ia=this.Ia.delete(t)),this.current=e.current)}pa(){if(!this.current)return[];let e=this.Ea;this.Ea=Ae(),this.Aa.forEach(i=>{this.wa(i.key)&&(this.Ea=this.Ea.add(i.key))});let t=[];return e.forEach(i=>{this.Ea.has(i)||t.push(new mh(i))}),this.Ea.forEach(i=>{e.has(i)||t.push(new fh(i))}),t}Sa(e){this.Ia=e.Is,this.Ea=Ae();let t=this.Va(e.documents);return this.applyChanges(t,!0)}ba(){return ia.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}},Lv=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Vv=class{constructor(e){this.key=e,this.Da=!1}},Uv=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.va=new Ur(c=>iE(c),Sh),this.Fa=new Map,this.Ma=new Set,this.xa=new ot(re.comparator),this.Oa=new Map,this.Na=new Zc,this.La={},this.Ba=new Map,this.ka=Xc.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}};function mN(n,e,t=!0){return I(this,null,function*(){let i=LE(n),r,o=i.va.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ba()):r=yield PE(i,e,t,!0),r})}function pN(n,e){return I(this,null,function*(){let t=LE(n);yield PE(t,e,!0,!1)})}function PE(n,e,t,i){return I(this,null,function*(){let r=yield XM(n.localStore,Ti(e)),o=r.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current",c;return i&&(c=yield gN(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&xE(n.remoteStore,r),c})}function gN(n,e,t,i,r){return I(this,null,function*(){n.Qa=(b,y,C)=>function(L,F,G,W){return I(this,null,function*(){let q=F.view.Va(G);q.ts&&(q=yield MI(L.localStore,F.query,!1).then(({documents:x})=>F.view.Va(x,q)));let Q=W&&W.targetChanges.get(F.targetId),le=W&&W.targetMismatches.get(F.targetId)!=null,se=F.view.applyChanges(q,L.isPrimaryClient,Q,le);return UI(L,F.targetId,se.ya),se.snapshot})}(n,b,y,C);let o=yield MI(n.localStore,e,!0),s=new Fv(e,o.Is),c=s.Va(o.documents),u=Yc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),d=s.applyChanges(c,n.isPrimaryClient,u);UI(n,t,d.ya);let m=new Lv(e,t,s);return n.va.set(e,m),n.Fa.has(t)?n.Fa.get(t).push(e):n.Fa.set(t,[e]),d.snapshot})}function vN(n,e,t){return I(this,null,function*(){let i=fe(n),r=i.va.get(e),o=i.Fa.get(r.targetId);if(o.length>1)return i.Fa.set(r.targetId,o.filter(s=>!Sh(s,e))),void i.va.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Iv(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&ob(i.remoteStore,r.targetId),jv(i,r.targetId)}).catch(al))):(jv(i,r.targetId),yield Iv(i.localStore,r.targetId,!0))})}function bN(n,e){return I(this,null,function*(){let t=fe(n),i=t.va.get(e),r=t.Fa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ob(t.remoteStore,i.targetId))})}function _N(n,e,t){return I(this,null,function*(){let i=xN(n);try{let r=yield function(s,c){let u=fe(s),d=Nt.now(),m=c.reduce((C,P)=>C.add(P.key),Ae()),b,y;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=sr(),L=Ae();return u.us.getEntries(C,m).next(F=>{P=F,P.forEach((G,W)=>{W.isValidDocument()||(L=L.add(G))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,P)).next(F=>{b=F;let G=[];for(let W of c){let q=xM(W,b.get(W.key).overlayedDocument);q!=null&&G.push(new Si(W.key,q,YI(q.value.mapValue),Ai.exists(!0)))}return u.mutationQueue.addMutationBatch(C,d,G,c)}).next(F=>{y=F;let G=F.applyToLocalDocumentSet(b,L);return u.documentOverlayCache.saveOverlays(C,F.batchId,G)})}).then(()=>({batchId:y.batchId,changes:sE(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,u){let d=s.La[s.currentUser.toKey()];d||(d=new ot(Oe)),d=d.insert(c,u),s.La[s.currentUser.toKey()]=d}(i,r.batchId,t),yield ul(i,r.changes),yield Ph(i.remoteStore)}catch(r){let o=lb(r,"Failed to persist write");t.reject(o)}})}function OE(n,e){return I(this,null,function*(){let t=fe(n);try{let i=yield QM(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Oa.get(o);s&&(We(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Da=!0:r.modifiedDocuments.size>0?We(s.Da):r.removedDocuments.size>0&&(We(s.Da),s.Da=!1))}),yield ul(t,i,e)}catch(i){yield al(i)}})}function VI(n,e,t){let i=fe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.va.forEach((o,s)=>{let c=s.view.Y_(e);c.snapshot&&r.push(c.snapshot)}),function(s,c){let u=fe(s);u.onlineState=c;let d=!1;u.queries.forEach((m,b)=>{for(let y of b.z_)y.Y_(c)&&(d=!0)}),d&&hb(u)}(i.eventManager,e),r.length&&i.Ca.E_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function yN(n,e,t){return I(this,null,function*(){let i=fe(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Oa.get(e),o=r&&r.key;if(o){let s=new ot(re.comparator);s=s.insert(o,Zn.newNoDocument(o,ge.min()));let c=Ae().add(o),u=new eh(ge.min(),new Map,new ot(Oe),s,c);yield OE(i,u),i.xa=i.xa.remove(o),i.Oa.delete(e),fb(i)}else yield Iv(i.localStore,e,!1).then(()=>jv(i,e,t)).catch(al)})}function wN(n,e){return I(this,null,function*(){let t=fe(n),i=e.batch.batchId;try{let r=yield KM(t.localStore,e);NE(t,i,null),ME(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ul(t,r)}catch(r){yield al(r)}})}function IN(n,e,t){return I(this,null,function*(){let i=fe(n);try{let r=yield function(s,c){let u=fe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return u.mutationQueue.lookupMutationBatch(d,c).next(b=>(We(b!==null),m=b.keys(),u.mutationQueue.removeMutationBatch(d,b))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>u.localDocuments.getDocuments(d,m))})}(i.localStore,e);NE(i,e,t),ME(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ul(i,r)}catch(r){yield al(r)}})}function ME(n,e){(n.Ba.get(e)||[]).forEach(t=>{t.resolve()}),n.Ba.delete(e)}function NE(n,e,t){let i=fe(n),r=i.La[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.La[i.currentUser.toKey()]=r}}function jv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Fa.get(e))n.va.delete(i),t&&n.Ca.Ka(i,t);n.Fa.delete(e),n.isPrimaryClient&&n.Na.mr(e).forEach(i=>{n.Na.containsKey(i)||FE(n,i)})}function FE(n,e){n.Ma.delete(e.path.canonicalString());let t=n.xa.get(e);t!==null&&(ob(n.remoteStore,t),n.xa=n.xa.remove(e),n.Oa.delete(t),fb(n))}function UI(n,e,t){for(let i of t)i instanceof fh?(n.Na.addReference(i.key,e),EN(n,i)):i instanceof mh?(J("SyncEngine","Document no longer in limbo: "+i.key),n.Na.removeReference(i.key,e),n.Na.containsKey(i.key)||FE(n,i.key)):ce()}function EN(n,e){let t=e.key,i=t.path.canonicalString();n.xa.get(t)||n.Ma.has(i)||(J("SyncEngine","New document in limbo: "+t),n.Ma.add(i),fb(n))}function fb(n){for(;n.Ma.size>0&&n.xa.size<n.maxConcurrentLimboResolutions;){let e=n.Ma.values().next().value;n.Ma.delete(e);let t=new re(tt.fromString(e)),i=n.ka.next();n.Oa.set(i,new Vv(t)),n.xa=n.xa.insert(t,i),xE(n.remoteStore,new Jc(Ti(Ch(t.path)),i,"TargetPurposeLimboResolution",WI.oe))}}function ul(n,e,t){return I(this,null,function*(){let i=fe(n),r=[],o=[],s=[];i.va.isEmpty()||(i.va.forEach((c,u)=>{s.push(i.Qa(u,e,t).then(d=>{var m;if((d||t)&&i.isPrimaryClient){let b=d?!d.fromCache:(m=t?.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(u.targetId,b?"current":"not-current")}if(d){r.push(d);let b=bv.Ui(u.targetId,d);o.push(b)}}))}),yield Promise.all(s),i.Ca.E_(r),yield function(u,d){return I(this,null,function*(){let m=fe(u);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>z.forEach(d,y=>z.forEach(y.Ki,C=>m.persistence.referenceDelegate.addReference(b,y.targetId,C)).next(()=>z.forEach(y.$i,C=>m.persistence.referenceDelegate.removeReference(b,y.targetId,C)))))}catch(b){if(!cl(b))throw b;J("LocalStore","Failed to update sequence numbers: "+b)}for(let b of d){let y=b.targetId;if(!b.fromCache){let C=m.ss.get(y),P=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(P);m.ss=m.ss.insert(y,L)}}})}(i.localStore,o))})}function TN(n,e){return I(this,null,function*(){let t=fe(n);if(!t.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());let i=yield TE(t.localStore,e);t.currentUser=e,function(o,s){o.Ba.forEach(c=>{c.forEach(u=>{u.reject(new Y(V.CANCELLED,s))})}),o.Ba.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ul(t,i.ls)}})}function AN(n,e){let t=fe(n),i=t.Oa.get(e);if(i&&i.Da)return Ae().add(i.key);{let r=Ae(),o=t.Fa.get(e);if(!o)return r;for(let s of o){let c=t.va.get(s);r=r.unionWith(c.view.Ra)}return r}}function LE(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yN.bind(null,e),e.Ca.E_=hN.bind(null,e.eventManager),e.Ca.Ka=fN.bind(null,e.eventManager),e}function xN(n){let e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IN.bind(null,e),e}var ph=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return WM(this.persistence,new yv,e.initialUser,this.serializer)}createPersistence(e){return new pv(vv.Yr,this.serializer)}createSharedClientState(e){return new Ev}terminate(){return I(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Bv=class{initialize(e,t){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VI(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=TN.bind(null,this.syncEngine),yield dN(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Mv}()}createDatastore(e){let t=Rh(e.databaseInfo.databaseId),i=function(o){return new xv(o)}(e.databaseInfo);return function(o,s,c,u){return new kv(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,s,c){return new Dv(i,r,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,t=>VI(this.syncEngine,t,0),function(){return ah.D()?new ah:new Tv}())}createSyncEngine(e,t){return function(r,o,s,c,u,d,m){let b=new Uv(r,o,s,c,u,d);return m&&(b.qa=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return I(this,null,function*(){var e,t;yield function(r){return I(this,null,function*(){let o=fe(r);J("RemoteStore","RemoteStore shutting down."),o.N_.add(5),yield ll(o),o.B_.shutdown(),o.k_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var tl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var zv=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Rt.UNAUTHENTICATED,this.clientId=Kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>I(this,null,function*(){J("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=lb(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function bg(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>I(this,null,function*(){i.isEqual(r)||(yield TE(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function jI(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield SN(n);J("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>NI(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>NI(e.remoteStore,r)),n._onlineComponents=e})}function CN(n){return n.name==="FirebaseError"?n.code===V.FAILED_PRECONDITION||n.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function SN(n){return I(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bg(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!CN(t))throw t;Ks("Error using user provided cache. Falling back to memory cache: "+t),yield bg(n,new ph)}}else J("FirestoreClient","Using default OfflineComponentProvider"),yield bg(n,new ph);return n._offlineComponents})}function VE(n){return I(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),yield jI(n,n._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),yield jI(n,new Bv))),n._onlineComponents})}function kN(n){return VE(n).then(e=>e.syncEngine)}function gh(n){return I(this,null,function*(){let e=yield VE(n),t=e.eventManager;return t.onListen=mN.bind(null,e.syncEngine),t.onUnlisten=vN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bN.bind(null,e.syncEngine),t})}function RN(n,e,t={}){let i=new Xn;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,c,u,d){let m=new tl({next:y=>{s.enqueueAndForget(()=>db(o,b));let C=y.docs.has(c);!C&&y.fromCache?d.reject(new Y(V.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&y.fromCache&&u&&u.source==="server"?d.reject(new Y(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),b=new el(Ch(c.path),m,{includeMetadataChanges:!0,oa:!0});return ub(o,b)}(yield gh(n),n.asyncQueue,e,t,i)})),i.promise}function DN(n,e,t={}){let i=new Xn;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,c,u,d){let m=new tl({next:y=>{s.enqueueAndForget(()=>db(o,b)),y.fromCache&&u.source==="server"?d.reject(new Y(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),b=new el(c,m,{includeMetadataChanges:!0,oa:!0});return ub(o,b)}(yield gh(n),n.asyncQueue,e,t,i)})),i.promise}function UE(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var BI=new Map;function jE(n,e,t){if(!t)throw new Y(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PN(n,e,t,i){if(e===!0&&i===!0)throw new Y(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zI(n){if(!re.isDocumentKey(n))throw new Y(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $I(n){if(re.isDocumentKey(n))throw new Y(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Oh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ce()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Oh(n);throw new Y(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var vh=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ra=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _g;switch(i.type){case"firstParty":return new Eg(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Y(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=BI.get(t);i&&(J("ComponentProvider","Removing Datastore"),BI.delete(t),i.terminate())}(this),Promise.resolve()}};function BE(n,e,t,i={}){var r;let o=(n=dn(n,ra))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let c,u;if(typeof i.mockUserToken=="string")c=i.mockUserToken,u=Rt.MOCK_USER;else{c=fd(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new Y(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rt(d)}n._authCredentials=new yg(new Wd(c,u))}}var Br=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Fr=class n extends Br{constructor(e,t,i){super(e,t,Ch(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function zE(n,e,...t){if(n=Ve(n),jE("collection","path",e),n instanceof ra){let i=tt.fromString(e,...t);return $I(i),new Fr(n,null,i)}{if(!(n instanceof qt||n instanceof Fr))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(tt.fromString(e,...t));return $I(i),new Fr(n.firestore,null,i)}}function mb(n,e,...t){if(n=Ve(n),arguments.length===1&&(e=Kd.newId()),jE("doc","path",e),n instanceof ra){let i=tt.fromString(e,...t);return zI(i),new qt(n,null,new re(i))}{if(!(n instanceof qt||n instanceof Fr))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(tt.fromString(e,...t));return zI(i),new qt(n.firestore,n instanceof Fr?n.converter:null,new re(i))}}var $v=class{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new ch(this,"async_queue_retry"),this.Tu=()=>{let t=vg();t&&J("AsyncQueue","Visibility state changed to "+t.visibilityState),this.e_.zo()};let e=vg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;let t=vg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise(()=>{});let t=new Xn;return this.du(()=>this.uu&&this.Pu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.au.push(e),this.Au()))}Au(){return I(this,null,function*(){if(this.au.length!==0){try{yield this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!cl(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo(()=>this.Au())}})}du(e){let t=this._u.then(()=>(this.hu=!0,e().catch(i=>{this.lu=i,this.hu=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(i);throw rr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.hu=!1,i))));return this._u=t,t}enqueueAfterDelay(e,t,i){this.Eu(),this.Iu.indexOf(e)>-1&&(t=0);let r=Pv.createAndSchedule(this,e,t,i,o=>this.Ru(o));return this.cu.push(r),r}Eu(){this.lu&&ce()}verifyOperationInProgress(){}Vu(){return I(this,null,function*(){let e;do e=this._u,yield e;while(e!==this._u)})}mu(e){for(let t of this.cu)if(t.timerId===e)return!0;return!1}fu(e){return this.Vu().then(()=>{this.cu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.cu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Vu()})}gu(e){this.Iu.push(e)}Ru(e){let t=this.cu.indexOf(e);this.cu.splice(t,1)}};function qI(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ti=class extends ra{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new $v}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qE(this),this._firestoreClient.terminate()}};function $E(n,e){let t=typeof n=="object"?n:Yn(),i=typeof n=="string"?n:e||"(default)",r=In(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=hd("firestore");o&&BE(r,...o)}return r}function Mh(n){return n._firestoreClient||qE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qE(n){var e,t,i;let r=n._freezeSettings(),o=function(c,u,d,m){return new Sg(c,u,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,UE(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new zv(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var nl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ht.fromBase64String(e))}catch(t){throw new Y(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var oa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Y(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var il=class{constructor(e){this._methodName=e}};var rl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}};var ON=/^__.*__$/,qv=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lo(e,this.data,t,this.fieldTransforms)}},bh=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Si(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function HE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var Hv=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.Du(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.wu({path:i,bu:!1});return r.pu(),r}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return yh(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(HE(this.yu)&&ON.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}},Gv=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Rh(e)}Ou(e,t,i,r=!1){return new Hv({yu:e,methodName:t,xu:i,path:Tn.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Nh(n){let e=n._freezeSettings(),t=Rh(n._databaseId);return new Gv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function GE(n,e,t,i,r,o={}){let s=n.Ou(o.merge||o.mergeFields?2:0,e,t,r);pb("Data must be an object, but it was:",s,i);let c=WE(i,s),u,d;if(o.merge)u=new Mn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let m=[];for(let b of o.mergeFields){let y=Wv(e,b,t);if(!s.contains(y))throw new Y(V.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);QE(m,y)||m.push(y)}u=new Mn(m),d=s.fieldTransforms.filter(b=>u.covers(b.field))}else u=null,d=s.fieldTransforms;return new qv(new En(c),u,d)}var _h=class n extends il{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function MN(n,e,t,i){let r=n.Ou(1,e,t);pb("Data must be an object, but it was:",r,i);let o=[],s=En.empty();Vo(i,(u,d)=>{let m=gb(e,u,t);d=Ve(d);let b=r.Cu(m);if(d instanceof _h)o.push(m);else{let y=dl(d,b);y!=null&&(o.push(m),s.set(m,y))}});let c=new Mn(o);return new bh(s,c,r.fieldTransforms)}function NN(n,e,t,i,r,o){let s=n.Ou(1,e,t),c=[Wv(e,i,t)],u=[r];if(o.length%2!=0)throw new Y(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(Wv(e,o[y])),u.push(o[y+1]);let d=[],m=En.empty();for(let y=c.length-1;y>=0;--y)if(!QE(d,c[y])){let C=c[y],P=u[y];P=Ve(P);let L=s.Cu(C);if(P instanceof _h)d.push(C);else{let F=dl(P,L);F!=null&&(d.push(C),m.set(C,F))}}let b=new Mn(d);return new bh(m,b,s.fieldTransforms)}function FN(n,e,t,i=!1){return dl(t,n.Ou(i?4:3,e))}function dl(n,e){if(KE(n=Ve(n)))return pb("Unsupported field value:",e,n),WE(n,e);if(n instanceof il)return function(i,r){if(!HE(r.yu))throw r.Fu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Fu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let c of i){let u=dl(c,r.vu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Ve(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Nt.fromDate(i);return{timestampValue:rh(r.serializer,o)}}if(i instanceof Nt){let o=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rh(r.serializer,o)}}if(i instanceof rl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nl)return{bytesValue:vE(r.serializer,i._byteString)};if(i instanceof qt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Fu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rb(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Fu(`Unsupported field value: ${Oh(i)}`)}(n,e)}function WE(n,e){let t={};return KI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(n,(i,r)=>{let o=dl(r,e.Su(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function KE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof rl||n instanceof nl||n instanceof qt||n instanceof il)}function pb(n,e,t){if(!KE(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Oh(t);throw i==="an object"?e.Fu(n+" a custom object"):e.Fu(n+" "+i)}}function Wv(n,e,t){if((e=Ve(e))instanceof oa)return e._internalPath;if(typeof e=="string")return gb(n,e);throw yh("Field path arguments must be of type string or ",n,!1,void 0,t)}var LN=new RegExp("[~\\*/\\[\\]]");function gb(n,e,t){if(e.search(LN)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new oa(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yh(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${i}`),s&&(u+=` in document ${r}`),u+=")"),new Y(V.INVALID_ARGUMENT,c+n+u)}function QE(n,e){return n.some(t=>t.isEqual(e))}var wh=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Kv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Fh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Kv=class extends wh{data(){return super.data()}};function Fh(n,e){return typeof e=="string"?gb(n,e):e instanceof oa?e._internalPath:e._delegate._internalPath}function YE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Y(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ol=class{},Ih=class extends ol{};function JE(n,e,...t){let i=[];e instanceof ol&&i.push(e),i=i.concat(t),function(o){let s=o.filter(u=>u instanceof Qv).length,c=o.filter(u=>u instanceof Eh).length;if(s>1||s>0&&c>0)throw new Y(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var Eh=class n extends Ih{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return eT(e._query,t),new Br(e.firestore,e.converter,Bg(e._query,t))}_parse(e){let t=Nh(e.firestore);return function(o,s,c,u,d,m,b){let y;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Y(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){GI(b,m);let C=[];for(let P of b)C.push(HI(u,o,P));y={arrayValue:{values:C}}}else y=HI(u,o,b)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||GI(b,m),y=FN(c,s,b,m==="in"||m==="not-in");return It.create(d,m,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function XE(n,e,t){let i=e,r=Fh("where",n);return Eh._create(r,i,t)}var Qv=class n extends ol{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ei.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let s=r,c=o.getFlattenedFilters();for(let u of c)eT(s,u),s=Bg(s,u)}(e._query,t),new Br(e.firestore,e.converter,Bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Yv=class n extends Ih{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,o,s){if(r.startAt!==null)throw new Y(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Y(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mo(o,s)}(e._query,this._field,this._direction);return new Br(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Vr(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function ZE(n,e="asc"){let t=e,i=Fh("orderBy",n);return Yv._create(i,t)}function HI(n,e,t){if(typeof(t=Ve(t))=="string"){if(t==="")throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nE(e)&&t.indexOf("/")!==-1)throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(tt.fromString(t));if(!re.isDocumentKey(i))throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vI(n,new re(i))}if(t instanceof qt)return vI(n,t._key);throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(t)}.`)}function GI(n,e){if(!Array.isArray(n)||n.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eT(n,e){let t=function(r,o){for(let s of r)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Jv=class{convertValue(e,t="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Vo(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new rl(rt(e.latitude),rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=eb(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){let t=or(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=tt.fromString(e);We(EE(i));let r=new Xd(i.get(1),i.get(3)),o=new re(i.popFirst(5));return r.isEqual(t)||rr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function tT(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Ro=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Th=class extends wh{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Fh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Ws=class extends Th{data(e={}){return super.data(e)}},Ah=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ro(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ws(this._firestore,this._userDataWriter,i.key,i,new Ro(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Y(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let u=new Ws(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ro(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Ws(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ro(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,m=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),m=s.indexOf(c.doc.key)),{type:VN(c.type),doc:u,oldIndex:d,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function VN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}function nT(n){n=dn(n,qt);let e=dn(n.firestore,ti);return RN(Mh(e),n._key).then(t=>cT(e,n,t))}var sl=class extends Jv{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function iT(n){n=dn(n,Br);let e=dn(n.firestore,ti),t=Mh(e),i=new sl(e);return YE(n._query),DN(t,n._query).then(r=>new Ah(e,i,n,r))}function rT(n,e,t){n=dn(n,qt);let i=dn(n.firestore,ti),r=tT(n.converter,e,t);return Lh(i,[GE(Nh(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Ai.none())])}function oT(n,e,t,...i){n=dn(n,qt);let r=dn(n.firestore,ti),o=Nh(r),s;return s=typeof(e=Ve(e))=="string"||e instanceof oa?NN(o,"updateDoc",n._key,e,t,i):MN(o,"updateDoc",n._key,e),Lh(r,[s.toMutation(n._key,Ai.exists(!0))])}function sT(n){return Lh(dn(n.firestore,ti),[new Qc(n._key,Ai.none())])}function aT(n,e){let t=dn(n.firestore,ti),i=mb(n),r=tT(n.converter,e);return Lh(t,[GE(Nh(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ai.exists(!1))]).then(()=>i)}function vb(n,...e){var t,i,r;n=Ve(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qI(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(qI(e[s])){let b=e[s];e[s]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[s+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[s+2]=(r=b.complete)===null||r===void 0?void 0:r.bind(b)}let u,d,m;if(n instanceof qt)d=dn(n.firestore,ti),m=Ch(n._key.path),u={next:b=>{e[s]&&e[s](cT(d,n,b))},error:e[s+1],complete:e[s+2]};else{let b=dn(n,Br);d=dn(b.firestore,ti),m=b._query;let y=new sl(d);u={next:C=>{e[s]&&e[s](new Ah(d,y,b,C))},error:e[s+1],complete:e[s+2]},YE(n._query)}return function(y,C,P,L){let F=new tl(L),G=new el(C,F,P);return y.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return ub(yield gh(y),G)})),()=>{F.Ga(),y.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return db(yield gh(y),G)}))}}(Mh(d),m,c,u)}function Lh(n,e){return function(i,r){let o=new Xn;return i.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return _N(yield kN(i),r,o)})),o.promise}(Mh(n),e)}function cT(n,e,t){let i=t.docs.get(e._key),r=new sl(n);return new Th(n,r,e._key,i,new Ro(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){sa=r})(_i),Bt(new _t("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),c=new ti(new wg(i.getProvider("auth-internal")),new Ag(i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Y(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(d.options.projectId,m)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ue(mI,"4.6.5",e),Ue(mI,"4.6.5","esm2017")})();var Vh=function(){return Vh=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vh.apply(this,arguments)};var BN={includeMetadataChanges:!1};function lT(n,e){return e===void 0&&(e=BN),new ui(function(t){var i=vb(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function uT(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:Vh(Vh({},i),(t={},t[e.idField]=n.id,t))}function dT(n){return lT(n,{includeMetadataChanges:!0}).pipe(he(function(e){return e.docs}))}function hT(n,e){return e===void 0&&(e={}),dT(n).pipe(he(function(t){return t.map(function(i){return uT(i,e)})}))}var sn=class{constructor(e){return e}},fT="firestore",bb=class{constructor(){return wo(fT)}};var _b=new ye("angularfire2.firestore-instances");function zN(n,e){let t=Vs(fT,n,e);return t&&new sn(t)}function $N(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new sn(i)}}var qN={provide:bb,deps:[[new At,_b]]},HN={provide:sn,useFactory:zN,deps:[[new At,_b],Jn]};function mT(n,...e){return Ue("angularfire",Xi.full,"fst"),Jt([HN,qN,{provide:_b,useFactory:$N(n),multi:!0,deps:[Re,Pn,Rr,Zi,[new At,Co],[new At,kr],...e]}])}var pT=qe(hT,!0);var hl=qe(aT,!0);var ar=qe(zE,!0);var jo=qe(sT,!0);var hn=qe(mb,!0);var fl=qe(nT,!0);var yb=qe(iT,!0);var gT=qe($E,!0);var wb=qe(ZE,!0);var ca=qe(JE,!0);var Ib=qe(rT,!0);var Uh=qe(oT,!0);var ml=qe(XE,!0);var ET="firebasestorage.googleapis.com",TT="storageBucket",GN=2*60*1e3,WN=10*60*1e3;var st=class n extends xt{constructor(e,t,i=0){super(Eb(e),`Firebase Storage: ${t} (${Eb(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Eb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},pt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(pt||{});function Eb(n){return"storage/"+n}function kb(){let n="An unknown error occurred, please check the error payload for server response.";return new st(pt.UNKNOWN,n)}function KN(n){return new st(pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function QN(n){return new st(pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YN(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(pt.UNAUTHENTICATED,n)}function JN(){return new st(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XN(n){return new st(pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function ZN(){return new st(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e2(){return new st(pt.CANCELED,"User canceled the upload/download.")}function t2(n){return new st(pt.INVALID_URL,"Invalid URL '"+n+"'.")}function n2(n){return new st(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function i2(){return new st(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TT+"' property when initializing the app?")}function r2(){return new st(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o2(){return new st(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function s2(n){return new st(pt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tb(n){return new st(pt.INVALID_ARGUMENT,n)}function AT(){return new st(pt.APP_DELETED,"The Firebase app was deleted.")}function a2(n){return new st(pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vl(n,e){return new st(pt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function gl(n){throw new st(pt.INTERNAL_ERROR,"Internal error: "+n)}var ni=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw n2(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+r+s,"i"),u={bucket:1,path:3};function d(Q){Q.path_=decodeURIComponent(Q.path)}let m="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",C=new RegExp(`^https?://${b}/${m}/b/${r}/o${y}`,"i"),P={bucket:1,path:3},L=t===ET?"(?:storage.googleapis.com|storage.cloud.google.com)":t,F="([^?#]*)",G=new RegExp(`^https?://${L}/${r}/${F}`,"i"),q=[{regex:c,indices:u,postModify:o},{regex:C,indices:P,postModify:d},{regex:G,indices:{bucket:1,path:2},postModify:d}];for(let Q=0;Q<q.length;Q++){let le=q[Q],se=le.regex.exec(e);if(se){let x=se[le.indices.bucket],w=se[le.indices.path];w||(w=""),i=new n(x,w),le.postModify(i);break}}if(i==null)throw t2(e);return i}},Ab=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function c2(n,e,t){let i=1,r=null,o=null,s=!1,c=0;function u(){return c===2}let d=!1;function m(...F){d||(d=!0,e.apply(null,F))}function b(F){r=setTimeout(()=>{r=null,n(C,u())},F)}function y(){o&&clearTimeout(o)}function C(F,...G){if(d){y();return}if(F){y(),m.call(null,F,...G);return}if(u()||s){y(),m.call(null,F,...G);return}i<64&&(i*=2);let q;c===1?(c=2,q=0):q=(i+Math.random())*1e3,b(q)}let P=!1;function L(F){P||(P=!0,y(),!d&&(r!==null?(F||(c=2),clearTimeout(r),b(0)):F||(c=1)))}return b(0),o=setTimeout(()=>{s=!0,L(!0)},t),L}function l2(n){n(!1)}function u2(n){return n!==void 0}function d2(n){return typeof n=="object"&&!Array.isArray(n)}function Rb(n){return typeof n=="string"||n instanceof String}function vT(n){return Db()&&n instanceof Blob}function Db(){return typeof Blob<"u"}function bT(n,e,t,i){if(i<e)throw Tb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Tb(`Invalid value for '${n}'. Expected ${t} or less.`)}function $h(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function xT(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var ua=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ua||{});function h2(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}var xb=class{constructor(e,t,i,r,o,s,c,u,d,m,b,y=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=m,this.connectionFactory_=b,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,P)=>{this.resolve_=C,this.reject_=P,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new la(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===ua.NO_ERROR,u=o.getStatus();if(!c||h2(u,this.additionalRetryCodes_)&&this.retry){let m=o.getErrorCode()===ua.ABORT;i(!1,new la(!1,null,m));return}let d=this.successCodes_.indexOf(u)!==-1;i(!0,new la(d,o))})},t=(i,r)=>{let o=this.resolve_,s=this.reject_,c=r.connection;if(r.wasSuccessCode)try{let u=this.callback_(c,c.getResponse());u2(u)?o(u):o()}catch(u){s(u)}else if(c!==null){let u=kb();u.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,u)):s(u)}else if(r.canceled){let u=this.appDelete_?AT():e2();s(u)}else{let u=ZN();s(u)}};this.canceled_?t(!1,new la(!1,null,!0)):this.backoffId_=c2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},la=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function f2(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function m2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p2(n,e){e&&(n["X-Firebase-GMPID"]=e)}function g2(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function v2(n,e,t,i,r,o,s=!0){let c=xT(n.urlParams),u=n.url+c,d=Object.assign({},n.headers);return p2(d,e),f2(d,t),m2(d,o),g2(d,i),new xb(u,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}function b2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _2(...n){let e=b2();if(e!==void 0){let t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Db())return new Blob(n);throw new st(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function y2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function w2(n){if(typeof atob>"u")throw s2("base-64");return atob(n)}var ki={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},bl=class{constructor(e,t){this.data=e,this.contentType=t||null}};function I2(n,e){switch(n){case ki.RAW:return new bl(CT(e));case ki.BASE64:case ki.BASE64URL:return new bl(ST(n,e));case ki.DATA_URL:return new bl(T2(e),A2(e))}throw kb()}function CT(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=i,s=n.charCodeAt(++t);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function E2(n){let e;try{e=decodeURIComponent(n)}catch{throw vl(ki.DATA_URL,"Malformed data URL.")}return CT(e)}function ST(n,e){switch(n){case ki.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw vl(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ki.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw vl(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=w2(e)}catch(r){throw r.message.includes("polyfill")?r:vl(n,"Invalid character found")}let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}var Bh=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw vl(ki.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=t[1]||null;i!=null&&(this.base64=x2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function T2(n){let e=new Bh(n);return e.base64?ST(ki.BASE64,e.rest):E2(e.rest)}function A2(n){return new Bh(n).contentType}function x2(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var zh=class n{constructor(e,t){let i=0,r="";vT(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(vT(this.data_)){let i=this.data_,r=y2(i,e,t);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,e,t-e);return new n(i,!0)}}static getBlob(...e){if(Db()){let t=e.map(i=>i instanceof n?i.data_:i);return new n(_2.apply(null,t))}else{let t=e.map(s=>Rb(s)?I2(ki.RAW,s).data:s.data_),i=0;t.forEach(s=>{i+=s.byteLength});let r=new Uint8Array(i),o=0;return t.forEach(s=>{for(let c=0;c<s.length;c++)r[o++]=s[c]}),new n(r,!0)}}uploadData(){return this.data_}};function kT(n){let e;try{e=JSON.parse(n)}catch{return null}return d2(e)?e:null}function C2(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function S2(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function RT(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function k2(n,e){return e}var Ft=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||k2}},jh=null;function R2(n){return!Rb(n)||n.length<2?n:RT(n)}function DT(){if(jh)return jh;let n=[];n.push(new Ft("bucket")),n.push(new Ft("generation")),n.push(new Ft("metageneration")),n.push(new Ft("name","fullPath",!0));function e(o,s){return R2(s)}let t=new Ft("name");t.xform=e,n.push(t);function i(o,s){return s!==void 0?Number(s):s}let r=new Ft("size");return r.xform=i,n.push(r),n.push(new Ft("timeCreated")),n.push(new Ft("updated")),n.push(new Ft("md5Hash",null,!0)),n.push(new Ft("cacheControl",null,!0)),n.push(new Ft("contentDisposition",null,!0)),n.push(new Ft("contentEncoding",null,!0)),n.push(new Ft("contentLanguage",null,!0)),n.push(new Ft("contentType",null,!0)),n.push(new Ft("metadata","customMetadata",!0)),jh=n,jh}function D2(n,e){function t(){let i=n.bucket,r=n.fullPath,o=new ni(i,r);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function P2(n,e,t){let i={};i.type="file";let r=t.length;for(let o=0;o<r;o++){let s=t[o];i[s.local]=s.xform(i,e[s.server])}return D2(i,n),i}function PT(n,e,t){let i=kT(e);return i===null?null:P2(n,i,t)}function O2(n,e,t,i){let r=kT(e);if(r===null||!Rb(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let m=n.bucket,b=n.fullPath,y="/b/"+s(m)+"/o/"+s(b),C=$h(y,t,i),P=xT({alt:"media",token:d});return C+P})[0]}function M2(n,e){let t={},i=e.length;for(let r=0;r<i;r++){let o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var _l=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function OT(n){if(!n)throw kb()}function N2(n,e){function t(i,r){let o=PT(n,r,e);return OT(o!==null),o}return t}function F2(n,e){function t(i,r){let o=PT(n,r,e);return OT(o!==null),O2(o,r,n.host,n._protocol)}return t}function MT(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=JN():r=YN():t.getStatus()===402?r=QN(n.bucket):t.getStatus()===403?r=XN(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function NT(n){let e=MT(n);function t(i,r){let o=e(i,r);return i.getStatus()===404&&(o=KN(n.path)),o.serverResponse=r.serverResponse,o}return t}function L2(n,e,t){let i=e.fullServerUrl(),r=$h(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,c=new _l(r,o,F2(n,t),s);return c.errorHandler=NT(e),c}function V2(n,e){let t=e.fullServerUrl(),i=$h(t,n.host,n._protocol),r="DELETE",o=n.maxOperationRetryTime;function s(u,d){}let c=new _l(i,r,s,o);return c.successCodes=[200,204],c.errorHandler=NT(e),c}function U2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function j2(n,e,t){let i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=U2(null,e)),i}function B2(n,e,t,i,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function c(){let q="";for(let Q=0;Q<2;Q++)q=q+Math.random().toString().slice(2);return q}let u=c();s["Content-Type"]="multipart/related; boundary="+u;let d=j2(e,i,r),m=M2(d,t),b="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+u+"--",C=zh.getBlob(b,i,y);if(C===null)throw r2();let P={name:d.fullPath},L=$h(o,n.host,n._protocol),F="POST",G=n.maxUploadRetryTime,W=new _l(L,F,N2(n,t),G);return W.urlParams=P,W.headers=s,W.body=C.uploadData(),W.errorHandler=MT(e),W}var g$=256*1024;var _T=null,Cb=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Sb=class extends Cb{initXhr(){this.xhr_.responseType="text"}};function Pb(){return _T?_T():new Sb}var da=class n{constructor(e,t){this._service=e,t instanceof ni?this._location=t:this._location=ni.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RT(this._location.path)}get storage(){return this._service}get parent(){let e=C2(this._location.path);if(e===null)return null;let t=new ni(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw a2(e)}};function z2(n,e,t){n._throwIfRoot("uploadBytes");let i=B2(n.storage,n._location,DT(),new zh(e,!0),t);return n.storage.makeRequestWithTokens(i,Pb).then(r=>({metadata:r,ref:n}))}function $2(n){n._throwIfRoot("getDownloadURL");let e=L2(n.storage,n._location,DT());return n.storage.makeRequestWithTokens(e,Pb).then(t=>{if(t===null)throw o2();return t})}function q2(n){n._throwIfRoot("deleteObject");let e=V2(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Pb)}function H2(n,e){let t=S2(n._location.path,e),i=new ni(n._location.bucket,t);return new da(n.storage,i)}function G2(n){return/^[A-Za-z]+:\/\//.test(n)}function W2(n,e){return new da(n,e)}function FT(n,e){if(n instanceof yl){let t=n;if(t._bucket==null)throw i2();let i=new da(t,t._bucket);return e!=null?FT(i,e):i}else return e!==void 0?H2(n,e):n}function K2(n,e){if(e&&G2(e)){if(n instanceof yl)return W2(n,e);throw Tb("To use ref(service, url), the first argument must be a Storage instance.")}else return FT(n,e)}function yT(n,e){let t=e?.[TT];return t==null?null:ni.makeFromBucketSpec(t,n)}function Q2(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:fd(r,n.app.options.projectId))}var yl=class{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=ET,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GN,this._maxUploadRetryTime=WN,this._requests=new Set,r!=null?this._bucket=ni.makeFromBucketSpec(r,this._host):this._bucket=yT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=yT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return I(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return I(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new da(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new Ab(AT());{let s=v2(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return I(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},wT="@firebase/storage",IT="0.12.6";var LT="storage";function VT(n,e,t){return n=Ve(n),z2(n,e,t)}function UT(n){return n=Ve(n),$2(n)}function jT(n){return n=Ve(n),q2(n)}function BT(n,e){return n=Ve(n),K2(n,e)}function zT(n=Yn(),e){n=Ve(n);let i=In(n,LT).getImmediate({identifier:e}),r=hd("storage");return r&&$T(i,...r),i}function $T(n,e,t,i={}){Q2(n,e,t,i)}function Y2(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new yl(t,i,r,e,_i)}function J2(){Bt(new _t(LT,Y2,"PUBLIC").setMultipleInstances(!0)),Ue(wT,IT,""),Ue(wT,IT,"esm2017")}J2();var cr=class{constructor(e){return e}},qT="storage",Ob=class{constructor(){return wo(qT)}};var Mb=new ye("angularfire2.storage-instances");function X2(n,e){let t=Vs(qT,n,e);return t&&new cr(t)}function Z2(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new cr(i)}}var eF={provide:Ob,deps:[[new At,Mb]]},tF={provide:cr,useFactory:X2,deps:[[new At,Mb],Jn]};function HT(n,...e){return Ue("angularfire",Xi.full,"gcs"),Jt([tF,eF,{provide:Mb,useFactory:Z2(n),multi:!0,deps:[Re,Pn,Rr,Zi,[new At,Co],[new At,kr],...e]}])}var qh=qe(jT,!0);var GT=qe(UT,!0);var WT=qe(zT,!0);var wl=qe(BT,!0);var KT=qe(VT,!0);var YT=(()=>{class n{storage;firestore;constructor(t,i){this.storage=t,this.firestore=i}uploadPhoto(t){return I(this,null,function*(){let i=wl(this.storage,"photos/"+t.name);return yield KT(i,t),GT(i)})}deletePhoto(t,i){return I(this,null,function*(){let r=wl(this.storage,"photos/"+i);yield qh(r),yield jo(hn(this.firestore,"photos",t))})}static \u0275fac=function(i){return new(i||n)(X(cr),X(sn))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nn=(()=>{class n{auth;firestore;router;currentUserSubject=new cn(null);isBrowser;constructor(t,i,r,o){this.auth=t,this.firestore=i,this.router=o,this.isBrowser=Is(r),this.isBrowser&&this.initAuthListener()}initAuthListener(){lI(this.auth,t=>{t?this.getUserData(t.uid).then(i=>{console.log("User data fetched:",i),this.currentUserSubject.next(i),this.router.url==="/login"&&this.router.navigate(["/home"])}):(console.log("No user logged in"),this.currentUserSubject.next(null),this.router.url!=="/login"&&this.router.navigate(["/login"]))})}getUserData(t){return I(this,null,function*(){console.log("Fetching user data for userId:",t);let i=yield fl(hn(this.firestore,"users",t));if(i.exists()){let r=i.data();return console.log("User data from Firestore:",r),r}return console.log("No user document found in Firestore for userId:",t),null})}login(t,i){return I(this,null,function*(){if(this.isBrowser)try{let r=yield uI(this.auth,t,i),o=yield this.getUserData(r.user.uid);o||(o={id:r.user.uid,name:r.user.displayName||"Unknown",email:r.user.email||"",isEventOwner:!1,eventId:void 0},yield Ib(hn(this.firestore,"users",o.id),Ee(B({},o),{eventId:null})),console.log("Created new user document in Firestore:",o)),this.currentUserSubject.next(o),this.router.navigate(["/home"])}catch(r){throw console.error("Login error:",r),r}})}register(t,i,r,o){return I(this,null,function*(){if(this.isBrowser)try{let c={id:(yield aI(this.auth,t,i)).user.uid,name:r,email:t,isEventOwner:o,eventId:o?this.generateEventId():void 0};yield Ib(hn(this.firestore,"users",c.id),Ee(B({},c),{eventId:c.eventId||null})),console.log("User registered and saved to Firestore:",c),this.currentUserSubject.next(c),this.router.navigate(["/home"])}catch(s){throw console.error("Registration error:",s),s}})}generateEventId(){return Math.floor(1e5+Math.random()*9e5).toString()}logout(){return I(this,null,function*(){this.isBrowser&&(yield dI(this.auth),this.currentUserSubject.next(null),this.router.navigate(["/login"]))})}getCurrentUser(){return this.currentUserSubject.asObservable()}isLoggedIn(){return this.currentUserSubject.value!==null}isEventOwner(){let t=this.currentUserSubject.value;return t?t.isEventOwner:!1}getEventSettings(){return I(this,null,function*(){let t=this.currentUserSubject.value;if(t&&t.isEventOwner&&t.eventId){let i=yield fl(hn(this.firestore,"events",t.eventId));if(i.exists())return i.data()}return null})}saveEventSettings(t){return I(this,null,function*(){let i=this.currentUserSubject.value;i&&i.isEventOwner&&i.eventId&&(yield Uh(hn(this.firestore,"events",i.eventId),t))})}static \u0275fac=function(i){return new(i||n)(X(xo),X(sn),X(en),X(jt))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var JT=(()=>{class n{router;storageService;firestore;authService;title="Buse & Aydo\u011Fan";date="28.09.24";eventId=null;uploadedFileUrl="";constructor(t,i,r,o){this.router=t,this.storageService=i,this.firestore=r,this.authService=o}ngOnInit(){this.authService.getCurrentUser().subscribe(t=>{console.log("Current user:",t),t?(this.eventId=t.eventId||null,console.log("Current user eventId:",this.eventId)):(console.log("No user logged in"),this.router.navigate(["/login"]))})}triggerFileInput(){document.getElementById("fileInput")?.click()}onFileSelected(t){let r=t.target.files;r&&r.length>0?(console.log("File selected:",r[0].name),this.uploadFile(r[0])):console.log("No file selected")}uploadFile(t){console.log("Starting file upload"),this.storageService.uploadPhoto(t).then(i=>{this.uploadedFileUrl=i,console.log("File uploaded successfully:",i),this.saveFileData(i,t.name)}).catch(i=>{console.error("Error uploading file:",i),alert("File upload failed. Please try again.")})}saveFileData(t,i){console.log("Saving file data to Firestore"),hl(ar(this.firestore,"photos"),{eventId:this.eventId,url:t,name:i,createdAt:new Date}).then(()=>{console.log("File data saved to Firestore"),alert("File uploaded and saved successfully!")}).catch(r=>{console.error("Error saving file data:",r),alert("Failed to save file data. Please try again.")})}goToGallery(){this.router.navigate(["/gallery"])}goToSettings(){this.router.navigate(["/manage"])}static \u0275fac=function(i){return new(i||n)(Z(jt),Z(YT),Z(sn),Z(Nn))};static \u0275cmp=dt({type:n,selectors:[["app-home"]],standalone:!0,features:[ft],decls:22,vars:2,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-screen","h-full","p-8","max-w-4xl","mx-auto"],[1,"home-title"],[1,"home-date"],[1,"w-full","max-w-md","flex","items-center","justify-center","gap-4","mb-8"],[1,"btnc",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"],[1,"fixed-gallery-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],[1,"gallery-text"],[1,"fixed-settings-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 0 1 0-.255c.007-.378-.138-.75-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],[1,"settings-text"],["type","file","id","fileInput","multiple","","accept","image/*",2,"display","none",3,"change"]],template:function(i,r){i&1&&(U(0,"div",0)(1,"h1",1),ie(2),j(),U(3,"p",2),ie(4),j(),U(5,"div",3)(6,"button",4),be("click",function(){return r.triggerFileInput()}),Xt(),U(7,"svg",5),Pe(8,"path",6),j(),ie(9," Y\xFCkle "),j()()(),Dn(),U(10,"button",7),be("click",function(){return r.goToGallery()}),Xt(),U(11,"svg",8),Pe(12,"path",6),j(),Dn(),U(13,"span",9),ie(14,"Galeri"),j()(),U(15,"button",10),be("click",function(){return r.goToSettings()}),Xt(),U(16,"svg",8),Pe(17,"path",11)(18,"path",12),j(),Dn(),U(19,"span",13),ie(20,"Ayarlar"),j()(),U(21,"input",14),be("change",function(s){return r.onFileSelected(s)}),j()),i&2&&(K(2),Gi(r.title),K(2),Gi(r.date))},dependencies:[on],encapsulation:2})}return n})();function iF(n,e){n&1&&(U(0,"div",16),Xt(),U(1,"svg",17),Pe(2,"path",18),j()())}function rF(n,e){if(n&1){let t=bt();U(0,"div",13),be("click",function(){let r=Se(t).$implicit,o=Ie();return ke(o.togglePhotoSelection(r))}),Pe(1,"img",14),Ge(2,iF,3,0,"div",15),j()}if(n&2){let t=e.$implicit;Ot("selected",t.selected),K(),ee("src",t.url,Ou)("alt",t.name),K(),ee("ngIf",t.selected)}}function oF(n,e){n&1&&(U(0,"div",19),ie(1," Foto\u011Fraf bulunamad\u0131. "),j())}var ZT=(()=>{class n{router;firestore;storage;authService;photos$;selectedPhotos=[];eventId=null;photosSubscription=null;constructor(t,i,r,o){this.router=t,this.firestore=i,this.storage=r,this.authService=o,this.photos$=new ui}ngOnInit(){this.authService.getCurrentUser().subscribe(t=>{console.log("Mevcut kullan\u0131c\u0131:",t),t?(this.eventId=t.eventId||null,console.log("Mevcut kullan\u0131c\u0131 eventId:",this.eventId),this.loadPhotos()):(console.log("Giri\u015F yapm\u0131\u015F kullan\u0131c\u0131 yok"),this.router.navigate(["/login"]))})}ngOnDestroy(){this.photosSubscription&&this.photosSubscription.unsubscribe()}loadPhotos(){console.log("Foto\u011Fraflar y\xFCkleniyor, eventId:",this.eventId);let t=ar(this.firestore,"photos"),i;this.eventId?i=ca(t,ml("eventId","==",this.eventId),wb("createdAt","desc")):i=ca(t,wb("createdAt","desc")),this.photos$=pT(i,{idField:"id"}).pipe(he(r=>(console.log("Al\u0131nan foto\u011Fraflar:",r),r.map(o=>({id:o.id,name:o.name,url:o.url,createdAt:o.createdAt.toDate(),eventId:o.eventId,selected:!1}))))),this.photosSubscription=this.photos$.subscribe(r=>{console.log("Y\xFCklenen foto\u011Fraf say\u0131s\u0131:",r.length),this.updateSelectedPhotos()},r=>console.error("Foto\u011Fraflar\u0131 al\u0131rken hata olu\u015Ftu:",r))}goBack(){this.router.navigate(["/home"])}selectAllPhotos(){this.photos$=this.photos$.pipe(he(t=>t.map(i=>Ee(B({},i),{selected:!0})))),this.updateSelectedPhotos()}deselectAllPhotos(){this.photos$=this.photos$.pipe(he(t=>t.map(i=>Ee(B({},i),{selected:!1})))),this.updateSelectedPhotos()}togglePhotoSelection(t){t.selected=!t.selected,this.updateSelectedPhotos()}updateSelectedPhotos(){this.photos$.pipe(he(t=>t.filter(i=>i.selected))).subscribe(t=>{this.selectedPhotos=t,console.log("Se\xE7ilen foto\u011Fraflar:",this.selectedPhotos.length)})}deleteSelectedPhotos(){return I(this,null,function*(){console.log("Se\xE7ilen foto\u011Fraflar siliniyor:",this.selectedPhotos.length);for(let t of this.selectedPhotos)yield this.deletePhoto(t);this.loadPhotos()})}deleteAllPhotos(){return I(this,null,function*(){try{let t=yield hy(this.photos$);if(t)for(let i of t)yield this.deletePhoto(i);this.loadPhotos()}catch(t){console.error("T\xFCm foto\u011Fraflar\u0131 silerken hata olu\u015Ftu:",t)}})}deletePhoto(t){return I(this,null,function*(){try{yield jo(hn(this.firestore,"photos",t.id));let i=wl(this.storage,t.url);yield qh(i),console.log("Foto\u011Fraf ba\u015Far\u0131yla silindi:",t.id)}catch(i){console.error("Foto\u011Fraf silinirken hata olu\u015Ftu:",i)}})}downloadSelectedPhotos(){this.selectedPhotos.forEach(t=>{let i=document.createElement("a");i.href=t.url,i.download=t.name,document.body.appendChild(i),i.click(),document.body.removeChild(i)})}static \u0275fac=function(i){return new(i||n)(Z(jt),Z(sn),Z(cr),Z(Nn))};static \u0275cmp=dt({type:n,selectors:[["app-gallery"]],standalone:!0,features:[ft],decls:22,vars:6,consts:[[1,"gallery-container","p-4"],[1,"mb-6","flex","flex-wrap","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-5","xl:grid-cols-6","gap-4"],["class","gallery-item cursor-pointer",3,"selected","click",4,"ngFor","ngForOf"],["class","text-center text-gray-500 mt-8",4,"ngIf"],[1,"fixed-back-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"],[1,"back-text"],[1,"gallery-item","cursor-pointer",3,"click"],[1,"w-full","h-full","object-cover",3,"src","alt"],["class","photo-overlay",4,"ngIf"],[1,"photo-overlay"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-8","w-8","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-center","text-gray-500","mt-8"]],template:function(i,r){if(i&1&&(U(0,"div",0)(1,"div",1)(2,"button",2),be("click",function(){return r.selectAllPhotos()}),ie(3,"T\xFCm\xFCn\xFC Se\xE7"),j(),U(4,"button",3),be("click",function(){return r.deselectAllPhotos()}),ie(5,"Se\xE7imi Kald\u0131r"),j(),U(6,"button",4),be("click",function(){return r.deleteSelectedPhotos()}),ie(7,"Se\xE7ilenleri Sil"),j(),U(8,"button",5),be("click",function(){return r.downloadSelectedPhotos()}),ie(9,"Se\xE7ilenleri \u0130ndir"),j(),U(10,"button",4),be("click",function(){return r.deleteAllPhotos()}),ie(11,"T\xFCm\xFCn\xFC Sil"),j()(),U(12,"div",6),Ge(13,rF,3,5,"div",7),Xf(14,"async"),j(),Ge(15,oF,2,0,"div",8),Xf(16,"async"),j(),U(17,"button",9),be("click",function(){return r.goBack()}),Xt(),U(18,"svg",10),Pe(19,"path",11),j(),Dn(),U(20,"span",12),ie(21,"Geri D\xF6n"),j()()),i&2){let o;K(13),ee("ngForOf",Zf(14,2,r.photos$)),K(2),ee("ngIf",((o=Zf(16,4,r.photos$))==null?null:o.length)===0)}},dependencies:[on,ju,ws,Ny],encapsulation:2})}return n})();var lA=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(Z(ps),Z(ht))},e.\u0275dir=Be({type:e});let n=e;return n})(),Xh=(()=>{let e=class e extends lA{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fi(e)))(o||e)}})(),e.\u0275dir=Be({type:e,features:[vn]});let n=e;return n})(),Bo=new ye(""),sF={provide:Bo,useExisting:di(()=>kl),multi:!0},kl=(()=>{let e=class e extends Xh{writeValue(i){this.setProperty("checked",i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fi(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&be("change",function(c){return o.onChange(c.target.checked)})("blur",function(){return o.onTouched()})},features:[un([sF]),vn]});let n=e;return n})(),aF={provide:Bo,useExisting:di(()=>ga),multi:!0};function cF(){let n=ys()?ys().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var lF=new ye(""),ga=(()=>{let e=class e extends lA{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!cF())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(Z(ps),Z(ht),Z(lF,8))},e.\u0275dir=Be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&be("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[un([aF]),vn]});let n=e;return n})();function uF(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Rl=new ye(""),uA=new ye("");function dF(n){return uF(n.value)?{required:!0}:null}function eA(n){return null}function dA(n){return n!=null}function hA(n){return Lu(n)?Yt(n):n}function fA(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function mA(n,e){return e.map(t=>t(n))}function hF(n){return!n.validate}function pA(n){return n.map(e=>hF(e)?e:t=>e.validate(t))}function fF(n){if(!n)return null;let e=n.filter(dA);return e.length==0?null:function(t){return fA(mA(t,e))}}function Fb(n){return n!=null?fF(pA(n)):null}function mF(n){if(!n)return null;let e=n.filter(dA);return e.length==0?null:function(t){let i=mA(t,e).map(hA);return fy(i).pipe(he(fA))}}function Lb(n){return n!=null?mF(pA(n)):null}function tA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pF(n){return n._rawValidators}function gF(n){return n._rawAsyncValidators}function Nb(n){return n?Array.isArray(n)?n:[n]:[]}function Gh(n,e){return Array.isArray(n)?n.includes(e):n===e}function nA(n,e){let t=Nb(e);return Nb(n).forEach(r=>{Gh(t,r)||t.push(r)}),t}function iA(n,e){return Nb(e).filter(t=>!Gh(n,t))}var Wh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Lb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ma=class extends Wh{get formDirective(){return null}get path(){return null}},Sl=class extends Wh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},vF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yq=Ee(B({},vF),{"[class.ng-submitted]":"isSubmitted"}),Zh=(()=>{let e=class e extends Kh{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(Z(Sl,2))},e.\u0275dir=Be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ot("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[vn]});let n=e;return n})(),gA=(()=>{let e=class e extends Kh{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(Z(ma,10))},e.\u0275dir=Be({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ot("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[vn]});let n=e;return n})();var El="VALID",Hh="INVALID",ha="PENDING",Tl="DISABLED",pa=class{},Qh=class extends pa{constructor(e,t){super(),this.value=e,this.source=t}},xl=class extends pa{constructor(e,t){super(),this.pristine=e,this.source=t}},Cl=class extends pa{constructor(e,t){super(),this.touched=e,this.source=t}},fa=class extends pa{constructor(e,t){super(),this.status=e,this.source=t}};function vA(n){return(ef(n)?n.validators:n)||null}function bF(n){return Array.isArray(n)?Fb(n):n||null}function bA(n,e){return(ef(e)?e.asyncValidators:n)||null}function _F(n){return Array.isArray(n)?Lb(n):n||null}function ef(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function yF(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new Je(1e3,"");if(!i[t])throw new Je(1001,"")}function wF(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new Je(1002,"")})}var Yh=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Za(()=>this.statusReactive()),this.statusReactive=Ka(void 0),this._pristine=Za(()=>this.pristineReactive()),this.pristineReactive=Ka(!0),this._touched=Za(()=>this.touchedReactive()),this.touchedReactive=Ka(!1),this._events=new Hn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xr(this.statusReactive)}set status(e){xr(()=>this.statusReactive.set(e))}get valid(){return this.status===El}get invalid(){return this.status===Hh}get pending(){return this.status==ha}get disabled(){return this.status===Tl}get enabled(){return this.status!==Tl}get pristine(){return xr(this.pristineReactive)}set pristine(e){xr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xr(this.touchedReactive)}set touched(e){xr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iA(e,this._rawAsyncValidators))}hasValidator(e){return Gh(this._rawValidators,e)}hasAsyncValidator(e){return Gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ee(B({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Cl(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Cl(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ee(B({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new xl(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new xl(!0,i))}markAsPending(e={}){this.status=ha;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ee(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tl,this.errors=null,this._forEachChild(r=>{r.disable(Ee(B({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qh(this.value,i)),this._events.next(new fa(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=El,this._forEachChild(i=>{i.enable(Ee(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ee(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===El||this.status===ha)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qh(this.value,t)),this._events.next(new fa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ee(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tl:El}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ha,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=hA(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new fa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Zt,this.statusChanges=new Zt}_calculateStatus(){return this._allControlsDisabled()?Tl:this.errors?Hh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ha)?ha:this._anyControlsHaveStatus(Hh)?Hh:El}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new xl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Cl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ef(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_F(this._rawAsyncValidators)}},Jh=class extends Yh{constructor(e,t,i){super(vA(t),bA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){wF(this,!0,e),Object.keys(e).forEach(i=>{yF(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vb=new ye("CallSetDisabledState",{providedIn:"root",factory:()=>Ub}),Ub="always";function IF(n,e){return[...e.path,n]}function _A(n,e,t=Ub){yA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),TF(n,e),xF(n,e),AF(n,e),EF(n,e)}function rA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function EF(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function yA(n,e){let t=pF(n);e.validator!==null?n.setValidators(tA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=gF(n);e.asyncValidator!==null?n.setAsyncValidators(tA(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();rA(e._rawValidators,r),rA(e._rawAsyncValidators,r)}function TF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&wA(n,e)})}function AF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&wA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function wA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xF(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function CF(n,e){n==null,yA(n,e)}function SF(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function kF(n){return Object.getPrototypeOf(n.constructor)===Xh}function RF(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function DF(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===ga?t=o:kF(o)?i=o:r=o}),r||i||t||null}var PF={provide:ma,useExisting:di(()=>jb)},Al=Promise.resolve(),jb=(()=>{let e=class e extends ma{get submitted(){return xr(this.submittedReactive)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=Za(()=>this.submittedReactive()),this.submittedReactive=Ka(!1),this._directives=new Set,this.ngSubmit=new Zt,this.form=new Jh({},Fb(i),Lb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Al.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),_A(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Al.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Al.then(()=>{let r=this._findContainer(i.path),o=new Jh({});CF(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Al.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Al.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),RF(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(Z(Rl,10),Z(uA,10),Z(Vb,8))},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&be("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[un([PF]),vn]});let n=e;return n})();function oA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function sA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var OF=class extends Yh{constructor(e=null,t,i){super(vA(t),bA(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ef(t)&&(t.nonNullable||t.initialValueIsDefault)&&(sA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){sA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var MF={provide:Sl,useExisting:di(()=>Dl)},aA=Promise.resolve(),Dl=(()=>{let e=class e extends Sl{constructor(i,r,o,s,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new OF,this._registered=!1,this.name="",this.update=new Zt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=DF(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),SF(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_A(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){aA.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&bn(r);aA.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?IF(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(Z(ma,9),Z(Rl,10),Z(uA,10),Z(Bo,10),Z(Ki,8),Z(Vb,8))},e.\u0275dir=Be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[un([MF]),vn,$i]});let n=e;return n})(),IA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var NF={provide:Bo,useExisting:di(()=>tf),multi:!0};function EA(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function FF(n){return n.split(":")[0]}var tf=(()=>{let e=class e extends Xh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=EA(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=FF(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fi(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&be("change",function(c){return o.onChange(c.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[un([NF]),vn]});let n=e;return n})(),TA=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(EA(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(Z(ht),Z(ps),Z(tf,9))},e.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})(),LF={provide:Bo,useExisting:di(()=>AA),multi:!0};function cA(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function VF(n){return n.split(":")[0]}var AA=(()=>{let e=class e extends Xh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(s=>this._getOptionId(s));r=(s,c)=>{s._setSelected(o.indexOf(c.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],s=r.selectedOptions;if(s!==void 0){let c=s;for(let u=0;u<c.length;u++){let d=c[u],m=this._getOptionValue(d.value);o.push(m)}}else{let c=r.options;for(let u=0;u<c.length;u++){let d=c[u];if(d.selected){let m=this._getOptionValue(d.value);o.push(m)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=VF(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fi(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&be("change",function(c){return o.onChange(c.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[un([LF]),vn]});let n=e;return n})(),xA=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(cA(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(cA(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(Z(ht),Z(ps),Z(AA,9))},e.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})();var UF=(()=>{let e=class e{constructor(){this._validator=eA}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):eA,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Be({type:e,features:[$i]});let n=e;return n})();var jF={provide:Rl,useExisting:di(()=>Pl),multi:!0};var Pl=(()=>{let e=class e extends UF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=bn,this.createValidator=i=>dF}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=fi(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Pt("required",o._enabled?"":null)},inputs:{required:"required"},features:[un([jF]),vn]});let n=e;return n})();var BF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({});let n=e;return n})();var nf=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Vb,useValue:i.callSetDisabledState??Ub}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({imports:[BF]});let n=e;return n})();var Bb;try{Bb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Bb=!1}var zo=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Is(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Bb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(X(en))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Ol;function zF(){if(Ol==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ol=!0}))}finally{Ol=Ol||!1}return Ol}function zb(n){return zF()?n:!!n.capture}function SA(n){return n.composedPath?n.composedPath()[0]:n.target}function kA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function qb(n){return Array.isArray(n)?n:[n]}function Hb(n){return n instanceof ht?n.nativeElement:n}var $F=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var RA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({providers:[$F]});let n=e;return n})();var DA=new Set,$o,qF=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GF}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&HF(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(X(zo),X(Ga,8))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function HF(n,e){if(!DA.has(n))try{$o||($o=document.createElement("style"),e&&$o.setAttribute("nonce",e),$o.setAttribute("type","text/css"),document.head.appendChild($o)),$o.sheet&&($o.sheet.insertRule(`@media ${n} {body{ }}`,0),DA.add(n))}catch(t){console.error(t)}}function GF(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var OA=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new Hn}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return PA(qb(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=PA(qb(i)).map(c=>this._registerQuery(c).observable),s=za(o);return s=Su(s.pipe(ln(1)),s.pipe(vy(1),my(0))),s.pipe(he(c=>{let u={matches:!1,breakpoints:{}};return c.forEach(({matches:d,query:m})=>{u.matches=u.matches||d,u.breakpoints[m]=d}),u}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new ui(c=>{let u=d=>this._zone.run(()=>c.next(d));return r.addListener(u),()=>{r.removeListener(u)}}).pipe(qa(r),he(({matches:c})=>({query:i,matches:c})),ku(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(X(qF),X(Re))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function PA(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function FA(n){return n.buttons===0||n.detail===0}function LA(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var qo=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(qo||{}),MA="cdk-high-contrast-black-on-white",NA="cdk-high-contrast-white-on-black",Gb="cdk-high-contrast-active",VA=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=te(OA).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return qo.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return qo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return qo.BLACK_ON_WHITE}return qo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Gb,MA,NA),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===qo.BLACK_ON_WHITE?i.add(Gb,MA):r===qo.WHITE_ON_BLACK&&i.add(Gb,NA)}}};e.\u0275fac=function(r){return new(r||e)(X(zo),X(mt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Wb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({});let n=e;return n})();var QF=["mat-internal-form-field",""],YF=["*"];function JF(){return!0}var XF=new ye("mat-sanity-checks",{providedIn:"root",factory:JF}),St=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return kA()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(X(VA),X(XF,8),X(mt))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({imports:[Wb,Wb]});let n=e;return n})();var Fn=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Fn||{}),Kb=class{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Fn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},UA=zb({passive:!0,capture:!0}),Qb=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=SA(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,UA)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,UA)))}},jA={enterDuration:225,exitDuration:150},ZF=800,BA=zb({passive:!0,capture:!0}),zA=["mousedown","touchstart"],$A=["mouseup","mouseleave","touchend","touchcancel"],Ml=class Ml{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Hb(i))}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=B(B({},jA),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||eL(e,t,r),c=e-r.left,u=t-r.top,d=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${c-s}px`,m.style.top=`${u-s}px`,m.style.height=`${s*2}px`,m.style.width=`${s*2}px`,i.color!=null&&(m.style.backgroundColor=i.color),m.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(m);let b=window.getComputedStyle(m),y=b.transitionProperty,C=b.transitionDuration,P=y==="none"||C==="0s"||C==="0s, 0s"||r.width===0&&r.height===0,L=new Kb(this,m,i,P);m.style.transform="scale3d(1, 1, 1)",L.state=Fn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=L);let F=null;return!P&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let G=()=>{F&&(F.fallbackTimer=null),clearTimeout(q),this._finishRippleTransition(L)},W=()=>this._destroyRipple(L),q=setTimeout(W,d+100);m.addEventListener("transitionend",G),m.addEventListener("transitioncancel",W),F={onTransitionEnd:G,onTransitionCancel:W,fallbackTimer:q}}),this._activeRipples.set(L,F),(P||!d)&&this._finishRippleTransition(L),L}fadeOutRipple(e){if(e.state===Fn.FADING_OUT||e.state===Fn.HIDDEN)return;let t=e.element,i=B(B({},jA),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Fn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Hb(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,zA.forEach(i=>{Ml._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$A.forEach(t=>{this._triggerElement.addEventListener(t,this,BA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Fn.FADING_IN?this._startFadeOutTransition(e):e.state===Fn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Fn.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Fn.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=FA(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ZF;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!LA(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Fn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Fn.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(zA.forEach(t=>Ml._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&($A.forEach(t=>e.removeEventListener(t,this,BA)),this._pointerUpEventsRegistered=!1))}};Ml._eventManager=new Qb;var Yb=Ml;function eL(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var tL=new ye("mat-ripple-global-options"),Jb=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,c){this._elementRef=i,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Yb(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:B(B(B({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,B(B({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,B(B({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(Z(ht),Z(Re),Z(zo),Z(tL,8),Z(Wn,8))},e.\u0275dir=Be({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Ot("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=e;return n})(),qA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({imports:[St,St]});let n=e;return n})();var HA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=dt({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&Ot("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[ft],attrs:QF,ngContentSelectors:YF,decls:1,vars:0,template:function(r,o){r&1&&(ho(),fo(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let n=e;return n})();var GA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({imports:[St,qA,St]});let n=e;return n})();var WA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({imports:[St,on,St]});let n=e;return n})();var Nl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({imports:[St,on,RA,St]});let n=e;return n})();var KA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({});let n=e;return n})();var QA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({imports:[St,Nl,Nl,KA,St]});let n=e;return n})();var nL=["input"],iL=["label"],rL=["*"],oL=new ye("mat-checkbox-default-options",{providedIn:"root",factory:JA});function JA(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Gt=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(Gt||{}),sL={provide:Bo,useExisting:di(()=>XA),multi:!0},Xb=class{},aL=0,YA=JA(),XA=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let r=new Xb;return r.source=this,r.checked=i,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,r,o,s,c,u){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=o,this._animationMode=c,this._options=u,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Zt,this.indeterminateChange=new Zt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Gt.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||YA,this.color=this._options.color||YA.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++aL}`,this.disabledInteractive=u?.disabledInteractive??!1}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let r=i!=this._indeterminate;this._indeterminate=i,r&&(this._indeterminate?this._transitionCheckState(Gt.Indeterminate):this._transitionCheckState(this.checked?Gt.Checked:Gt.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(!(r===i||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Gt.Checked:Gt.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&i==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,r){if(this._animationMode==="NoopAnimations")return"";switch(i){case Gt.Init:if(r===Gt.Checked)return this._animationClasses.uncheckedToChecked;if(r==Gt.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Gt.Unchecked:return r===Gt.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Gt.Checked:return r===Gt.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Gt.Indeterminate:return r===Gt.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let r=this._inputElement;r&&(r.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}};e.\u0275fac=function(r){return new(r||e)(Z(ht),Z(Ki),Z(Re),Du("tabindex"),Z(Wn,8),Z(oL,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-checkbox"]],viewQuery:function(r,o){if(r&1&&(Ar(nL,5),Ar(iL,5),Ar(Jb,5)),r&2){let s;qi(s=Hi())&&(o._inputElement=s.first),qi(s=Hi())&&(o._labelElement=s.first),qi(s=Hi())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(r,o){r&2&&(Ya("id",o.id),Pt("tabindex",null)("aria-label",null)("aria-labelledby",null),Qa(o.color?"mat-"+o.color:"mat-accent"),Ot("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked)("mat-mdc-checkbox-disabled-interactive",o.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",bn],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",bn],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:_s(i)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",bn],checked:[2,"checked","checked",bn],disabled:[2,"disabled","disabled",bn],indeterminate:[2,"indeterminate","indeterminate",bn]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[un([sL,{provide:Rl,useExisting:e,multi:!0}]),mi,$i,ft],ngContentSelectors:rL,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,o){if(r&1){let s=bt();ho(),U(0,"div",3),be("click",function(u){return Se(s),ke(o._preventBubblingFromLabel(u))}),U(1,"div",4,0)(3,"div",5),be("click",function(){return Se(s),ke(o._onTouchTargetClick())}),j(),U(4,"input",6,1),be("blur",function(){return Se(s),ke(o._onBlur())})("click",function(){return Se(s),ke(o._onInputClick())})("change",function(u){return Se(s),ke(o._onInteractionEvent(u))}),j(),Pe(6,"div",7),U(7,"div",8),Xt(),U(8,"svg",9),Pe(9,"path",10),j(),Dn(),Pe(10,"div",11),j(),Pe(11,"div",12),j(),U(12,"label",13,2),fo(14),j()()}if(r&2){let s=Ja(2);ee("labelPosition",o.labelPosition),K(4),Ot("mdc-checkbox--selected",o.checked),ee("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled&&!o.disabledInteractive)("id",o.inputId)("required",o.required)("tabIndex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex),Pt("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("aria-disabled",o.disabled&&o.disabledInteractive?!0:null)("name",o.name)("value",o.value),K(7),ee("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),K(),ee("for",o.inputId)}},dependencies:[Jb,HA],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let n=e;return n})();var ZA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({imports:[XA,St,St]});let n=e;return n})();var cL=["determinateSpinner"];function lL(n,e){if(n&1&&(Xt(),U(0,"svg",11),Pe(1,"circle",12),j()),n&2){let t=Ie();Pt("viewBox",t._viewBox()),K(),vs("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Pt("r",t._circleRadius())}}var uL=new ye("mat-progress-spinner-default-options",{providedIn:"root",factory:dL});function dL(){return{diameter:ex}}var ex=100,hL=10,tx=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(i){this._color=i}constructor(i,r,o){this._elementRef=i,this._defaultColor="primary",this._value=0,this._diameter=ex,this._noopAnimations=r==="NoopAnimations"&&!!o&&!o._forceAnimations,this.mode=i.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",o&&(o.color&&(this.color=this._defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,i||0))}get diameter(){return this._diameter}set diameter(i){this._diameter=i||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(i){this._strokeWidth=i||0}_circleRadius(){return(this.diameter-hL)/2}_viewBox(){let i=this._circleRadius()*2+this.strokeWidth;return`0 0 ${i} ${i}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}};e.\u0275fac=function(r){return new(r||e)(Z(ht),Z(Wn,8),Z(uL))},e.\u0275cmp=dt({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,o){if(r&1&&Ar(cL,5),r&2){let s;qi(s=Hi())&&(o._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,o){r&2&&(Pt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),Qa("mat-"+o.color),vs("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),Ot("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",_s],diameter:[2,"diameter","diameter",_s],strokeWidth:[2,"strokeWidth","strokeWidth",_s]},exportAs:["matProgressSpinner"],standalone:!0,features:[mi,ft],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,o){if(r&1&&(Ge(0,lL,2,8,"ng-template",null,0,em),U(2,"div",2,1),Xt(),U(4,"svg",3),Pe(5,"circle",4),j()(),Dn(),U(6,"div",5)(7,"div",6)(8,"div",7),Nu(9,8),j(),U(10,"div",9),Nu(11,8),j(),U(12,"div",10),Nu(13,8),j()()()),r&2){let s=Ja(1);K(4),Pt("viewBox",o._viewBox()),K(),vs("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),Pt("r",o._circleRadius()),K(4),ee("ngTemplateOutlet",s),K(2),ee("ngTemplateOutlet",s),K(2),ee("ngTemplateOutlet",s)}},dependencies:[im],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0});let n=e;return n})();var nx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ne({imports:[on,St]});let n=e;return n})();function mL(n,e){if(n&1){let t=bt();U(0,"div",6)(1,"label",16),ie(2,"First name"),j(),U(3,"input",17),rn("ngModelChange",function(r){Se(t);let o=Ie();return nn(o.name,r)||(o.name=r),ke(r)}),j()()}if(n&2){let t=Ie();K(3),tn("ngModel",t.name)}}function pL(n,e){if(n&1){let t=bt();U(0,"div",6)(1,"label",18)(2,"input",19),rn("ngModelChange",function(r){Se(t);let o=Ie();return nn(o.isEventOwner,r)||(o.isEventOwner=r),ke(r)}),j(),U(3,"span",20),ie(4,"Is Event Owner"),j()()()}if(n&2){let t=Ie();K(2),tn("ngModel",t.isEventOwner)}}function gL(n,e){n&1&&Pe(0,"mat-spinner",21),n&2&&ee("diameter",20)}var ix=(()=>{class n{authService=te(Nn);router=te(jt);isLogin=!0;email="";password="";name="";isEventOwner=!1;loader=!1;isCheckingAuth=!0;ngOnInit(){this.authService.getCurrentUser().pipe(ln(1)).subscribe(t=>{t?(console.log("User already logged in, redirecting to home"),this.router.navigate(["/home"])):this.isCheckingAuth=!1})}toggleMode(){this.isLogin=!this.isLogin}onSubmit(){return I(this,null,function*(){if(!this.isCheckingAuth){this.loader=!0;try{this.isLogin?yield this.authService.login(this.email,this.password):yield this.authService.register(this.email,this.password,this.name,this.isEventOwner),this.router.navigate(["/home"])}catch(t){console.error(this.isLogin?"Login error:":"Registration error:",t)}finally{this.loader=!1}}})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=dt({type:n,selectors:[["app-login"]],standalone:!0,features:[ft],decls:23,vars:10,consts:[["loginForm","ngForm"],[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-[#FFF8E7]","via-[#FBE7E9]","to-[#FFE5D9]"],[1,"bg-white","p-8","rounded-lg","shadow-md","w-full","max-w-md"],[1,"text-2xl","font-bold","mb-6","text-center","text-gray-800"],[3,"ngSubmit"],["class","mb-4",4,"ngIf"],[1,"mb-4"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","email","id","email","name","email","required","",1,"w-full","bg-transparent","border-b","border-gray-300","focus:border-blue-500","outline-none","transition-colors","duration-300","py-2",3,"ngModelChange","ngModel"],[1,"mb-6"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","password","id","password","name","password","required","",1,"w-full","bg-transparent","border-b","border-gray-300","focus:border-blue-500","outline-none","transition-colors","duration-300","py-2",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-500","text-white","py-2","rounded-md","hover:bg-blue-600","transition-colors","duration-300","flex","items-center","justify-center",3,"disabled"],["class","mr-2",3,"diameter",4,"ngIf"],[1,"mt-4","text-center","text-sm","text-gray-600"],[1,"text-blue-500","hover:underline","cursor-pointer",3,"click"],["for","name",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","name","name","name","required","",1,"w-full","bg-transparent","border-b","border-gray-300","focus:border-blue-500","outline-none","transition-colors","duration-300","py-2",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["type","checkbox","name","isEventOwner",1,"form-checkbox","text-blue-500",3,"ngModelChange","ngModel"],[1,"ml-2","text-sm","text-gray-700"],[1,"mr-2",3,"diameter"]],template:function(i,r){if(i&1){let o=bt();U(0,"div",1)(1,"div",2)(2,"h2",3),ie(3),j(),U(4,"form",4,0),be("ngSubmit",function(){return Se(o),ke(r.onSubmit())}),Ge(6,mL,4,1,"div",5),U(7,"div",6)(8,"label",7),ie(9,"Email"),j(),U(10,"input",8),rn("ngModelChange",function(c){return Se(o),nn(r.email,c)||(r.email=c),ke(c)}),j()(),U(11,"div",9)(12,"label",10),ie(13,"Password"),j(),U(14,"input",11),rn("ngModelChange",function(c){return Se(o),nn(r.password,c)||(r.password=c),ke(c)}),j()(),Ge(15,pL,5,1,"div",5),U(16,"button",12),Ge(17,gL,1,1,"mat-spinner",13),ie(18),j()(),U(19,"p",14),ie(20),U(21,"a",15),be("click",function(){return Se(o),ke(r.toggleMode())}),ie(22),j()()()()}i&2&&(K(3),Gi(r.isLogin?"Login":"Register"),K(3),ee("ngIf",!r.isLogin),K(4),tn("ngModel",r.email),K(4),tn("ngModel",r.password),K(),ee("ngIf",!r.isLogin),K(),ee("disabled",r.loader),K(),ee("ngIf",r.loader),K(),pi(" ",r.isLogin?"Login":"Register"," "),K(2),pi(" ",r.isLogin?"Don't have an account?":"Already have an account?"," "),K(2),pi(" ",r.isLogin?"Register":"Login"," "))},dependencies:[on,ws,nf,IA,ga,kl,Zh,gA,Pl,Dl,jb,GA,WA,Nl,QA,ZA,nx,tx],encapsulation:2})}return n})();var jl=bS(rx());var r_=function(n,e){return r_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},r_(n,e)};function yx(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r_(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var fn=function(){return fn=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fn.apply(this,arguments)};function ba(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}var at={ADD_CHOICE:"ADD_CHOICE",REMOVE_CHOICE:"REMOVE_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM"},vL=["fuseOptions","classNames"],bL=function(n){return{type:at.ADD_CHOICE,choice:n}},_L=function(n){return{type:at.REMOVE_CHOICE,choice:n}},yL=function(n){return{type:at.FILTER_CHOICES,results:n}},wL=function(n){return{type:at.ACTIVATE_CHOICES,active:n}},IL=function(){return{type:at.CLEAR_CHOICES}},EL=function(n){return{type:at.ADD_GROUP,group:n}},TL=function(n){return{type:at.ADD_ITEM,item:n}},AL=function(n){return{type:at.REMOVE_ITEM,item:n}},ox=function(n,e){return{type:at.HIGHLIGHT_ITEM,item:n,highlighted:e}},xL=function(n,e){return Math.floor(Math.random()*(e-n)+n)},sx=function(n){return Array.from({length:n},function(){return xL(0,36).toString(36)}).join("")},CL=function(n,e){var t=n.id||n.name&&"".concat(n.name,"-").concat(sx(2))||sx(4);return t=t.replace(/(:|\.|\[|\]|,)/g,""),t="".concat(e,"-").concat(t),t},SL=function(n,e,t){t===void 0&&(t=1);for(var i="".concat(t>0?"next":"previous","ElementSibling"),r=n[i];r;){if(r.matches(e))return r;r=r[i]}return null},kL=function(n,e,t){t===void 0&&(t=1);var i;return t>0?i=e.scrollTop+e.offsetHeight>=n.offsetTop+n.offsetHeight:i=n.offsetTop>=e.scrollTop,i},uf=function(n){if(typeof n!="string"){if(n==null)return"";if(typeof n=="object"){if("raw"in n)return uf(n.raw);if("trusted"in n)return n.trusted}return n}return n.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},RL=function(){var n=document.createElement("div");return function(e){n.innerHTML=e.trim();for(var t=n.children[0];n.firstChild;)n.removeChild(n.firstChild);return t}}(),Vl=function(n,e){return typeof n=="function"?n(uf(e),e):n},ax=function(n){return typeof n=="function"?n():n},Go=function(n){if(typeof n=="string")return n;if(typeof n=="object"){if("trusted"in n)return n.trusted;if("raw"in n)return n.raw}return""},DL=function(n){if(typeof n=="string")return n;if(typeof n=="object"){if("escaped"in n)return n.escaped;if("trusted"in n)return n.trusted}return""},wx=function(n,e){return n?DL(e):uf(e)},lr=function(n,e,t){n.innerHTML=wx(e,t)},PL=function(n,e){var t=n.value,i=n.label,r=i===void 0?t:i,o=e.value,s=e.label,c=s===void 0?o:s;return Go(r).localeCompare(Go(c),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},OL=function(n,e){return n.rank-e.rank},ML=function(n,e,t){t===void 0&&(t=null);var i=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0});return n.dispatchEvent(i)},NL=function(n,e){var t=Object.keys(n).sort(),i=Object.keys(e).sort();return t.filter(function(r){return i.indexOf(r)<0})},oe=function(n){return Array.isArray(n)?n:[n]},rf=function(n){return n&&Array.isArray(n)?n.map(function(e){return".".concat(e)}).join(""):".".concat(n)},FL=function(n){if(typeof n<"u")try{return JSON.parse(n)}catch{return n}return{}},LL=function(){function n(e){var t=e.element,i=e.type,r=e.classNames;this.element=t,this.classNames=r,this.type=i,this.isActive=!1}return Object.defineProperty(n.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),n.prototype.show=function(){var e;return(e=this.element.classList).add.apply(e,oe(this.classNames.activeState)),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},n.prototype.hide=function(){var e;return(e=this.element.classList).remove.apply(e,oe(this.classNames.activeState)),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},n}(),e_="text",Wo="select-one",Fl="select-multiple",VL=4,cx=function(){function n(e){var t=e.element,i=e.type,r=e.classNames,o=e.position;this.element=t,this.classNames=r,this.type=i,this.position=o,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return n.prototype.shouldFlip=function(e){var t=!1;return this.position==="auto"?t=!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:this.position==="top"&&(t=!0),t},n.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},n.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},n.prototype.open=function(e){var t,i;(t=this.element.classList).add.apply(t,oe(this.classNames.openState)),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&((i=this.element.classList).add.apply(i,oe(this.classNames.flippedState)),this.isFlipped=!0)},n.prototype.close=function(){var e,t;(e=this.element.classList).remove.apply(e,oe(this.classNames.openState)),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&((t=this.element.classList).remove.apply(t,oe(this.classNames.flippedState)),this.isFlipped=!1)},n.prototype.addFocusState=function(){var e;(e=this.element.classList).add.apply(e,oe(this.classNames.focusState))},n.prototype.removeFocusState=function(){var e;(e=this.element.classList).remove.apply(e,oe(this.classNames.focusState))},n.prototype.enable=function(){var e;(e=this.element.classList).remove.apply(e,oe(this.classNames.disabledState)),this.element.removeAttribute("aria-disabled"),this.type===Wo&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},n.prototype.disable=function(){var e;(e=this.element.classList).add.apply(e,oe(this.classNames.disabledState)),this.element.setAttribute("aria-disabled","true"),this.type===Wo&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},n.prototype.wrap=function(e){var t=e.parentNode;t&&(e.nextSibling?t.insertBefore(this.element,e.nextSibling):t.appendChild(this.element)),this.element.appendChild(e)},n.prototype.unwrap=function(e){var t=this.element.parentNode;t&&(t.insertBefore(e,this.element),t.removeChild(this.element))},n.prototype.addLoadingState=function(){var e;(e=this.element.classList).add.apply(e,oe(this.classNames.loadingState)),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},n.prototype.removeLoadingState=function(){var e;(e=this.element.classList).remove.apply(e,oe(this.classNames.loadingState)),this.element.removeAttribute("aria-busy"),this.isLoading=!1},n}(),UL=function(){function n(e){var t=e.element,i=e.type,r=e.classNames,o=e.preventPaste;this.element=t,this.type=i,this.classNames=r,this.preventPaste=o,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(n.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),n.prototype.addEventListeners=function(){var e=this.element;e.addEventListener("paste",this._onPaste),e.addEventListener("input",this._onInput,{passive:!0}),e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})},n.prototype.removeEventListeners=function(){var e=this.element;e.removeEventListener("input",this._onInput),e.removeEventListener("paste",this._onPaste),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)},n.prototype.enable=function(){var e=this.element;e.removeAttribute("disabled"),this.isDisabled=!1},n.prototype.disable=function(){var e=this.element;e.setAttribute("disabled",""),this.isDisabled=!0},n.prototype.focus=function(){this.isFocussed||this.element.focus()},n.prototype.blur=function(){this.isFocussed&&this.element.blur()},n.prototype.clear=function(e){return e===void 0&&(e=!0),this.element.value="",e&&this.setWidth(),this},n.prototype.setWidth=function(){var e=this.element,t=e.style,i=e.value,r=e.placeholder;t.minWidth="".concat(r.length+1,"ch"),t.width="".concat(i.length+1,"ch")},n.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},n.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},n.prototype._onInput=function(){this.type!==Wo&&this.setWidth()},n.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},n.prototype._onFocus=function(){this.isFocussed=!0},n.prototype._onBlur=function(){this.isFocussed=!1},n}(),lx=function(){function n(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return n.prototype.clear=function(){this.element.innerHTML=""},n.prototype.prepend=function(e){var t=this.element.firstElementChild;t?this.element.insertBefore(e,t):this.element.append(e)},n.prototype.scrollToTop=function(){this.element.scrollTop=0},n.prototype.scrollToChildElement=function(e,t){var i=this;if(e){var r=this.element.offsetHeight,o=this.element.scrollTop+r,s=e.offsetHeight,c=e.offsetTop+s,u=t>0?this.element.scrollTop+c-o:e.offsetTop;requestAnimationFrame(function(){i._animateScroll(u,t)})}},n.prototype._scrollDown=function(e,t,i){var r=(i-e)/t,o=r>1?r:1;this.element.scrollTop=e+o},n.prototype._scrollUp=function(e,t,i){var r=(e-i)/t,o=r>1?r:1;this.element.scrollTop=e-o},n.prototype._animateScroll=function(e,t){var i=this,r=VL,o=this.element.scrollTop,s=!1;t>0?(this._scrollDown(o,r,e),o<e&&(s=!0)):(this._scrollUp(o,r,e),o>e&&(s=!0)),s&&requestAnimationFrame(function(){i._animateScroll(e,t)})},n}(),Ix=function(){function n(e){var t=e.element,i=e.classNames;this.element=t,this.classNames=i,this.isDisabled=!1}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),n.prototype.conceal=function(){var e,t=this.element;(e=t.classList).add.apply(e,oe(this.classNames.input)),t.hidden=!0,t.tabIndex=-1;var i=t.getAttribute("style");i&&t.setAttribute("data-choice-orig-style",i),t.setAttribute("data-choice","active")},n.prototype.reveal=function(){var e,t=this.element;(e=t.classList).remove.apply(e,oe(this.classNames.input)),t.hidden=!1,t.removeAttribute("tabindex");var i=t.getAttribute("data-choice-orig-style");i?(t.removeAttribute("data-choice-orig-style"),t.setAttribute("style",i)):t.removeAttribute("style"),t.removeAttribute("data-choice")},n.prototype.enable=function(){var e=this.element;e.removeAttribute("disabled"),e.disabled=!1,this.isDisabled=!1},n.prototype.disable=function(){var e=this.element;e.setAttribute("disabled",""),e.disabled=!0,this.isDisabled=!0},n.prototype.triggerEvent=function(e,t){ML(this.element,e,t||{})},n}(),jL=function(n){yx(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Ix),Ll=function(n,e){return e===void 0&&(e=!0),typeof n>"u"?e:!!n},Ex=function(n){if(typeof n=="string"&&(n=n.split(" ").filter(function(e){return e.length})),Array.isArray(n)&&n.length)return n},Di=function(n,e){if(typeof n=="string"){var t=Di({value:n,label:n},!1);return t}var i=n;if("choices"in i){if(!e)throw new TypeError("optGroup is not allowed");var r=i,o=r.choices.map(function(d){return Di(d,!1)}),s={id:0,label:Go(r.label)||r.value,active:!!o.length,disabled:!!r.disabled,choices:o};return s}var c=i,u={id:0,groupId:0,score:0,rank:0,value:c.value,label:c.label||c.value,active:Ll(c.active),selected:Ll(c.selected,!1),disabled:Ll(c.disabled,!1),placeholder:Ll(c.placeholder,!1),highlighted:!1,labelClass:Ex(c.labelClass),labelDescription:c.labelDescription,customProperties:c.customProperties};return u},BL=function(n){return n.tagName==="INPUT"},Tx=function(n){return n.tagName==="SELECT"},zL=function(n){return n.tagName==="OPTION"},$L=function(n){return n.tagName==="OPTGROUP"},qL=function(n){yx(e,n);function e(t){var i=t.element,r=t.classNames,o=t.template,s=t.extractPlaceholder,c=n.call(this,{element:i,classNames:r})||this;return c.template=o,c.extractPlaceholder=s,c}return Object.defineProperty(e.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),e.prototype.addOptions=function(t){var i=this,r=document.createDocumentFragment();t.forEach(function(o){var s=o;if(!s.element){var c=i.template(s);r.appendChild(c),s.element=c}}),this.element.appendChild(r)},e.prototype.optionsAsChoices=function(){var t=this,i=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(r){zL(r)?i.push(t._optionToChoice(r)):$L(r)&&i.push(t._optgroupToChoice(r))}),i},e.prototype._optionToChoice=function(t){!t.hasAttribute("value")&&t.hasAttribute("placeholder")&&(t.setAttribute("value",""),t.value="");var i=t.dataset;return{id:0,groupId:0,score:0,rank:0,value:t.value,label:t.innerHTML,element:t,active:!0,selected:this.extractPlaceholder?t.selected:t.hasAttribute("selected"),disabled:t.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!t.value||t.hasAttribute("placeholder")),labelClass:typeof i.labelClass<"u"?Ex(i.labelClass):void 0,labelDescription:typeof i.labelDescription<"u"?i.labelDescription:void 0,customProperties:FL(i.customProperties)}},e.prototype._optgroupToChoice=function(t){var i=this,r=t.querySelectorAll("option"),o=Array.from(r).map(function(s){return i._optionToChoice(s)});return{id:0,label:t.label||"",element:t,active:!!o.length,disabled:t.disabled,choices:o}},e}(Ix),HL={containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},ux={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(n){return!!n&&n!==""},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:PL,shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(n){return'Press Enter to add <b>"'.concat(n,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(n){return"Remove item: ".concat(n)},maxItemText:function(n){return"Only ".concat(n," values can be added")},valueComparer:function(n,e){return n===e},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:HL,appendGroupInSearch:!1};function GL(n,e){var t=n,i=!0;switch(e.type){case at.ADD_ITEM:{var r=e.item;r.selected=!0;var o=r.element;o&&(o.selected=!0,o.setAttribute("selected","")),t.push(r),t.forEach(function(d){d.highlighted=!1});break}case at.REMOVE_ITEM:{var s=e.item;s.selected=!1;var o=s.element;if(o){o.selected=!1,o.removeAttribute("selected");var c=o.parentElement;c&&Tx(c)&&c.type===Wo&&(c.value="")}t=t.filter(function(m){return m.id!==s.id});break}case at.REMOVE_CHOICE:{t=t.filter(function(d){return d.id!==e.choice.id});break}case at.HIGHLIGHT_ITEM:{var u=e;t.forEach(function(d){d.id===u.item.id&&(d.highlighted=u.highlighted)});break}default:{i=!1;break}}return{state:t,update:i}}function WL(n,e){var t=n,i=!0;switch(e.type){case at.ADD_GROUP:{t.push(e.group);break}case at.CLEAR_CHOICES:{t=[];break}default:{i=!1;break}}return{state:t,update:i}}function KL(n,e){var t=n,i=!0;switch(e.type){case at.ADD_CHOICE:{t.push(e.choice);break}case at.REMOVE_CHOICE:{t=t.filter(function(o){return o.id!==e.choice.id});break}case at.ADD_ITEM:case at.REMOVE_ITEM:break;case at.FILTER_CHOICES:{var r=[];e.results.forEach(function(o){r[o.item.id]=o}),t.forEach(function(o){var s=r[o.id];s!==void 0?(o.score=s.score,o.rank=s.rank,o.active=!0):(o.score=0,o.rank=0,o.active=!1)});break}case at.ACTIVATE_CHOICES:{t.forEach(function(o){o.active=e.active});break}case at.CLEAR_CHOICES:{t=[];break}default:{i=!1;break}}return{state:t,update:i}}var dx={groups:WL,items:GL,choices:KL},QL=function(){function n(){this._state=this.defaultState,this._listeners=[],this._txn=0}return Object.defineProperty(n.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),n.prototype.changeSet=function(e){return{groups:e,items:e,choices:e}},n.prototype.reset=function(){this._state=this.defaultState;var e=this.changeSet(!0);this._txn?this._changeSet=e:this._listeners.forEach(function(t){return t(e)})},n.prototype.subscribe=function(e){this._listeners.push(e)},n.prototype.dispatch=function(e){var t=this._state,i=!1,r=this._changeSet||this.changeSet(!1);Object.keys(dx).forEach(function(o){var s=dx[o](t[o],e);s.update&&(i=!0,r[o]=!0,t[o]=s.state)}),i&&(this._txn?this._changeSet=r:this._listeners.forEach(function(o){return o(r)}))},n.prototype.withTxn=function(e){this._txn++;try{e()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var t=this._changeSet;t&&(this._changeSet=void 0,this._listeners.forEach(function(i){return i(t)}))}}},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(e){return!e.disabled&&e.active&&e.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeChoices",{get:function(){return this.choices.filter(function(e){return e.active})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(e){return!e.disabled&&!e.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeGroups",{get:function(){var e=this;return this.state.groups.filter(function(t){var i=t.active&&!t.disabled,r=e.state.choices.some(function(o){return o.active&&!o.disabled});return i&&r},[])},enumerable:!1,configurable:!0}),n.prototype.inTxn=function(){return this._txn>0},n.prototype.getChoiceById=function(e){return this.activeChoices.find(function(t){return t.id===e})},n.prototype.getGroupById=function(e){return this.groups.find(function(t){return t.id===e})},n}(),Wt={noChoices:"no-choices",noResults:"no-results",addChoice:"add-choice",generic:""};function YL(n,e,t){return(e=XL(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function va(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(t),!0).forEach(function(i){YL(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function JL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XL(n){var e=JL(n,"string");return typeof e=="symbol"?e:e+""}function ur(n){return Array.isArray?Array.isArray(n):Cx(n)==="[object Array]"}var ZL=1/0;function eV(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-ZL?"-0":e}function tV(n){return n==null?"":eV(n)}function Pi(n){return typeof n=="string"}function Ax(n){return typeof n=="number"}function nV(n){return n===!0||n===!1||iV(n)&&Cx(n)=="[object Boolean]"}function xx(n){return typeof n=="object"}function iV(n){return xx(n)&&n!==null}function An(n){return n!=null}function t_(n){return!n.trim().length}function Cx(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}var rV="Incorrect 'index' type",oV=n=>`Invalid value for key ${n}`,sV=n=>`Pattern length exceeds max of ${n}.`,aV=n=>`Missing ${n} property in key`,cV=n=>`Property 'weight' in key '${n}' must be a positive integer`,fx=Object.prototype.hasOwnProperty,o_=class{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(i=>{let r=Sx(i);this._keys.push(r),this._keyMap[r.id]=r,t+=r.weight}),this._keys.forEach(i=>{i.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Sx(n){let e=null,t=null,i=null,r=1,o=null;if(Pi(n)||ur(n))i=n,e=mx(n),t=s_(n);else{if(!fx.call(n,"name"))throw new Error(aV("name"));let s=n.name;if(i=s,fx.call(n,"weight")&&(r=n.weight,r<=0))throw new Error(cV(s));e=mx(s),t=s_(s),o=n.getFn}return{path:e,id:t,weight:r,src:i,getFn:o}}function mx(n){return ur(n)?n:n.split(".")}function s_(n){return ur(n)?n.join("."):n}function lV(n,e){let t=[],i=!1,r=(o,s,c)=>{if(An(o))if(!s[c])t.push(o);else{let u=s[c],d=o[u];if(!An(d))return;if(c===s.length-1&&(Pi(d)||Ax(d)||nV(d)))t.push(tV(d));else if(ur(d)){i=!0;for(let m=0,b=d.length;m<b;m+=1)r(d[m],s,c+1)}else s.length&&r(d,s,c+1)}};return r(n,Pi(e)?e.split("."):e,0),i?t:t[0]}var uV={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},dV={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},hV={location:0,threshold:.6,distance:100},fV={useExtendedSearch:!1,getFn:lV,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},de=va(va(va(va({},dV),uV),hV),fV),mV=/[^ ]+/g;function pV(n=1,e=3){let t=new Map,i=Math.pow(10,e);return{get(r){let o=r.match(mV).length;if(t.has(o))return t.get(o);let s=1/Math.pow(o,.5*n),c=parseFloat(Math.round(s*i)/i);return t.set(o,c),c},clear(){t.clear()}}}var Ul=class{constructor({getFn:e=de.getFn,fieldNormWeight:t=de.fieldNormWeight}={}){this.norm=pV(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,i)=>{this._keysMap[t.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Pi(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();Pi(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!An(e)||t_(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((r,o)=>{let s=r.getFn?r.getFn(e):this.getFn(e,r.path);if(An(s)){if(ur(s)){let c=[],u=[{nestedArrIndex:-1,value:s}];for(;u.length;){let{nestedArrIndex:d,value:m}=u.pop();if(An(m))if(Pi(m)&&!t_(m)){let b={v:m,i:d,n:this.norm.get(m)};c.push(b)}else ur(m)&&m.forEach((b,y)=>{u.push({nestedArrIndex:y,value:b})})}i.$[o]=c}else if(Pi(s)&&!t_(s)){let c={v:s,n:this.norm.get(s)};i.$[o]=c}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}};function px(n,e,{getFn:t=de.getFn,fieldNormWeight:i=de.fieldNormWeight}={}){let r=new Ul({getFn:t,fieldNormWeight:i});return r.setKeys(n.map(Sx)),r.setSources(e),r.create(),r}function gV(n,{getFn:e=de.getFn,fieldNormWeight:t=de.fieldNormWeight}={}){let{keys:i,records:r}=n,o=new Ul({getFn:e,fieldNormWeight:t});return o.setKeys(i),o.setIndexRecords(r),o}function of(n,{errors:e=0,currentLocation:t=0,expectedLocation:i=0,distance:r=de.distance,ignoreLocation:o=de.ignoreLocation}={}){let s=e/n.length;if(o)return s;let c=Math.abs(i-t);return r?s+c/r:c?1:s}function vV(n=[],e=de.minMatchCharLength){let t=[],i=-1,r=-1,o=0;for(let s=n.length;o<s;o+=1){let c=n[o];c&&i===-1?i=o:!c&&i!==-1&&(r=o-1,r-i+1>=e&&t.push([i,r]),i=-1)}return n[o-1]&&o-i>=e&&t.push([i,o-1]),t}var Ho=32;function bV(n,e,t,{location:i=de.location,distance:r=de.distance,threshold:o=de.threshold,findAllMatches:s=de.findAllMatches,minMatchCharLength:c=de.minMatchCharLength,includeMatches:u=de.includeMatches,ignoreLocation:d=de.ignoreLocation}={}){if(e.length>Ho)throw new Error(sV(Ho));let m=e.length,b=n.length,y=Math.max(0,Math.min(i,b)),C=o,P=y,L=c>1||u,F=L?Array(b):[],G;for(;(G=n.indexOf(e,P))>-1;){let x=of(e,{currentLocation:G,expectedLocation:y,distance:r,ignoreLocation:d});if(C=Math.min(x,C),P=G+m,L){let w=0;for(;w<m;)F[G+w]=1,w+=1}}P=-1;let W=[],q=1,Q=m+b,le=1<<m-1;for(let x=0;x<m;x+=1){let w=0,T=Q;for(;w<T;)of(e,{errors:x,currentLocation:y+T,expectedLocation:y,distance:r,ignoreLocation:d})<=C?w=T:Q=T,T=Math.floor((Q-w)/2+w);Q=T;let S=Math.max(1,y-T+1),k=s?b:Math.min(y+T,b)+m,D=Array(k+2);D[k+1]=(1<<x)-1;for(let Ke=k;Ke>=S;Ke-=1){let He=Ke-1,dr=t[n.charAt(He)];if(L&&(F[He]=+!!dr),D[Ke]=(D[Ke+1]<<1|1)&dr,x&&(D[Ke]|=(W[Ke+1]|W[Ke])<<1|1|W[Ke+1]),D[Ke]&le&&(q=of(e,{errors:x,currentLocation:He,expectedLocation:y,distance:r,ignoreLocation:d}),q<=C)){if(C=q,P=He,P<=y)break;S=Math.max(1,2*y-P)}}if(of(e,{errors:x+1,currentLocation:y,expectedLocation:y,distance:r,ignoreLocation:d})>C)break;W=D}let se={isMatch:P>=0,score:Math.max(.001,q)};if(L){let x=vV(F,c);x.length?u&&(se.indices=x):se.isMatch=!1}return se}function _V(n){let e={};for(let t=0,i=n.length;t<i;t+=1){let r=n.charAt(t);e[r]=(e[r]||0)|1<<i-t-1}return e}var sf=class{constructor(e,{location:t=de.location,threshold:i=de.threshold,distance:r=de.distance,includeMatches:o=de.includeMatches,findAllMatches:s=de.findAllMatches,minMatchCharLength:c=de.minMatchCharLength,isCaseSensitive:u=de.isCaseSensitive,ignoreLocation:d=de.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:r,includeMatches:o,findAllMatches:s,minMatchCharLength:c,isCaseSensitive:u,ignoreLocation:d},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let m=(y,C)=>{this.chunks.push({pattern:y,alphabet:_V(y),startIndex:C})},b=this.pattern.length;if(b>Ho){let y=0,C=b%Ho,P=b-C;for(;y<P;)m(this.pattern.substr(y,Ho),y),y+=Ho;if(C){let L=b-Ho;m(this.pattern.substr(L),L)}}else m(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,includeMatches:i}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let P={isMatch:!0,score:0};return i&&(P.indices=[[0,e.length-1]]),P}let{location:r,distance:o,threshold:s,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options,m=[],b=0,y=!1;this.chunks.forEach(({pattern:P,alphabet:L,startIndex:F})=>{let{isMatch:G,score:W,indices:q}=bV(e,P,L,{location:r+F,distance:o,threshold:s,findAllMatches:c,minMatchCharLength:u,includeMatches:i,ignoreLocation:d});G&&(y=!0),b+=W,G&&q&&(m=[...m,...q])});let C={isMatch:y,score:y?b/this.chunks.length:1};return y&&i&&(C.indices=m),C}},Oi=class{constructor(e){this.pattern=e}static isMultiMatch(e){return gx(e,this.multiRegex)}static isSingleMatch(e){return gx(e,this.singleRegex)}search(){}};function gx(n,e){let t=n.match(e);return t?t[1]:null}var a_=class extends Oi{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},c_=class extends Oi{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}},l_=class extends Oi{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},u_=class extends Oi{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},d_=class extends Oi{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},h_=class extends Oi{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},af=class extends Oi{constructor(e,{location:t=de.location,threshold:i=de.threshold,distance:r=de.distance,includeMatches:o=de.includeMatches,findAllMatches:s=de.findAllMatches,minMatchCharLength:c=de.minMatchCharLength,isCaseSensitive:u=de.isCaseSensitive,ignoreLocation:d=de.ignoreLocation}={}){super(e),this._bitapSearch=new sf(e,{location:t,threshold:i,distance:r,includeMatches:o,findAllMatches:s,minMatchCharLength:c,isCaseSensitive:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},cf=class extends Oi{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,i,r=[],o=this.pattern.length;for(;(i=e.indexOf(this.pattern,t))>-1;)t=i+o,r.push([i,t-1]);let s=!!r.length;return{isMatch:s,score:s?0:1,indices:r}}},f_=[a_,cf,l_,u_,h_,d_,c_,af],vx=f_.length,yV=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,wV="|";function IV(n,e={}){return n.split(wV).map(t=>{let i=t.trim().split(yV).filter(o=>o&&!!o.trim()),r=[];for(let o=0,s=i.length;o<s;o+=1){let c=i[o],u=!1,d=-1;for(;!u&&++d<vx;){let m=f_[d],b=m.isMultiMatch(c);b&&(r.push(new m(b,e)),u=!0)}if(!u)for(d=-1;++d<vx;){let m=f_[d],b=m.isSingleMatch(c);if(b){r.push(new m(b,e));break}}}return r})}var EV=new Set([af.type,cf.type]),m_=class{constructor(e,{isCaseSensitive:t=de.isCaseSensitive,includeMatches:i=de.includeMatches,minMatchCharLength:r=de.minMatchCharLength,ignoreLocation:o=de.ignoreLocation,findAllMatches:s=de.findAllMatches,location:c=de.location,threshold:u=de.threshold,distance:d=de.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:i,minMatchCharLength:r,findAllMatches:s,ignoreLocation:o,location:c,threshold:u,distance:d},this.pattern=t?e:e.toLowerCase(),this.query=IV(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:i,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,s=[],c=0;for(let u=0,d=t.length;u<d;u+=1){let m=t[u];s.length=0,o=0;for(let b=0,y=m.length;b<y;b+=1){let C=m[b],{isMatch:P,indices:L,score:F}=C.search(e);if(P){if(o+=1,c+=F,i){let G=C.constructor.type;EV.has(G)?s=[...s,...L]:s.push(L)}}else{c=0,o=0,s.length=0;break}}if(o){let b={isMatch:!0,score:c/o};return i&&(b.indices=s),b}}return{isMatch:!1,score:1}}},p_=[];function TV(...n){p_.push(...n)}function g_(n,e){for(let t=0,i=p_.length;t<i;t+=1){let r=p_[t];if(r.condition(n,e))return new r(n,e)}return new sf(n,e)}var lf={AND:"$and",OR:"$or"},v_={PATH:"$path",PATTERN:"$val"},b_=n=>!!(n[lf.AND]||n[lf.OR]),AV=n=>!!n[v_.PATH],xV=n=>!ur(n)&&xx(n)&&!b_(n),bx=n=>({[lf.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function kx(n,e,{auto:t=!0}={}){let i=r=>{let o=Object.keys(r),s=AV(r);if(!s&&o.length>1&&!b_(r))return i(bx(r));if(xV(r)){let u=s?r[v_.PATH]:o[0],d=s?r[v_.PATTERN]:r[u];if(!Pi(d))throw new Error(oV(u));let m={keyId:s_(u),pattern:d};return t&&(m.searcher=g_(d,e)),m}let c={children:[],operator:o[0]};return o.forEach(u=>{let d=r[u];ur(d)&&d.forEach(m=>{c.children.push(i(m))})}),c};return b_(n)||(n=bx(n)),i(n)}function CV(n,{ignoreFieldNorm:e=de.ignoreFieldNorm}){n.forEach(t=>{let i=1;t.matches.forEach(({key:r,norm:o,score:s})=>{let c=r?r.weight:null;i*=Math.pow(s===0&&c?Number.EPSILON:s,(c||1)*(e?1:o))}),t.score=i})}function SV(n,e){let t=n.matches;e.matches=[],An(t)&&t.forEach(i=>{if(!An(i.indices)||!i.indices.length)return;let{indices:r,value:o}=i,s={indices:r,value:o};i.key&&(s.key=i.key.src),i.idx>-1&&(s.refIndex=i.idx),e.matches.push(s)})}function kV(n,e){e.score=n.score}function RV(n,e,{includeMatches:t=de.includeMatches,includeScore:i=de.includeScore}={}){let r=[];return t&&r.push(SV),i&&r.push(kV),n.map(o=>{let{idx:s}=o,c={item:e[s],refIndex:s};return r.length&&r.forEach(u=>{u(o,c)}),c})}var Rx=(()=>{class n{constructor(t,i={},r){this.options=va(va({},de),i),this.options.useExtendedSearch,this._keyStore=new o_(this.options.keys),this.setCollection(t,r)}setCollection(t,i){if(this._docs=t,i&&!(i instanceof Ul))throw new Error(rV);this._myIndex=i||px(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){An(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){let i=[];for(let r=0,o=this._docs.length;r<o;r+=1){let s=this._docs[r];t(s,r)&&(this.removeAt(r),r-=1,o-=1,i.push(s))}return i}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:i=-1}={}){let{includeMatches:r,includeScore:o,shouldSort:s,sortFn:c,ignoreFieldNorm:u}=this.options,d=Pi(t)?Pi(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return CV(d,{ignoreFieldNorm:u}),s&&d.sort(c),Ax(i)&&i>-1&&(d=d.slice(0,i)),RV(d,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(t){let i=g_(t,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:s,i:c,n:u})=>{if(!An(s))return;let{isMatch:d,score:m,indices:b}=i.searchIn(s);d&&o.push({item:s,idx:c,matches:[{score:m,value:s,norm:u,indices:b}]})}),o}_searchLogical(t){let i=kx(t,this.options),r=(u,d,m)=>{if(!u.children){let{keyId:y,searcher:C}=u,P=this._findMatches({key:this._keyStore.get(y),value:this._myIndex.getValueForItemAtKeyId(d,y),searcher:C});return P&&P.length?[{idx:m,item:d,matches:P}]:[]}let b=[];for(let y=0,C=u.children.length;y<C;y+=1){let P=u.children[y],L=r(P,d,m);if(L.length)b.push(...L);else if(u.operator===lf.AND)return[]}return b},o=this._myIndex.records,s={},c=[];return o.forEach(({$:u,i:d})=>{if(An(u)){let m=r(i,u,d);m.length&&(s[d]||(s[d]={idx:d,item:u,matches:[]},c.push(s[d])),m.forEach(({matches:b})=>{s[d].matches.push(...b)}))}}),c}_searchObjectList(t){let i=g_(t,this.options),{keys:r,records:o}=this._myIndex,s=[];return o.forEach(({$:c,i:u})=>{if(!An(c))return;let d=[];r.forEach((m,b)=>{d.push(...this._findMatches({key:m,value:c[b],searcher:i}))}),d.length&&s.push({idx:u,item:c,matches:d})}),s}_findMatches({key:t,value:i,searcher:r}){if(!An(i))return[];let o=[];if(ur(i))i.forEach(({v:s,i:c,n:u})=>{if(!An(s))return;let{isMatch:d,score:m,indices:b}=r.searchIn(s);d&&o.push({score:m,key:t,value:s,idx:c,norm:u,indices:b})});else{let{v:s,n:c}=i,{isMatch:u,score:d,indices:m}=r.searchIn(s);u&&o.push({score:d,key:t,value:s,norm:c,indices:m})}return o}}return n.version="7.0.0",n.createIndex=px,n.parseIndex=gV,n.config=de,n})();Rx.parseQuery=kx;TV(m_);var DV=function(){function n(e){this._haystack=[],this._fuseOptions=fn(fn({},e.fuseOptions),{keys:ba([],e.searchFields,!0),includeMatches:!0})}return n.prototype.index=function(e){this._haystack=e,this._fuse&&this._fuse.setCollection(e)},n.prototype.reset=function(){this._haystack=[],this._fuse=void 0},n.prototype.isEmptyIndex=function(){return!this._haystack.length},n.prototype.search=function(e){this._fuse||(this._fuse=new Rx(this._haystack,this._fuseOptions));var t=this._fuse.search(e);return t.map(function(i,r){return{item:i.item,score:i.score||0,rank:r+1}})},n}();function PV(n){return new DV(n)}var OV=function(n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0},n_=function(n,e,t){var i=n.dataset,r=e.customProperties,o=e.labelClass,s=e.labelDescription;o&&(i.labelClass=oe(o).join(" ")),s&&(i.labelDescription=s),t&&r&&(typeof r=="string"?i.customProperties=r:typeof r=="object"&&!OV(r)&&(i.customProperties=JSON.stringify(r)))},_x=function(n,e,t){var i=e&&n.querySelector("label[for='".concat(e,"']")),r=i&&i.innerText;r&&t.setAttribute("aria-label",r)},MV={containerOuter:function(n,e,t,i,r,o,s){var c=n.classNames.containerOuter,u=document.createElement("div");return u.className=oe(c).join(" "),u.dataset.type=o,e&&(u.dir=e),i&&(u.tabIndex=0),t&&(u.setAttribute("role",r?"combobox":"listbox"),r?u.setAttribute("aria-autocomplete","list"):s||_x(this._docRoot,this.passedElement.element.id,u),u.setAttribute("aria-haspopup","true"),u.setAttribute("aria-expanded","false")),s&&u.setAttribute("aria-labelledby",s),u},containerInner:function(n){var e=n.classNames.containerInner,t=document.createElement("div");return t.className=oe(e).join(" "),t},itemList:function(n,e){var t=n.searchEnabled,i=n.classNames,r=i.list,o=i.listSingle,s=i.listItems,c=document.createElement("div");return c.className="".concat(oe(r).join(" ")," ").concat(e?oe(o).join(" "):oe(s).join(" ")),this._isSelectElement&&t&&c.setAttribute("role","listbox"),c},placeholder:function(n,e){var t=n.allowHTML,i=n.classNames.placeholder,r=document.createElement("div");return r.className=oe(i).join(" "),lr(r,t,e),r},item:function(n,e,t){var i,r,o,s=n.allowHTML,c=n.removeItemButtonAlignLeft,u=n.removeItemIconText,d=n.removeItemLabelText,m=n.classNames,b=m.item,y=m.button,C=m.highlightedState,P=m.itemSelectable,L=m.placeholder,F=e.labelClass,G=e.label,W=e.disabled,q=e.value,Q=Go(q),le=document.createElement("div");if(le.className=oe(b).join(" "),F){var se=document.createElement("span");lr(se,s,G),se.className=oe(F).join(" "),le.appendChild(se)}else lr(le,s,G);var x=le.dataset;if(x.item="",x.id=e.id,x.value=Q,n_(le,e,!0),(W||this.containerOuter.isDisabled)&&le.setAttribute("aria-disabled","true"),this._isSelectElement&&(le.setAttribute("aria-selected","true"),le.setAttribute("role","option")),e.placeholder&&((i=le.classList).add.apply(i,oe(L)),x.placeholder=""),(r=le.classList).add.apply(r,e.highlighted?oe(C):oe(P)),t){W&&(o=le.classList).remove.apply(o,oe(P)),x.deletable="";var w=document.createElement("button");w.type="button",w.className=oe(y).join(" "),lr(w,!0,Vl(u,q));var T=Vl(d,q);T&&w.setAttribute("aria-label",T),w.dataset.button="",c?le.insertAdjacentElement("afterbegin",w):le.appendChild(w)}return le},choiceList:function(n,e){var t=n.classNames.list,i=document.createElement("div");return i.className=oe(t).join(" "),e||i.setAttribute("aria-multiselectable","true"),i.setAttribute("role","listbox"),i},choiceGroup:function(n,e){var t=n.allowHTML,i=n.classNames,r=i.group,o=i.groupHeading,s=i.itemDisabled,c=e.id,u=e.label,d=e.disabled,m=Go(u),b=document.createElement("div");b.className="".concat(oe(r).join(" ")," ").concat(d?oe(s).join(" "):""),b.setAttribute("role","group");var y=b.dataset;y.group="",y.id=c,y.value=m,d&&b.setAttribute("aria-disabled","true");var C=document.createElement("div");return C.className=oe(o).join(" "),lr(C,t,u),b.appendChild(C),b},choice:function(n,e,t){var i,r,o,s,c,u=n.allowHTML,d=n.classNames,m=d.item,b=d.itemChoice,y=d.itemSelectable,C=d.selectedState,P=d.itemDisabled,L=d.description,F=d.placeholder,G=e.value,W=e.elementId,q=e.groupId,Q=e.label,le=e.labelClass,se=e.labelDescription,x=Go(G),w=document.createElement("div");w.id=W,w.className="".concat(oe(m).join(" ")," ").concat(oe(b).join(" "));var T=w;if(le){var S=document.createElement("span");lr(S,u,Q),S.className=oe(le).join(" "),T=S,w.appendChild(S)}else lr(w,u,Q);if(se){var k="".concat(W,"-description");T.setAttribute("aria-describedby",k);var D=document.createElement("span");lr(D,u,se),D.id=k,(i=D.classList).add.apply(i,oe(L)),w.appendChild(D)}e.selected&&(r=w.classList).add.apply(r,oe(C)),e.placeholder&&(o=w.classList).add.apply(o,oe(F));var A=w.dataset,Ke=q&&q>0;return w.setAttribute("role",Ke?"treeitem":"option"),Ke&&(A.groupId="".concat(q)),A.choice="",A.id=e.id,A.value=x,A.selectText=t,n_(w,e,!1),e.disabled?((s=w.classList).add.apply(s,oe(P)),A.choiceDisabled="",w.setAttribute("aria-disabled","true")):((c=w.classList).add.apply(c,oe(y)),A.choiceSelectable=""),w},input:function(n,e){var t=n.classNames,i=t.input,r=t.inputCloned,o=n.labelId,s=document.createElement("input");return s.type="search",s.className="".concat(oe(i).join(" ")," ").concat(oe(r).join(" ")),s.autocomplete="off",s.autocapitalize="off",s.spellcheck=!1,s.setAttribute("role","textbox"),s.setAttribute("aria-autocomplete","list"),e?s.setAttribute("aria-label",e):o||_x(this._docRoot,this.passedElement.element.id,s),s},dropdown:function(n){var e,t,i=n.classNames,r=i.list,o=i.listDropdown,s=document.createElement("div");return(e=s.classList).add.apply(e,oe(r)),(t=s.classList).add.apply(t,oe(o)),s.setAttribute("aria-expanded","false"),s},notice:function(n,e,t){var i=n.classNames,r=i.item,o=i.itemChoice,s=i.addChoice,c=i.noResults,u=i.noChoices,d=i.notice;t===void 0&&(t=Wt.generic);var m=ba(ba(ba([],oe(r),!0),oe(o),!0),oe(d),!0);switch(t){case Wt.addChoice:m.push.apply(m,oe(s));break;case Wt.noResults:m.push.apply(m,oe(c));break;case Wt.noChoices:m.push.apply(m,oe(u));break}var b=document.createElement("div");if(lr(b,!0,e),b.className=m.join(" "),t===Wt.addChoice){var y=b.dataset;y.choiceSelectable="",y.choice=""}return b},option:function(n){var e=Go(n.label),t=new Option(e,n.value,!1,n.selected);return n_(t,n,!0),t.disabled=n.disabled,n.selected&&t.setAttribute("selected",""),t}},NV="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,FV={},i_=function(n){if(n){var e=n.dataset.id;return e?parseInt(e,10):void 0}},Dx=function(){function n(e,t){e===void 0&&(e="[data-choice]"),t===void 0&&(t={});var i=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var r=n.defaults;this.config=fn(fn(fn({},r.allOptions),r.options),t),vL.forEach(function(y){i.config[y]=fn(fn(fn({},r.allOptions[y]),r.options[y]),t[y])});var o=this.config;o.silent||this._validateConfig();var s=o.shadowRoot||document.documentElement;this._docRoot=s;var c=typeof e=="string"?s.querySelector(e):e;if(!c||typeof c!="object"||!(BL(c)||Tx(c)))throw TypeError(!c&&typeof e=="string"?"Selector ".concat(e," failed to find an element"):"Expected one of the following types text|select-one|select-multiple");if(this._elementType=c.type,this._isTextElement=this._elementType===e_,(this._isTextElement||o.maxItemCount!==1)&&(o.singleModeForMultiSelect=!1),o.singleModeForMultiSelect&&(this._elementType=Fl),this._isSelectOneElement=this._elementType===Wo,this._isSelectMultipleElement=this._elementType===Fl,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this._canAddUserChoices=this._isTextElement&&o.addItems||this._isSelectElement&&o.addChoices,["auto","always"].includes("".concat(o.renderSelectedChoices))||(o.renderSelectedChoices="auto"),o.closeDropdownOnSelect==="auto"?o.closeDropdownOnSelect=this._isTextElement||this._isSelectOneElement||o.singleModeForMultiSelect:o.closeDropdownOnSelect=Ll(o.closeDropdownOnSelect),o.placeholder&&(o.placeholderValue?this._hasNonChoicePlaceholder=!0:c.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,o.placeholderValue=c.dataset.placeholder)),t.addItemFilter&&typeof t.addItemFilter!="function"){var u=t.addItemFilter instanceof RegExp?t.addItemFilter:new RegExp(t.addItemFilter);o.addItemFilter=u.test.bind(u)}if(this._isTextElement)this.passedElement=new jL({element:c,classNames:o.classNames});else{var d=c;this.passedElement=new qL({element:d,classNames:o.classNames,template:function(y){return i._templates.option(y)},extractPlaceholder:o.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new QL,this._currentValue="",o.searchEnabled=!this._isTextElement&&o.searchEnabled||this._elementType===Fl,this._canSearch=o.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=CL(c,"choices-"),this._direction=this.passedElement.dir,!this._direction){var m=window.getComputedStyle(this.passedElement.element).direction,b=window.getComputedStyle(document.documentElement).direction;m!==b&&(this._direction=m)}if(this._idNames={itemChoice:"item-choice"},this._templates=r.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){o.silent||console.warn("Trying to initialise Choices on element already initialised",{element:e}),this.initialised=!0,this.initialisedOK=!1;return}this.init(),this._initialItems=this._store.items.map(function(y){return y.value})}return Object.defineProperty(n,"defaults",{get:function(){return Object.preventExtensions({get options(){return FV},get allOptions(){return ux},get templates(){return MV}})},enumerable:!1,configurable:!0}),n.prototype.init=function(){if(!(this.initialised||this.initialisedOK!==void 0)){this._searcher=PV(this.config),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var e=this.config.callbackOnInit;e&&typeof e=="function"&&e.call(this)}},n.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(),this._stopSearch(),this._templates=n.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},n.prototype.enable=function(){var e=this,t=e.passedElement,i=e.containerOuter;return t.isDisabled&&t.enable(),i.isDisabled&&(this._addEventListeners(),this.input.enable(),i.enable(),this._render()),this},n.prototype.disable=function(){var e=this,t=e.passedElement,i=e.containerOuter;return t.isDisabled||t.disable(),i.isDisabled||(this._removeEventListeners(),this.input.disable(),i.disable(),this._render()),this},n.prototype.highlightItem=function(e,t){if(t===void 0&&(t=!0),!e||!e.id)return this;var i=this._store.choices.find(function(r){return r.id===e.id});return!i||i.highlighted?this:(this._store.dispatch(ox(i,!0)),t&&this.passedElement.triggerEvent("highlightItem",this._getChoiceForOutput(i)),this)},n.prototype.unhighlightItem=function(e,t){if(t===void 0&&(t=!0),!e||!e.id)return this;var i=this._store.choices.find(function(r){return r.id===e.id});return!i||!i.highlighted?this:(this._store.dispatch(ox(i,!1)),t&&this.passedElement.triggerEvent("highlightItem",this._getChoiceForOutput(i)),this)},n.prototype.highlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(t){return e.highlightItem(t)})}),this},n.prototype.unhighlightAll=function(){var e=this;return this._store.withTxn(function(){e._store.items.forEach(function(t){return e.unhighlightItem(t)})}),this},n.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(i){return i.value===e}).forEach(function(i){return t._removeItem(i)})}),this},n.prototype.removeActiveItems=function(e){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(i){var r=i.id;return r!==e}).forEach(function(i){return t._removeItem(i)})}),this},n.prototype.removeHighlightedItems=function(e){var t=this;return e===void 0&&(e=!1),this._store.withTxn(function(){t._store.highlightedActiveItems.forEach(function(i){t._removeItem(i),e&&t._triggerChange(i.value)})}),this},n.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent("showDropdown")}),this)},n.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame(function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent("hideDropdown")}),this):this},n.prototype.getValue=function(e){var t=this;e===void 0&&(e=!1);var i=this._store.items.reduce(function(r,o){var s=e?o.value:t._getChoiceForOutput(o);return r.push(s),r},[]);return this._isSelectOneElement||this.config.singleModeForMultiSelect?i[0]:i},n.prototype.setValue=function(e){var t=this;return this.initialisedOK?(this._store.withTxn(function(){e.forEach(function(i){i&&t._addChoice(Di(i,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},n.prototype.setChoiceByValue=function(e){var t=this;return this.initialisedOK?this._isTextElement?this:(this._store.withTxn(function(){var i=Array.isArray(e)?e:[e];i.forEach(function(r){return t._findAndSelectChoiceByValue(r)})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},n.prototype.setChoices=function(e,t,i,r){var o=this;if(e===void 0&&(e=[]),t===void 0&&(t="value"),i===void 0&&(i="label"),r===void 0&&(r=!1),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof t!="string"||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(r&&this.clearChoices(),typeof e=="function"){var s=e(this);if(typeof Promise=="function"&&s instanceof Promise)return new Promise(function(c){return requestAnimationFrame(c)}).then(function(){return o._handleLoadingState(!0)}).then(function(){return s}).then(function(c){return o.setChoices(c,t,i,r)}).catch(function(c){o.config.silent||console.error(c)}).then(function(){return o._handleLoadingState(!1)}).then(function(){return o});if(!Array.isArray(s))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof s));return this.setChoices(s,t,i,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){var c=t==="value",u=i==="label";e.forEach(function(d){if("choices"in d){var m=d;u||(m=fn(fn({},m),{label:m[i]})),o._addGroup(Di(m,!0))}else{var b=d;(!u||!c)&&(b=fn(fn({},b),{value:b[t],label:b[i]})),o._addChoice(Di(b,!1))}})}),this._searcher.reset(),this},n.prototype.refresh=function(e,t,i){var r=this;return e===void 0&&(e=!1),t===void 0&&(t=!1),i===void 0&&(i=!1),this._isSelectElement?(this._store.withTxn(function(){var o=r.passedElement.optionsAsChoices(),s=r._store.items,c={};i||s.forEach(function(u){u.id&&u.active&&u.selected&&!u.disabled&&(c[u.value]=!0)}),o.forEach(function(u){if(!("choices"in u)){var d=u;i?d.selected=!1:c[d.value]&&(d.selected=!0)}}),r.clearStore(),r._addPredefinedChoices(o,t,e),r._isSearching&&r._searchChoices(r.input.value)}),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},n.prototype.removeChoice=function(e){var t=this._store.choices.find(function(i){return i.value===e});return t?(this._store.dispatch(_L(t)),this._searcher.reset(),t.selected&&this.passedElement.triggerEvent("removeItem",this._getChoiceForOutput(t)),this):this},n.prototype.clearChoices=function(){return this.passedElement.element.innerHTML="",this._store.dispatch(IL()),this._searcher.reset(),this},n.prototype.clearStore=function(){return this._store.reset(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this._searcher.reset(),this},n.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),this._clearNotice(),this._isSearching&&this._stopSearch(),this},n.prototype._validateConfig=function(){var e=this.config,t=NL(e,ux);t.length&&console.warn("Unknown config option(s) passed",t.join(", ")),e.allowHTML&&e.allowHtmlUserInput&&(e.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),e.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},n.prototype._render=function(e){e===void 0&&(e={choices:!0,groups:!0,items:!0}),!this._store.inTxn()&&(this._isSelectElement&&(e.choices||e.groups)&&this._renderChoices(),e.items&&this._renderItems())},n.prototype._renderChoices=function(){var e=this;if(this.choiceList.clear(),!!this._canAddItems()){var t=this.config,i=this._store,r=i.activeGroups,o=i.activeChoices,s=document.createDocumentFragment(),c=!0;if(o.length){if(t.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),r.length&&!this._isSearching){if(!this._hasNonChoicePlaceholder){var u=o.filter(function(m){return m.placeholder&&m.groupId===-1});u.length&&(s=this._createChoicesFragment(u,s))}s=this._createGroupsFragment(r,o,s)}else s=this._createChoicesFragment(o,s);c=!s.childNodes.length}var d=this._notice;c?d||(this._notice={text:ax(t.noChoicesText),type:Wt.noChoices}):d&&d.type===Wt.noChoices&&(this._notice=void 0),this._renderNotice(),c||(this.choiceList.element.append(s),this._highlightChoice())}},n.prototype._renderItems=function(){var e=this._store.items||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes.length&&this.itemList.element.append(t)},n.prototype._createGroupsFragment=function(e,t,i){var r=this;i===void 0&&(i=document.createDocumentFragment());var o=this.config,s=function(u){return t.filter(function(d){return r._isSelectOneElement?d.groupId===u.id:d.groupId===u.id&&(o.renderSelectedChoices==="always"||!d.selected)})};o.shouldSort&&e.sort(o.sorter);var c=t.filter(function(u){return!u.groupId});return c.length&&this._createChoicesFragment(c,i,!1),e.forEach(function(u){var d=s(u);if(d.length){var m=r._templates.choiceGroup(r.config,u);i.appendChild(m),r._createChoicesFragment(d,i,!0)}}),i},n.prototype._createChoicesFragment=function(e,t,i){var r=this;t===void 0&&(t=document.createDocumentFragment()),i===void 0&&(i=!1);var o=this,s=o.config,c=o._isSearching,u=o._isSelectOneElement,d=s.searchResultLimit,m=s.renderChoiceLimit,b=[],y=s.appendGroupInSearch&&c;if(y&&this._store.groups.forEach(function(Q){b[Q.id]=Q.label}),this._isSelectElement){var C=e.filter(function(Q){return!Q.element});C.length&&this.passedElement.addOptions(C)}var P=s.renderSelectedChoices==="auto"&&!u,L=[],F=[];e.forEach(function(Q){c&&!Q.rank||P&&Q.selected||(r._hasNonChoicePlaceholder||!Q.placeholder?F.push(Q):L.push(Q))}),c?F.sort(OL):s.shouldSort&&F.sort(s.sorter);var G=u&&L.length?ba(ba([],L,!0),F,!0):F,W=G.length,q=W;return c&&d>0?q=d:m>0&&!i&&(q=m),q<W&&(W=q),W--,G.every(function(Q,le){var se=r._templates.choice(s,Q,s.itemSelectText);if(y&&Q.groupId>0){var x=b[Q.groupId];x&&(se.innerHTML+=" (".concat(x,")"))}return t.appendChild(se),le<W}),t},n.prototype._createItemsFragment=function(e,t){var i=this;t===void 0&&(t=document.createDocumentFragment());var r=this.config,o=r.shouldSortItems,s=r.sorter,c=r.removeItemButton,u=r.delimiter;o&&!this._isSelectOneElement&&e.sort(s),this._isTextElement&&(this.passedElement.value=e.map(function(m){var b=m.value;return b}).join(u));var d=function(m){var b=i._templates.item(r,m,c);t.appendChild(b)};return e.forEach(d),this._isSelectOneElement&&this._hasNonChoicePlaceholder&&!e.length&&d(Di({selected:!0,value:"",label:this.config.placeholderValue||"",active:!0,placeholder:!0},!1)),t},n.prototype._displayNotice=function(e,t,i){i===void 0&&(i=!0);var r=this._notice;if(r&&(r.type===t&&r.text===e||r.type===Wt.addChoice&&(t===Wt.noResults||t===Wt.noChoices))){i&&this.showDropdown(!0);return}this._clearNotice(),this._notice=e?{text:e,type:t}:void 0,this._renderNotice(),i&&e&&this.showDropdown(!0)},n.prototype._clearNotice=function(){if(this._notice){var e=this.choiceList.element.querySelector(rf(this.config.classNames.notice));e&&e.remove(),this._notice=void 0}},n.prototype._renderNotice=function(){var e=this._notice;if(e){var t=this._templates.notice(this.config,e.text,e.type);this.choiceList.prepend(t)}},n.prototype._getChoiceForOutput=function(e,t){if(e){var i=e.groupId>0?this._store.getGroupById(e.groupId):null;return{id:e.id,highlighted:e.highlighted,labelClass:e.labelClass,labelDescription:e.labelDescription,customProperties:e.customProperties,disabled:e.disabled,active:e.active,label:e.label,placeholder:e.placeholder,value:e.value,groupValue:i&&i.label?i.label:void 0,element:e.element,keyCode:t}}},n.prototype._triggerChange=function(e){e!=null&&this.passedElement.triggerEvent("change",{value:e})},n.prototype._handleButtonAction=function(e){var t=this._store.items;if(!(!t.length||!this.config.removeItems||!this.config.removeItemButton)){var i=e&&i_(e.parentNode),r=i&&t.find(function(s){return s.id===i});if(r&&(this._removeItem(r),this._triggerChange(r.value),this._isSelectOneElement&&!this._hasNonChoicePlaceholder)){var o=this._store.choices.reverse().find(function(s){return!s.disabled&&s.placeholder});o&&(this._addItem(o),o.value&&this._triggerChange(o.value))}}},n.prototype._handleItemAction=function(e,t){var i=this;t===void 0&&(t=!1);var r=this._store.items;if(!(!r.length||!this.config.removeItems||this._isSelectOneElement)){var o=i_(e);o&&(r.forEach(function(s){s.id===o&&!s.highlighted?i.highlightItem(s):!t&&s.highlighted&&i.unhighlightItem(s)}),this.input.focus())}},n.prototype._handleChoiceAction=function(e){var t=this,i=i_(e),r=i&&this._store.getChoiceById(i);if(!r||r.disabled)return!1;var o=this.dropdown.isActive;if(!r.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){t._addItem(r,!0,!0),t.clearInput(),t.unhighlightAll()}),this._triggerChange(r.value)}return o&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},n.prototype._handleBackspace=function(e){var t=this.config;if(!(!t.removeItems||!e.length)){var i=e[e.length-1],r=e.some(function(o){return o.highlighted});t.editItems&&!r&&i?(this.input.value=i.value,this.input.setWidth(),this._removeItem(i),this._triggerChange(i.value)):(r||this.highlightItem(i,!1),this.removeHighlightedItems(!0))}},n.prototype._loadChoices=function(){var e,t=this.config;if(this._isTextElement){this._presetChoices=t.items.map(function(s){return Di(s,!1)});var i=this.passedElement.value;if(i){var r=i.split(t.delimiter).map(function(s){return Di(s,!1)});this._presetChoices=this._presetChoices.concat(r)}this._presetChoices.forEach(function(s){s.selected=!0})}else if(this._isSelectElement){this._presetChoices=t.choices.map(function(s){return Di(s,!0)});var o=this.passedElement.optionsAsChoices();o&&(e=this._presetChoices).push.apply(e,o)}},n.prototype._handleLoadingState=function(e){e===void 0&&(e=!0);var t=this.config;e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?(this.itemList.clear(),this.itemList.element.append(this._templates.placeholder(t,t.loadingText))):this.input.placeholder=t.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement||(this.input.placeholder=this._placeholderValue||""))},n.prototype._handleSearch=function(e){if(this.input.isFocussed){var t=this._store.choices,i=this.config,r=i.searchFloor,o=i.searchChoices,s=t.some(function(u){return!u.active});if(e!==null&&typeof e<"u"&&e.length>=r){var c=o?this._searchChoices(e):0;c!==null&&this.passedElement.triggerEvent("search",{value:e,resultCount:c})}else s&&this._stopSearch()}},n.prototype._canAddItems=function(){var e=this.config,t=e.maxItemCount,i=e.maxItemText;return!e.singleModeForMultiSelect&&t>0&&t<=this._store.items.length?(this._displayNotice(typeof i=="function"?i(t):i,Wt.addChoice),!1):!0},n.prototype._canCreateItem=function(e){var t=this.config,i=!0,r="";if(i&&typeof t.addItemFilter=="function"&&!t.addItemFilter(e)&&(i=!1,r=Vl(t.customAddItemText,e)),i){var o=this._store.choices.find(function(s){return t.valueComparer(s.value,e)});if(this._isSelectElement){if(o)return this._displayNotice("",Wt.addChoice),!1}else this._isTextElement&&!t.duplicateItemsAllowed&&o&&(i=!1,r=Vl(t.uniqueItemText,e))}return i&&(r=Vl(t.addItemText,e)),r&&this._displayNotice(r,Wt.addChoice),i},n.prototype._searchChoices=function(e){var t=e.trim().replace(/\s{2,}/," ");if(!t.length||t===this._currentValue)return null;var i=this._searcher;i.isEmptyIndex()&&i.index(this._store.searchableChoices);var r=i.search(t);this._currentValue=t,this._highlightPosition=0,this._isSearching=!0;var o=this._notice,s=o&&o.type;return s!==Wt.addChoice&&(r.length?s===Wt.noResults&&this._clearNotice():this._displayNotice(ax(this.config.noResultsText),Wt.noResults)),this._store.dispatch(yL(r)),r.length},n.prototype._stopSearch=function(){var e=this._isSearching;this._currentValue="",this._isSearching=!1,e&&(this._store.dispatch(wL(!0)),this.passedElement.triggerEvent("search",{value:"",resultCount:0}))},n.prototype._addEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,i=this.input.element;e.addEventListener("touchend",this._onTouchEnd,!0),t.addEventListener("keydown",this._onKeyDown,!0),t.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})),i.addEventListener("keyup",this._onKeyUp,{passive:!0}),i.addEventListener("input",this._onInput,{passive:!0}),i.addEventListener("focus",this._onFocus,{passive:!0}),i.addEventListener("blur",this._onBlur,{passive:!0}),i.form&&i.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},n.prototype._removeEventListeners=function(){var e=this._docRoot,t=this.containerOuter.element,i=this.input.element;e.removeEventListener("touchend",this._onTouchEnd,!0),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)),i.removeEventListener("keyup",this._onKeyUp),i.removeEventListener("input",this._onInput),i.removeEventListener("focus",this._onFocus),i.removeEventListener("blur",this._onBlur),i.form&&i.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},n.prototype._onKeyDown=function(e){var t=e.keyCode,i=this._store.items,r=this.input.isFocussed,o=this.dropdown.isActive,s=this.itemList.element.hasChildNodes(),c=e.key.length===1||e.key.length===2&&e.key.charCodeAt(0)>=55296||e.key==="Unidentified";switch(!this._isTextElement&&!o&&(this.showDropdown(),!this.input.isFocussed&&c&&(this.input.value+=e.key,e.key===" "&&e.preventDefault())),t){case 65:return this._onSelectKey(e,s);case 13:return this._onEnterKey(e,o);case 27:return this._onEscapeKey(e,o);case 38:case 33:case 40:case 34:return this._onDirectionKey(e,o);case 8:case 46:return this._onDeleteKey(e,i,r)}},n.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},n.prototype._onInput=function(){var e=this.input.value;if(!e){this._isTextElement?this.hideDropdown(!0):this._stopSearch(),this._clearNotice();return}this._canAddItems()&&(this._canSearch&&this._handleSearch(e),this._canAddUserChoices&&(this._canCreateItem(e),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice())))},n.prototype._onSelectKey=function(e,t){var i=e.ctrlKey,r=e.metaKey,o=i||r;if(o&&t){this._canSearch=!1;var s=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;s&&this.highlightAll()}},n.prototype._onEnterKey=function(e,t){var i=this,r=this.config,o=this.input.value,s=e.target,c=s&&s.hasAttribute("data-button");if(e.preventDefault(),c){this._handleButtonAction(s);return}if(!t){(this._isSelectElement||this._notice)&&this.showDropdown();return}var u=this.dropdown.element.querySelector(rf(r.classNames.highlightedState));if(!(u&&this._handleChoiceAction(u))){if(!s||!o){this.hideDropdown(!0);return}if(this._canAddItems()){var d=!1;this._store.withTxn(function(){if(d=i._findAndSelectChoiceByValue(o,!0),!d){if(!i._canAddUserChoices||!i._canCreateItem(o))return;var m=uf(o),b=r.allowHtmlUserInput||m===o?o:{escaped:m,raw:o};i._addChoice(Di({value:b,label:b,selected:!0},!1),!0,!0),d=!0}i.clearInput(),i.unhighlightAll()}),d&&(this._triggerChange(o),r.closeDropdownOnSelect&&this.hideDropdown(!0))}}},n.prototype._onEscapeKey=function(e,t){t&&(e.stopPropagation(),this.hideDropdown(!0),this.containerOuter.element.focus())},n.prototype._onDirectionKey=function(e,t){var i=e.keyCode,r=e.metaKey;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var o=i===40||i===34?1:-1,s=r||i===34||i===33,c="[data-choice-selectable]",u=void 0;if(s)o>0?u=this.dropdown.element.querySelector("".concat(c,":last-of-type")):u=this.dropdown.element.querySelector(c);else{var d=this.dropdown.element.querySelector(rf(this.config.classNames.highlightedState));d?u=SL(d,c,o):u=this.dropdown.element.querySelector(c)}u&&(kL(u,this.choiceList.element,o)||this.choiceList.scrollToChildElement(u,o),this._highlightChoice(u)),e.preventDefault()}},n.prototype._onDeleteKey=function(e,t,i){var r=e.target;!this._isSelectOneElement&&!r.value&&i&&(this._handleBackspace(t),e.preventDefault())},n.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},n.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target,i=this._wasTap&&this.containerOuter.element.contains(t);if(i){var r=t===this.containerOuter.element||t===this.containerInner.element;r&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()}this._wasTap=!0},n.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(NV&&this.choiceList.element.contains(t)){var i=this.choiceList.element.firstElementChild;this._isScrollingOnIe=this._direction==="ltr"?e.offsetX>=i.offsetWidth:e.offsetX<i.offsetLeft}if(t!==this.input.element){var r=t.closest("[data-button],[data-item],[data-choice]");if(r instanceof HTMLElement){var o=e.shiftKey,s=r.dataset;"button"in s?this._handleButtonAction(r):"item"in s?this._handleItemAction(r,o):"choice"in s&&this._handleChoiceAction(r)}e.preventDefault()}}},n.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},n.prototype._onClick=function(e){var t=e.target,i=this.containerOuter,r=i.element.contains(t);if(r)!this.dropdown.isActive&&!this.containerOuter.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),i.element.focus()):this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown();else{var o=!!this._store.highlightedActiveItems.length;o&&this.unhighlightAll(),i.removeFocusState(),this.hideDropdown(!0)}},n.prototype._onFocus=function(e){var t,i=this,r=e.target,o=this.containerOuter,s=r&&o.element.contains(r);if(s){var c=r===this.input.element,u=(t={},t[e_]=function(){c&&o.addFocusState()},t[Wo]=function(){o.addFocusState(),c&&i.showDropdown(!0)},t[Fl]=function(){c&&(i.showDropdown(!0),o.addFocusState())},t);u[this._elementType]()}},n.prototype._onBlur=function(e){var t,i=this,r=e.target,o=this.containerOuter,s=r&&o.element.contains(r);if(s&&!this._isScrollingOnIe){var c=this._store.activeChoices,u=c.some(function(b){return b.highlighted}),d=r===this.input.element,m=(t={},t[e_]=function(){d&&(o.removeFocusState(),u&&i.unhighlightAll(),i.hideDropdown(!0))},t[Wo]=function(){o.removeFocusState(),(d||r===o.element&&!i._canSearch)&&i.hideDropdown(!0)},t[Fl]=function(){d&&(o.removeFocusState(),i.hideDropdown(!0),u&&i.unhighlightAll())},t);m[this._elementType]()}else this._isScrollingOnIe=!1,this.input.element.focus()},n.prototype._onFormReset=function(){var e=this;this._store.withTxn(function(){e.clearInput(),e.hideDropdown(),e.refresh(!1,!1,!0),e._initialItems.length&&e.setChoiceByValue(e._initialItems)})},n.prototype._highlightChoice=function(e){var t;e===void 0&&(e=null);var i=this.config.classNames.highlightedState,r=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(r.length){var o=e,s=Array.from(this.dropdown.element.querySelectorAll(rf(i)));s.forEach(function(c){var u;(u=c.classList).remove.apply(u,oe(i)),c.setAttribute("aria-selected","false")}),o?this._highlightPosition=r.indexOf(o):(r.length>this._highlightPosition?o=r[this._highlightPosition]:o=r[r.length-1],o||(o=r[0])),(t=o.classList).add.apply(t,oe(i)),o.setAttribute("aria-selected","true"),this.passedElement.triggerEvent("highlightChoice",{el:o}),this.dropdown.isActive&&(this.input.setActiveDescendant(o.id),this.containerOuter.setActiveDescendant(o.id))}},n.prototype._addItem=function(e,t,i){t===void 0&&(t=!0),i===void 0&&(i=!1);var r=e.id;if(!r)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(r),this._store.dispatch(TL(e)),t&&(this.passedElement.triggerEvent("addItem",this._getChoiceForOutput(e)),i&&this.passedElement.triggerEvent("choice",this._getChoiceForOutput(e)))},n.prototype._removeItem=function(e){var t=e.id;t&&(this._store.dispatch(AL(e)),this.passedElement.triggerEvent("removeItem",this._getChoiceForOutput(e)))},n.prototype._addChoice=function(e,t,i){if(t===void 0&&(t=!0),i===void 0&&(i=!1),e.id)throw new TypeError("Can not re-add a choice which has already been added");this._lastAddedChoiceId++,e.id=this._lastAddedChoiceId,e.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(e.id);var r=this.config,o=r.prependValue,s=r.appendValue;o&&(e.value=o+e.value),s&&(e.value+=s.toString()),(o||s)&&e.element&&(e.element.value=e.value),this._store.dispatch(bL(e)),e.selected&&this._addItem(e,t,i)},n.prototype._addGroup=function(e,t){var i=this;if(t===void 0&&(t=!0),e.id)throw new TypeError("Can not re-add a group which has already been added");if(this._store.dispatch(EL(e)),!!e.choices){var r=e;this._lastAddedGroupId++,r.id=this._lastAddedGroupId;var o=e.id,s=e.choices;r.choices=[],s.forEach(function(c){c.groupId=o,e.disabled&&(c.disabled=!0),i._addChoice(c,t)})}},n.prototype._createTemplates=function(){var e=this,t=this.config.callbackOnCreateTemplates,i={};t&&typeof t=="function"&&(i=t.call(this,RL,wx));var r={};Object.keys(this._templates).forEach(function(o){o in i?r[o]=i[o].bind(e):r[o]=e._templates[o].bind(e)}),this._templates=r},n.prototype._createElements=function(){var e=this._templates,t=this.config,i=t.position,r=t.classNames,o=this._elementType;this.containerOuter=new cx({element:e.containerOuter(t,this._direction,this._isSelectElement,this._isSelectOneElement,t.searchEnabled,o,t.labelId),classNames:r,type:o,position:i}),this.containerInner=new cx({element:e.containerInner(t),classNames:r,type:o,position:i}),this.input=new UL({element:e.input(t,this._placeholderValue),classNames:r,type:o,preventPaste:!t.paste}),this.choiceList=new lx({element:e.choiceList(t,this._isSelectOneElement)}),this.itemList=new lx({element:e.itemList(t,this._isSelectOneElement)}),this.dropdown=new LL({element:e.dropdown(t),classNames:r,type:o})},n.prototype._createStructure=function(){var e=this,t=e.containerInner,i=e.containerOuter,r=e.passedElement,o=e.dropdown,s=e.input;r.conceal(),t.wrap(r.element),i.wrap(t.element),this._isSelectOneElement?s.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(s.placeholder=this._placeholderValue),s.setWidth()),i.element.appendChild(t.element),i.element.appendChild(o.element),t.element.appendChild(this.itemList.element),o.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&o.element.insertBefore(s.element,o.element.firstChild):t.element.appendChild(s.element),this._highlightPosition=0,this._isSearching=!1},n.prototype._initStore=function(){var e=this;this._store.subscribe(this._render),this._store.withTxn(function(){e._addPredefinedChoices(e._presetChoices,e._isSelectOneElement&&!e._hasNonChoicePlaceholder,!1)}),this._isSelectOneElement&&this._hasNonChoicePlaceholder&&this._render({choices:!1,groups:!1,items:!0})},n.prototype._addPredefinedChoices=function(e,t,i){var r=this;if(t===void 0&&(t=!1),i===void 0&&(i=!0),t){var o=e.findIndex(function(s){return s.selected})===-1;o&&e.some(function(s){return s.disabled||"choices"in s?!1:(s.selected=!0,!0)})}e.forEach(function(s){"choices"in s?r._isSelectElement&&r._addGroup(s,i):r._addChoice(s,i)})},n.prototype._findAndSelectChoiceByValue=function(e,t){var i=this;t===void 0&&(t=!1);var r=this._store.choices,o=r.find(function(s){return i.config.valueComparer(s.value,e)});return o&&!o.disabled&&!o.selected?(this._addItem(o,!0,t),!0):!1},n.prototype._generatePlaceholderValue=function(){var e=this.config;if(!e.placeholder)return null;if(this._hasNonChoicePlaceholder)return e.placeholderValue;if(this._isSelectElement){var t=this.passedElement.placeholderOption;return t?t.text:null}return null},n.prototype._warnChoicesInitFailed=function(e){if(!this.config.silent)if(this.initialised){if(!this.initialisedOK)throw new TypeError("".concat(e," called for an element which has multiple instances of Choices initialised on it"))}else throw new TypeError("".concat(e," called on a non-initialised instance of Choices"))},n.version="11.0.0-rc8",n}();var Px=(()=>{class n{firestore;constructor(t){this.firestore=t}createEvent(t){return I(this,null,function*(){let i=yield hl(ar(this.firestore,"events"),t);return yield hl(ar(this.firestore,"user_events"),{userId:t.ownerId,eventId:i.id}),i.id})}updateEvent(t){return I(this,null,function*(){let i=hn(this.firestore,"events",t.id);yield Uh(i,B({},t))})}deleteEvent(t){return I(this,null,function*(){yield jo(hn(this.firestore,"events",t));let i=ca(ar(this.firestore,"user_events"),ml("eventId","==",t));(yield yb(i)).forEach(o=>I(this,null,function*(){yield jo(o.ref)}))})}getEvent(t){return I(this,null,function*(){let i=yield fl(hn(this.firestore,"events",t));return i.exists()?B({id:i.id},i.data()):null})}getUserEvents(t){return I(this,null,function*(){let i=ca(ar(this.firestore,"user_events"),ml("userId","==",t)),r=yield yb(i),o=[];for(let s of r.docs){let c=s.data().eventId,u=yield this.getEvent(c);u&&o.push(u)}return o})}static \u0275fac=function(i){return new(i||n)(X(sn))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var VV=n=>({"hidden md:block":n}),UV=()=>["Temel Bilgiler","Etkinlik Detaylar\u0131","Gizlilik Ayarlar\u0131","Eri\u015Fim"],jV=(n,e)=>({"bg-blue-500 text-white":n,"bg-gray-200 text-gray-600":e}),BV=(n,e)=>({"text-blue-500 font-semibold":n,"text-gray-500":e}),_a=n=>({"border-red-500":n}),zV=n=>({"opacity-50 cursor-not-allowed":n});function $V(n,e){n&1&&Pe(0,"div",33)}function qV(n,e){if(n&1){let t=bt();U(0,"div",27)(1,"div",28),be("click",function(){let r=Se(t).$implicit,o=Ie();return ke(o.editEvent(r))}),U(2,"span",29),ie(3),j(),Xt(),U(4,"svg",30),be("click",function(){let r=Se(t).$implicit,o=Ie();return ke(o.deleteEvent(r))}),Pe(5,"path",31),j()(),Ge(6,$V,1,0,"div",32),j()}if(n&2){let t=e.$implicit,i=e.last;K(3),Gi(t.name),K(3),ee("ngIf",!i)}}function HV(n,e){n&1&&(U(0,"p",34),ie(1,"Hen\xFCz etkinlik bulunmamaktad\u0131r."),j())}function GV(n,e){if(n&1){let t=bt();U(0,"div",35),be("click",function(){let r=Se(t).index,o=Ie();return ke(o.setStep(r))}),U(1,"div",36),ie(2),j(),U(3,"span",37),ie(4),j()()}if(n&2){let t=e.$implicit,i=e.index,r=Ie();K(),ee("ngClass",Jf(4,jV,r.currentStep===i,r.currentStep!==i)),K(),pi(" ",i+1," "),K(),ee("ngClass",Jf(7,BV,r.currentStep===i,r.currentStep!==i)),K(),pi(" ",t," ")}}function WV(n,e){n&1&&(U(0,"span",46),ie(1,"Zorunlu alan."),j())}function KV(n,e){if(n&1&&(U(0,"option",47),ie(1),j()),n&2){let t=e.$implicit;ee("value",t),K(),Gi(t)}}function QV(n,e){n&1&&(U(0,"span",46),ie(1,"Zorunlu alan."),j())}function YV(n,e){n&1&&(U(0,"span",46),ie(1,"Zorunlu alan."),j())}function JV(n,e){if(n&1){let t=bt();U(0,"div",38)(1,"label",48),ie(2,"Gelin Ad\u0131 * "),Ge(3,YV,2,0,"span",40),j(),U(4,"input",49),rn("ngModelChange",function(r){Se(t);let o=Ie(2);return nn(o.currentEvent.brideName,r)||(o.currentEvent.brideName=r),ke(r)}),j()()}if(n&2){let t=Ie(2);K(3),ee("ngIf",t.showValidationErrors&&!t.currentEvent.brideName),K(),tn("ngModel",t.currentEvent.brideName),ee("ngClass",Wi(3,_a,t.showValidationErrors&&!t.currentEvent.brideName))}}function XV(n,e){n&1&&(U(0,"span",46),ie(1,"Zorunlu alan."),j())}function ZV(n,e){if(n&1){let t=bt();U(0,"div",38)(1,"label",50),ie(2,"Damat Ad\u0131 * "),Ge(3,XV,2,0,"span",40),j(),U(4,"input",51),rn("ngModelChange",function(r){Se(t);let o=Ie(2);return nn(o.currentEvent.groomName,r)||(o.currentEvent.groomName=r),ke(r)}),j()()}if(n&2){let t=Ie(2);K(3),ee("ngIf",t.showValidationErrors&&!t.currentEvent.groomName),K(),tn("ngModel",t.currentEvent.groomName),ee("ngClass",Wi(3,_a,t.showValidationErrors&&!t.currentEvent.groomName))}}function eU(n,e){if(n&1){let t=bt();U(0,"div")(1,"div",38)(2,"label",39),ie(3,"Etkinlik T\xFCr\xFC Se\xE7iniz * "),Ge(4,WV,2,0,"span",40),j(),U(5,"select",41),rn("ngModelChange",function(r){Se(t);let o=Ie();return nn(o.currentEvent.eventType,r)||(o.currentEvent.eventType=r),ke(r)}),be("change",function(){Se(t);let r=Ie();return ke(r.onEventTypeChange())}),Ge(6,KV,2,2,"option",42),j()(),U(7,"div",38)(8,"label",43),ie(9,"Etkinlik Ad\u0131 * "),Ge(10,QV,2,0,"span",40),j(),U(11,"input",44),rn("ngModelChange",function(r){Se(t);let o=Ie();return nn(o.currentEvent.name,r)||(o.currentEvent.name=r),ke(r)}),j()(),Ge(12,JV,5,5,"div",45)(13,ZV,5,5,"div",45),j()}if(n&2){let t=Ie();K(4),ee("ngIf",t.showValidationErrors&&!t.currentEvent.eventType),K(),tn("ngModel",t.currentEvent.eventType),ee("ngClass",Wi(9,_a,t.showValidationErrors&&!t.currentEvent.eventType)),K(),ee("ngForOf",t.eventTypes),K(4),ee("ngIf",t.showValidationErrors&&!t.currentEvent.name),K(),tn("ngModel",t.currentEvent.name),ee("ngClass",Wi(11,_a,t.showValidationErrors&&!t.currentEvent.name)),K(),ee("ngIf",t.showBrideGroomNames),K(),ee("ngIf",t.showBrideGroomNames)}}function tU(n,e){n&1&&(U(0,"span",46),ie(1,"Zorunlu alan."),j())}function nU(n,e){n&1&&(U(0,"span",46),ie(1,"Zorunlu alan."),j())}function iU(n,e){if(n&1){let t=bt();U(0,"div")(1,"div",38)(2,"label",52),ie(3,"Ba\u015Flang\u0131\xE7 Tarihi ve Saati * "),Ge(4,tU,2,0,"span",40),j(),U(5,"input",53),rn("ngModelChange",function(r){Se(t);let o=Ie();return nn(o.currentEvent.startDateTime,r)||(o.currentEvent.startDateTime=r),ke(r)}),j()(),U(6,"div",38)(7,"label",54),ie(8,"Biti\u015F Tarihi ve Saati * "),Ge(9,nU,2,0,"span",40),j(),U(10,"input",55),rn("ngModelChange",function(r){Se(t);let o=Ie();return nn(o.currentEvent.endDateTime,r)||(o.currentEvent.endDateTime=r),ke(r)}),j()(),U(11,"div",38)(12,"label",56),ie(13,"Misafirlerinize bir not b\u0131rak\u0131n!"),j(),U(14,"textarea",57),rn("ngModelChange",function(r){Se(t);let o=Ie();return nn(o.currentEvent.description,r)||(o.currentEvent.description=r),ke(r)}),j()()()}if(n&2){let t=Ie();K(4),ee("ngIf",t.showValidationErrors&&!t.currentEvent.startDateTime),K(),tn("ngModel",t.currentEvent.startDateTime),ee("ngClass",Wi(7,_a,t.showValidationErrors&&!t.currentEvent.startDateTime)),K(4),ee("ngIf",t.showValidationErrors&&!t.currentEvent.endDateTime),K(),tn("ngModel",t.currentEvent.endDateTime),ee("ngClass",Wi(9,_a,t.showValidationErrors&&!t.currentEvent.endDateTime)),K(4),tn("ngModel",t.currentEvent.description)}}function rU(n,e){if(n&1){let t=bt();U(0,"div")(1,"div",58)(2,"input",59),rn("ngModelChange",function(r){Se(t);let o=Ie();return nn(o.currentEvent.hideEventName,r)||(o.currentEvent.hideEventName=r),ke(r)}),j(),U(3,"label",60),ie(4,"Etkinlik ad\u0131n\u0131 g\xF6sterme."),j()(),U(5,"div",58)(6,"input",61),rn("ngModelChange",function(r){Se(t);let o=Ie();return nn(o.currentEvent.qrOnly,r)||(o.currentEvent.qrOnly=r),ke(r)}),j(),U(7,"label",62),ie(8,"Etkinli\u011Fe sadece QR ile eri\u015Fim sa\u011Flanabilsin."),j()()()}if(n&2){let t=Ie();K(2),tn("ngModel",t.currentEvent.hideEventName),K(4),tn("ngModel",t.currentEvent.qrOnly)}}function oU(n,e){if(n&1&&(U(0,"div")(1,"div",63),Pe(2,"img",64),j(),U(3,"p",65),ie(4,"Bu QR kodu kat\u0131l\u0131mc\u0131lar\u0131n\u0131zla payla\u015F\u0131n. Etkinli\u011Finize kolay eri\u015Fim sa\u011Flar."),j()()),n&2){let t=Ie();K(2),ee("src",t.getQRCodeUrl(),Ou)}}function sU(n,e){if(n&1){let t=bt();U(0,"button",66),be("click",function(){Se(t);let r=Ie();return ke(r.prevStep())}),ie(1," Geri "),j()}}function aU(n,e){if(n&1){let t=bt();U(0,"button",67),be("click",function(){Se(t);let r=Ie();return ke(r.nextStep())}),ie(1," \u0130leri "),j()}if(n&2){let t=Ie();ee("disabled",!t.canProceed())("ngClass",Wi(2,zV,!t.canProceed()))}}function cU(n,e){if(n&1){let t=bt();U(0,"button",68),be("click",function(){Se(t);let r=Ie();return ke(r.saveEventSettings())}),ie(1),j()}if(n&2){let t=Ie();ee("disabled",t.isSubmitting),K(),pi(" ",t.isEditing?"G\xFCncelle":"Olu\u015Ftur"," ")}}var Ox=(()=>{class n{authService;firestoreService;router;eventTypes=["D\xFC\u011F\xFCn Etkinlikleri","Do\u011Fum G\xFCn\xFC","Lansman","Festival","Fuar","Kurumsal Etkinlikler"];userEvents=[];currentEvent=this.initializeNewEvent();showBrideGroomNames=!1;currentStep=0;isSubmitting=!1;isEditing=!1;showValidationErrors=!1;showEventList=!1;constructor(t,i,r){this.authService=t,this.firestoreService=i,this.router=r}ngOnInit(){this.loadUserEvents()}loadUserEvents(){this.authService.getCurrentUser().subscribe(t=>{t&&this.firestoreService.getUserEvents(t.id).then(i=>{this.userEvents=i})})}createNewEvent(){this.currentEvent=this.initializeNewEvent(),this.showBrideGroomNames=!1,this.currentStep=0,this.isEditing=!1,this.showValidationErrors=!1}editEvent(t){this.currentEvent=B({},t),this.showBrideGroomNames=t.eventType==="D\xFC\u011F\xFCn Etkinlikleri",this.currentStep=0,this.isEditing=!0,this.showValidationErrors=!1}deleteEvent(t){confirm("Bu etkinli\u011Fi silmek istedi\u011Finizden emin misiniz?")&&this.firestoreService.deleteEvent(t.id).then(()=>{this.loadUserEvents(),alert("Etkinlik ba\u015Far\u0131yla silindi!")}).catch(i=>{console.error("Etkinlik silinirken hata olu\u015Ftu:",i),alert("Etkinlik silinirken bir hata olu\u015Ftu. L\xFCtfen tekrar deneyin.")})}initializeNewEvent(){return{name:"",eventType:"",brideName:"",groomName:"",startDateTime:this.formatDateTimeForInput(new Date),endDateTime:this.formatDateTimeForInput(new Date(Date.now()+36e5)),eventCode:this.generateUniqueEventCode(),description:"",hideEventName:!1,qrOnly:!1}}ngAfterViewInit(){setTimeout(()=>{let t=document.getElementById("choices-eventType");t&&new Dx(t,{searchEnabled:!1,itemSelectText:"",shouldSort:!1})},0)}onEventTypeChange(){this.showBrideGroomNames=this.currentEvent.eventType==="D\xFC\u011F\xFCn Etkinlikleri"}generateUniqueEventCode(){return Math.random().toString(36).substring(2,8).toUpperCase()}saveEventSettings(){this.isSubmitting||(this.isEditing?this.showConfirmationDialog():this.performSaveOperation())}showConfirmationDialog(){jl.default.fire({title:"De\u011Fi\u015Fiklikleri kaydetmek istiyor musunuz?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Kaydet",denyButtonText:"Kaydetme",cancelButtonText:"\u0130ptal"}).then(t=>{t.isConfirmed?this.performSaveOperation():t.isDenied&&jl.default.fire("De\u011Fi\u015Fiklikler kaydedilmedi","","info")})}performSaveOperation(){this.isSubmitting=!0,this.authService.getCurrentUser().subscribe(t=>{if(t){let i=Ee(B({},this.currentEvent),{ownerId:t.id});(this.isEditing?this.firestoreService.updateEvent(i):this.firestoreService.createEvent(i)).then(()=>{this.loadUserEvents(),this.isSubmitting=!1,this.showSuccessMessage(),this.isEditing||this.createNewEvent()}).catch(o=>{console.error("Etkinlik kaydedilirken hata olu\u015Ftu:",o),jl.default.fire({icon:"error",title:"Hata!",text:"Etkinlik kaydedilirken bir hata olu\u015Ftu. L\xFCtfen tekrar deneyin."}),this.isSubmitting=!1})}})}setStep(t){this.canProceed()||t<this.currentStep?(this.currentStep=t,this.showValidationErrors=!1):this.showValidationErrors=!0}getQRCodeUrl(){let t=this.currentEvent.eventCode||"",r=`${window.location.origin}/event/${t}`;return`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(r)}`}nextStep(){this.canProceed()?(this.currentStep++,this.showValidationErrors=!1):this.showValidationErrors=!0}prevStep(){this.currentStep>0&&(this.currentStep--,this.showValidationErrors=!1)}canProceed(){switch(this.currentStep){case 0:return!!this.currentEvent.eventType&&!!this.currentEvent.name&&(!this.showBrideGroomNames||!!this.currentEvent.brideName&&!!this.currentEvent.groomName);case 1:return!!this.currentEvent.startDateTime&&!!this.currentEvent.endDateTime;default:return!0}}showSuccessMessage(){jl.default.fire({icon:"success",title:"Ba\u015Far\u0131l\u0131!",text:this.isEditing?"Etkinlik ba\u015Far\u0131yla g\xFCncellendi!":"Yeni etkinlik ba\u015Far\u0131yla olu\u015Fturuldu!",confirmButtonText:"Tamam"})}toggleEventList(){this.showEventList=!this.showEventList}formatDateTimeForInput(t){return t.toISOString().slice(0,16)}static \u0275fac=function(i){return new(i||n)(Z(Nn),Z(Px),Z(jt))};static \u0275cmp=dt({type:n,selectors:[["app-event"]],standalone:!0,features:[ft],decls:32,vars:17,consts:[[1,"min-h-screen","bg-gradient-to-r","from-blue-100","to-pink-100","p-4","md:p-6","flex","items-center","justify-center"],[1,"w-full","max-w-7xl","bg-white","rounded-xl","shadow-md","overflow-hidden"],[1,"flex","flex-col","md:flex-row"],[1,"w-full","md:w-1/3","bg-gray-50","p-4","md:p-6","border-b","md:border-r","border-gray-200"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","md:text-2xl","font-semibold","text-gray-800"],[1,"bg-blue-500","text-white","p-2","rounded-full","hover:bg-blue-600","transition","duration-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"md:hidden"],[1,"w-full","bg-gray-200","text-gray-700","py-2","px-4","rounded-lg","mb-4","hover:bg-gray-300","transition","duration-300",3,"click"],[1,"overflow-y-auto","max-h-[300px]","md:max-h-screen",3,"ngClass"],["class","mb-2",4,"ngFor","ngForOf"],["class","text-gray-500 text-center mt-4",4,"ngIf"],[1,"w-full","md:w-2/3","p-4","md:p-6"],[1,"mb-8"],[1,"flex","justify-between"],["class","flex flex-col items-center cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"w-full","bg-gray-200","h-1","mt-4"],[1,"bg-blue-500","h-1","transition-all","duration-300"],[1,"min-h-[400px]"],[4,"ngIf"],[1,"flex","justify-between","mt-6"],["class","bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l",3,"click",4,"ngIf"],[1,"flex-grow"],["class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-r",3,"disabled","ngClass","click",4,"ngIf"],["class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-r",3,"disabled","click",4,"ngIf"],[1,"mb-2"],[1,"bg-transparent","hover:bg-white/50","p-2","rounded-lg","transition","duration-300","ease-in-out","cursor-pointer","flex","justify-between","items-center",3,"click"],[1,"text-sm","text-gray-700"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-500","cursor-pointer",3,"click"],["fill-rule","evenodd","d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule","evenodd"],["class","border-b border-gray-200 my-1",4,"ngIf"],[1,"border-b","border-gray-200","my-1"],[1,"text-gray-500","text-center","mt-4"],[1,"flex","flex-col","items-center","cursor-pointer",3,"click"],[1,"w-6","h-6","md:w-8","md:h-8","rounded-full","flex","items-center","justify-center","mb-2","transition","duration-300",3,"ngClass"],[1,"text-xs","md:text-sm","text-center",3,"ngClass"],[1,"mb-4"],["for","eventType",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["class","text-red-500 text-xs italic",4,"ngIf"],["id","eventType","required","",1,"mt-1","block","w-full","pl-3","pr-10","py-2","text-base","border-gray-300","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm","rounded-md",3,"ngModelChange","change","ngModel","ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","eventName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","eventName","required","",1,"mt-1","focus:ring-blue-500","focus:border-blue-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel","ngClass"],["class","mb-4",4,"ngIf"],[1,"text-red-500","text-xs","italic"],[3,"value"],["for","brideName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","brideName","required","",1,"mt-1","focus:ring-blue-500","focus:border-blue-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel","ngClass"],["for","groomName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","groomName","required","",1,"mt-1","focus:ring-blue-500","focus:border-blue-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel","ngClass"],["for","startDateTime",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","datetime-local","id","startDateTime","required","",1,"mt-1","focus:ring-blue-500","focus:border-blue-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel","ngClass"],["for","endDateTime",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","datetime-local","id","endDateTime","required","",1,"mt-1","focus:ring-blue-500","focus:border-blue-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel","ngClass"],["for","description",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","description","rows","3",1,"mt-1","focus:ring-blue-500","focus:border-blue-500","block","w-full","shadow-sm","sm:text-sm","border-gray-300","rounded-md",3,"ngModelChange","ngModel"],[1,"mb-4","flex","items-center"],["type","checkbox","id","hideEventName",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded",3,"ngModelChange","ngModel"],["for","hideEventName",1,"ml-2","block","text-sm","text-gray-900"],["type","checkbox","id","qrOnly",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded",3,"ngModelChange","ngModel"],["for","qrOnly",1,"ml-2","block","text-sm","text-gray-900"],[1,"flex","items-center","justify-center","bg-white","p-4","rounded-lg","shadow-md","w-48","h-48","mx-auto","mb-4"],["alt","QR Code",1,"w-full","h-full","object-contain",3,"src"],[1,"text-sm","text-gray-600","text-center"],[1,"bg-gray-300","hover:bg-gray-400","text-gray-800","font-bold","py-2","px-4","rounded-l",3,"click"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded-r",3,"click","disabled","ngClass"],[1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded-r",3,"click","disabled"]],template:function(i,r){i&1&&(U(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),ie(6,"Etkinlikleriniz"),j(),U(7,"button",6),be("click",function(){return r.createNewEvent()}),Xt(),U(8,"svg",7),Pe(9,"path",8),j()()(),Dn(),U(10,"div",9)(11,"button",10),be("click",function(){return r.toggleEventList()}),ie(12),j()(),U(13,"div",11),Ge(14,qV,7,2,"div",12)(15,HV,2,0,"p",13),j()(),U(16,"div",14)(17,"div",15)(18,"div",16),Ge(19,GV,5,10,"div",17),j(),U(20,"div",18),Pe(21,"div",19),j()(),U(22,"div",20),Ge(23,eU,14,13,"div",21)(24,iU,15,11,"div",21)(25,rU,9,2,"div",21)(26,oU,5,1,"div",21),j(),U(27,"div",22),Ge(28,sU,2,0,"button",23),Pe(29,"div",24),Ge(30,aU,2,4,"button",25)(31,cU,2,2,"button",26),j()()()()()),i&2&&(K(12),pi(" ",r.userEvents.length>1?"Etkinliklerinizi g\xF6rmek i\xE7in t\u0131klay\u0131n!":"Etkinli\u011Finizi g\xF6rmek i\xE7in t\u0131klay\u0131n!"," "),K(),ee("ngClass",Wi(14,VV,!r.showEventList)),K(),ee("ngForOf",r.userEvents),K(),ee("ngIf",r.userEvents.length===0),K(4),ee("ngForOf",xy(16,UV)),K(2),vs("width",(r.currentStep+1)/4*100+"%"),K(2),ee("ngIf",r.currentStep===0),K(),ee("ngIf",r.currentStep===1),K(),ee("ngIf",r.currentStep===2),K(),ee("ngIf",r.currentStep===3),K(2),ee("ngIf",r.currentStep>0),K(2),ee("ngIf",r.currentStep<3),K(),ee("ngIf",r.currentStep===3))},dependencies:[on,My,ju,ws,nf,TA,xA,ga,kl,tf,Zh,Pl,Dl],encapsulation:2})}return n})();var df=(()=>{class n{authService;router;constructor(t,i){this.authService=t,this.router=i}canActivate(){return this.authService.getCurrentUser().pipe(ln(1),he(t=>t?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(i){return new(i||n)(X(Nn),X(jt))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Mx=(()=>{class n{authService;router;constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.getCurrentUser().pipe(ln(1),he(r=>r?this.router.createUrlTree(["/home"]):!0))}static \u0275fac=function(i){return new(i||n)(X(Nn),X(jt))};static \u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nx=[{path:"",redirectTo:"/home"},{path:"login",component:ix,canActivate:[Mx]},{path:"home",component:JT,canActivate:[df]},{path:"gallery",component:ZT,canActivate:[df]},{path:"manage",component:Ox,canActivate:[df]}];var lU=(()=>{let e=class e extends zu{constructor(i,r,o){super(i,r,o)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(X(mt),X(tc),X(Bu))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let n=e;return n})();function uU(){return new Uy}function dU(n,e,t){return new By(n,e,t)}var Fx=[{provide:Bu,useFactory:uU},{provide:zu,useClass:lU},{provide:ms,useFactory:dU,deps:[Es,zu,Re]}],hU=[{provide:tc,useFactory:()=>new jy},{provide:Wn,useValue:"BrowserAnimations"},...Fx],oG=[{provide:tc,useClass:Vy},{provide:Wn,useValue:"NoopAnimations"},...Fx];function Lx(){return gs("NgEagerAnimations"),[...hU]}var hf={production:!1,firebase:{apiKey:"AIzaSyDontp8yT9WJbk_zh3U1WRMq06pLhdk2WQ",authDomain:"tatlitelas-co.firebaseapp.com",projectId:"tatlitelas-co",storageBucket:"tatlitelas-co.appspot.com",messagingSenderId:"737731170043",appId:"1:737731170043:web:ed49285524c7fe62e16a5e",measurementId:"G-HWW5PVH5H5"}};var fU="@",mU=(()=>{let e=class e{constructor(i,r,o,s,c){this.doc=i,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=te(Iy,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-F2JQCOFS.js").then(r=>r)).catch(r=>{throw new Je(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(i,r){let o=this.delegate.createRenderer(i,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new __(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let u=c.createRenderer(i,r);s.use(u),this.scheduler?.notify(9)}).catch(c=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Mu()},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let n=e;return n})(),__=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,r){this.delegate.insertBefore(e,t,i,r)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(r=>r.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(fU)}};function Vx(n="animations"){return gs("NgAsyncAnimations"),Jt([{provide:ms,useFactory:(e,t,i)=>new mU(e,t,i,n),deps:[mt,Es,Re]},{provide:Wn,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ux={providers:[jw(Nx),ow(),Lx(),u0(()=>d0(hf.firebase)),sI(()=>cI()),mT(()=>gT()),HT(()=>WT()),Vx()]};var jx=(()=>{class n{title="tatlitelas";static \u0275fac=function(i){return new(i||n)};static \u0275cmp=dt({type:n,selectors:[["app-root"]],standalone:!0,features:[ft],decls:1,vars:0,template:function(i,r){i&1&&Pe(0,"router-outlet")},dependencies:[Hm]})}return n})();var $x="@firebase/installations",E_="0.6.8";var qx=1e4,Hx=`w:${E_}`,Gx="FIS_v2",pU="https://firebaseinstallations.googleapis.com/v1",gU=60*60*1e3,vU="installations",bU="Installations";var _U={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qo=new wn(vU,bU,_U);function Wx(n){return n instanceof xt&&n.code.includes("request-failed")}function Kx({projectId:n}){return`${pU}/projects/${n}/installations`}function Qx(n){return{token:n.token,requestStatus:2,expiresIn:wU(n.expiresIn),creationTime:Date.now()}}function Yx(n,e){return I(this,null,function*(){let i=(yield e.json()).error;return Qo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})}function Jx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function yU(n,{refreshToken:e}){let t=Jx(n);return t.append("Authorization",IU(e)),t}function Xx(n){return I(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function wU(n){return Number(n.replace("s","000"))}function IU(n){return`${Gx} ${n}`}function EU(i,r){return I(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=Kx(n),s=Jx(n),c=e.getImmediate({optional:!0});if(c){let b=yield c.getHeartbeatsHeader();b&&s.append("x-firebase-client",b)}let u={fid:t,authVersion:Gx,appId:n.appId,sdkVersion:Hx},d={method:"POST",headers:s,body:JSON.stringify(u)},m=yield Xx(()=>fetch(o,d));if(m.ok){let b=yield m.json();return{fid:b.fid||t,registrationStatus:2,refreshToken:b.refreshToken,authToken:Qx(b.authToken)}}else throw yield Yx("Create Installation",m)})}function Zx(n){return new Promise(e=>{setTimeout(e,n)})}function TU(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var AU=/^[cdef][\w-]{21}$/,I_="";function xU(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=CU(n);return AU.test(t)?t:I_}catch{return I_}}function CU(n){return TU(n).substr(0,22)}function mf(n){return`${n.appName}!${n.appId}`}var eC=new Map;function tC(n,e){let t=mf(n);nC(t,e),SU(t,e)}function nC(n,e){let t=eC.get(n);if(t)for(let i of t)i(e)}function SU(n,e){let t=kU();t&&t.postMessage({key:n,fid:e}),RU()}var Ko=null;function kU(){return!Ko&&"BroadcastChannel"in self&&(Ko=new BroadcastChannel("[Firebase] FID Change"),Ko.onmessage=n=>{nC(n.data.key,n.data.fid)}),Ko}function RU(){eC.size===0&&Ko&&(Ko.close(),Ko=null)}var DU="firebase-installations-database",PU=1,Yo="firebase-installations-store",y_=null;function T_(){return y_||(y_=bd(DU,PU,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Yo)}}})),y_}function ff(n,e){return I(this,null,function*(){let t=mf(n),r=(yield T_()).transaction(Yo,"readwrite"),o=r.objectStore(Yo),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&tC(n,e.fid),e})}function iC(n){return I(this,null,function*(){let e=mf(n),i=(yield T_()).transaction(Yo,"readwrite");yield i.objectStore(Yo).delete(e),yield i.done})}function pf(n,e){return I(this,null,function*(){let t=mf(n),r=(yield T_()).transaction(Yo,"readwrite"),o=r.objectStore(Yo),s=yield o.get(t),c=e(s);return c===void 0?yield o.delete(t):yield o.put(c,t),yield r.done,c&&(!s||s.fid!==c.fid)&&tC(n,c.fid),c})}function A_(n){return I(this,null,function*(){let e,t=yield pf(n.appConfig,i=>{let r=OU(i),o=MU(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===I_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function OU(n){let e=n||{fid:xU(),registrationStatus:0};return rC(e)}function MU(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let r=Promise.reject(Qo.create("app-offline"));return{installationEntry:e,registrationPromise:r}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=NU(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FU(n)}:{installationEntry:e}}function NU(n,e){return I(this,null,function*(){try{let t=yield EU(n,e);return ff(n.appConfig,t)}catch(t){throw Wx(t)&&t.customData.serverCode===409?yield iC(n.appConfig):yield ff(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function FU(n){return I(this,null,function*(){let e=yield Bx(n.appConfig);for(;e.registrationStatus===1;)yield Zx(100),e=yield Bx(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:i}=yield A_(n);return i||t}return e})}function Bx(n){return pf(n,e=>{if(!e)throw Qo.create("installation-not-found");return rC(e)})}function rC(n){return LU(n)?{fid:n.fid,registrationStatus:0}:n}function LU(n){return n.registrationStatus===1&&n.registrationTime+qx<Date.now()}function VU(i,r){return I(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=UU(n,t),s=yU(n,t),c=e.getImmediate({optional:!0});if(c){let b=yield c.getHeartbeatsHeader();b&&s.append("x-firebase-client",b)}let u={installation:{sdkVersion:Hx,appId:n.appId}},d={method:"POST",headers:s,body:JSON.stringify(u)},m=yield Xx(()=>fetch(o,d));if(m.ok){let b=yield m.json();return Qx(b)}else throw yield Yx("Generate Auth Token",m)})}function UU(n,{fid:e}){return`${Kx(n)}/${e}/authTokens:generate`}function x_(n,e=!1){return I(this,null,function*(){let t,i=yield pf(n.appConfig,o=>{if(!oC(o))throw Qo.create("not-registered");let s=o.authToken;if(!e&&zU(s))return o;if(s.requestStatus===1)return t=jU(n,e),o;{if(!navigator.onLine)throw Qo.create("app-offline");let c=qU(o);return t=BU(n,c),c}});return t?yield t:i.authToken})}function jU(n,e){return I(this,null,function*(){let t=yield zx(n.appConfig);for(;t.authToken.requestStatus===1;)yield Zx(100),t=yield zx(n.appConfig);let i=t.authToken;return i.requestStatus===0?x_(n,e):i})}function zx(n){return pf(n,e=>{if(!oC(e))throw Qo.create("not-registered");let t=e.authToken;return HU(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function BU(n,e){return I(this,null,function*(){try{let t=yield VU(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield ff(n.appConfig,i),t}catch(t){if(Wx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield iC(n.appConfig);else{let i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ff(n.appConfig,i)}throw t}})}function oC(n){return n!==void 0&&n.registrationStatus===2}function zU(n){return n.requestStatus===2&&!$U(n)}function $U(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+gU}function qU(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function HU(n){return n.requestStatus===1&&n.requestTime+qx<Date.now()}function GU(n){return I(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:i}=yield A_(e);return i?i.catch(console.error):x_(e).catch(console.error),t.fid})}function WU(n,e=!1){return I(this,null,function*(){let t=n;return yield KU(t),(yield x_(t,e)).token})}function KU(n){return I(this,null,function*(){let{registrationPromise:e}=yield A_(n);e&&(yield e)})}function QU(n){if(!n||!n.options)throw w_("App Configuration");if(!n.name)throw w_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw w_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function w_(n){return Qo.create("missing-app-config-values",{valueName:n})}var sC="installations",YU="installations-internal",JU=n=>{let e=n.getProvider("app").getImmediate(),t=QU(e),i=In(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},XU=n=>{let e=n.getProvider("app").getImmediate(),t=In(e,sC).getImmediate();return{getId:()=>GU(t),getToken:r=>WU(t,r)}};function ZU(){Bt(new _t(sC,JU,"PUBLIC")),Bt(new _t(YU,XU,"PRIVATE"))}ZU();Ue($x,E_);Ue($x,E_,"esm2017");var gf="analytics",ej="firebase_id",tj="origin",nj=60*1e3,ij="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",O_="https://www.googletagmanager.com/gtag/js";var mn=new vi("@firebase/analytics");var rj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new wn("analytics","Analytics",rj);function oj(n){if(!n.startsWith(O_)){let e=xn.create("invalid-gtag-resource",{gtagURL:n});return mn.warn(e.message),""}return n}function fC(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function sj(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function aj(n,e){let t=sj("firebase-js-sdk-policy",{createScriptURL:oj}),i=document.createElement("script"),r=`${O_}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function cj(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function lj(n,e,t,i,r,o){return I(this,null,function*(){let s=i[r];try{if(s)yield e[s];else{let u=(yield fC(t)).find(d=>d.measurementId===r);u&&(yield e[u.appId])}}catch(c){mn.error(c)}n("config",r,o)})}function uj(n,e,t,i,r){return I(this,null,function*(){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);let c=yield fC(t);for(let u of s){let d=c.find(b=>b.measurementId===u),m=d&&e[d.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){mn.error(o)}})}function dj(n,e,t,i){function r(o,...s){return I(this,null,function*(){try{if(o==="event"){let[c,u]=s;yield uj(n,e,t,c,u)}else if(o==="config"){let[c,u]=s;yield lj(n,e,t,i,c,u)}else if(o==="consent"){let[c,u]=s;n("consent",c,u)}else if(o==="get"){let[c,u,d]=s;n("get",c,u,d)}else if(o==="set"){let[c]=s;n("set",c)}else n(o,...s)}catch(c){mn.error(c)}})}return r}function hj(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=dj(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}function fj(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(O_)&&t.src.includes(n))return t;return null}var mj=30,pj=1e3,S_=class{constructor(e={},t=pj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},mC=new S_;function gj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function vj(n){return I(this,null,function*(){var e;let{appId:t,apiKey:i}=n,r={method:"GET",headers:gj(i)},o=ij.replace("{app-id}",t),s=yield fetch(o,r);if(s.status!==200&&s.status!==304){let c="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(c=u.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c})}return s.json()})}function bj(i){return I(this,arguments,function*(n,e=mC,t){let{appId:r,apiKey:o,measurementId:s}=n.options;if(!r)throw xn.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:r};throw xn.create("no-api-key")}let c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new k_;return setTimeout(()=>I(this,null,function*(){u.abort()}),t!==void 0?t:nj),pC({appId:r,apiKey:o,measurementId:s},c,u,e)})}function pC(o,s,c){return I(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=mC){var u;let{appId:d,measurementId:m}=n;try{yield _j(i,e)}catch(b){if(m)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:d,measurementId:m};throw b}try{let b=yield vj(n);return r.deleteThrottleMetadata(d),b}catch(b){let y=b;if(!yj(y)){if(r.deleteThrottleMetadata(d),m)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:d,measurementId:m};throw b}let C=Number((u=y?.customData)===null||u===void 0?void 0:u.httpStatus)===503?op(t,r.intervalMillis,mj):op(t,r.intervalMillis),P={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return r.setThrottleMetadata(d,P),mn.debug(`Calling attemptFetch again in ${C} millis`),pC(n,P,i,r)}})}function _j(n,e){return new Promise((t,i)=>{let r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yj(n){if(!(n instanceof xt)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var k_=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var R_;function wj(n,e,t,i,r){return I(this,null,function*(){if(r&&r.global){n("event",t,i);return}else{let o=yield e,s=Object.assign(Object.assign({},i),{send_to:o});n("event",t,s)}})}var D_;function Ij(n){D_=n}function Ej(n){R_=n}function Tj(){return I(this,null,function*(){if(xc())try{yield pd()}catch(n){return mn.warn(xn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return mn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Aj(n,e,t,i,r,o,s){return I(this,null,function*(){var c;let u=bj(n);u.then(C=>{t[C.measurementId]=C.appId,n.options.measurementId&&C.measurementId!==n.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>mn.error(C)),e.push(u);let d=Tj().then(C=>{if(C)return i.getId()}),[m,b]=yield Promise.all([u,d]);fj(o)||aj(o,m.measurementId),D_&&(r("consent","default",D_),Ij(void 0)),r("js",new Date);let y=(c=s?.config)!==null&&c!==void 0?c:{};return y[tj]="firebase",y.update=!0,b!=null&&(y[ej]=b),r("config",m.measurementId,y),R_&&(r("set",R_),Ej(void 0)),m.measurementId})}var P_=class{constructor(e){this.app=e}_delete(){return delete Bl[this.app.options.appId],Promise.resolve()}},Bl={},aC=[],cC={},C_="dataLayer",xj="gtag",lC,gC,uC=!1;function Cj(){let n=[];if(md()&&n.push("This is a browser extension environment."),Kw()||n.push("Cookies are not available."),n.length>0){let e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=xn.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}function Sj(n,e,t){Cj();let i=n.options.appId;if(!i)throw xn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(Bl[i]!=null)throw xn.create("already-exists",{id:i});if(!uC){cj(C_);let{wrappedGtag:o,gtagCore:s}=hj(Bl,aC,cC,C_,xj);gC=o,lC=s,uC=!0}return Bl[i]=Aj(n,aC,cC,e,lC,C_,t),new P_(n)}function vC(n=Yn()){n=Ve(n);let e=In(n,gf);return e.isInitialized()?e.getImmediate():kj(n)}function kj(n,e={}){let t=In(n,gf);if(t.isInitialized()){let r=t.getImmediate();if(Ji(e,t.getOptions()))return r;throw xn.create("already-initialized")}return t.initialize({options:e})}function Rj(n,e,t,i){n=Ve(n),wj(gC,Bl[n.app.options.appId],e,t,i).catch(r=>mn.error(r))}var dC="@firebase/analytics",hC="0.10.7";function Dj(){Bt(new _t(gf,(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Sj(i,r,t)},"PUBLIC")),Bt(new _t("analytics-internal",n,"PRIVATE")),Ue(dC,hC),Ue(dC,hC,"esm2017");function n(e){try{let t=e.getProvider(gf).getImmediate();return{logEvent:(i,r,o)=>Rj(t,i,r,o)}}catch(t){throw xn.create("interop-component-reg-failed",{reason:t})}}}Dj();function M_(){iw(jx,Ux).catch(n=>console.error(n))}if(Is(en)){let n=Rc(hf.firebase),e=vC(n);document.readyState==="complete"?M_():document.addEventListener("DOMContentLoaded",M_)}else M_();
